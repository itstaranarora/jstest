(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();window.global||(window.global=window);var aE="Logging",sE=globalThis&&globalThis.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Yn=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Zn=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,s=n.length,o;a<s;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))},wl={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},wt;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"})(wt||(wt={}));var Ie=function(){function e(n,t){t===void 0&&(t=wt.WARN),this.name=n,this.level=t,this._pluggables=[]}return e.prototype._padding=function(n){return n<10?"0"+n:""+n},e.prototype._ts=function(){var n=new Date;return[this._padding(n.getMinutes()),this._padding(n.getSeconds())].join(":")+"."+n.getMilliseconds()},e.prototype.configure=function(n){return n?(this._config=n,this._config):this._config},e.prototype._log=function(n){for(var t,a,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var f=this.level;e.LOG_LEVEL&&(f=e.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(f=window.LOG_LEVEL);var l=wl[f],v=wl[n];if(v>=l){var u=console.log.bind(console);n===wt.ERROR&&console.error&&(u=console.error.bind(console)),n===wt.WARN&&console.warn&&(u=console.warn.bind(console));var h="[".concat(n,"] ").concat(this._ts()," ").concat(this.name),p="";if(s.length===1&&typeof s[0]=="string")p="".concat(h," - ").concat(s[0]),u(p);else if(s.length===1)p="".concat(h," ").concat(s[0]),u(h,s[0]);else if(typeof s[0]=="string"){var _=s.slice(1);_.length===1&&(_=_[0]),p="".concat(h," - ").concat(s[0]," ").concat(_),u("".concat(h," - ").concat(s[0]),_)}else p="".concat(h," ").concat(s),u(h,s);try{for(var w=sE(this._pluggables),E=w.next();!E.done;E=w.next()){var I=E.value,R={message:p,timestamp:Date.now()};I.pushLogs([R])}}catch(B){t={error:B}}finally{try{E&&!E.done&&(a=w.return)&&a.call(w)}finally{if(t)throw t.error}}}},e.prototype.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Zn([wt.INFO],Yn(n),!1))},e.prototype.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Zn([wt.INFO],Yn(n),!1))},e.prototype.warn=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Zn([wt.WARN],Yn(n),!1))},e.prototype.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Zn([wt.ERROR],Yn(n),!1))},e.prototype.debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Zn([wt.DEBUG],Yn(n),!1))},e.prototype.verbose=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Zn([wt.VERBOSE],Yn(n),!1))},e.prototype.addPluggable=function(n){n&&n.getCategoryName()===aE&&(this._pluggables.push(n),n.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),uE=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},vs=new Ie("Amplify"),cE=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=Ie,this.ServiceWorker=null}return e.prototype.register=function(n){vs.debug("component registered in amplify",n),this._components.push(n),typeof n.getModuleName=="function"?(this._modules[n.getModuleName()]=n,this[n.getModuleName()]=n):vs.debug("no getModuleName method for component",n),n.configure(this._config)},e.prototype.configure=function(n){var t=this;return n?(this._config=Object.assign(this._config,n),vs.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(a){var s=uE(a,2);s[0];var o=s[1];Object.keys(o).forEach(function(f){t._modules[f]&&(o[f]=t._modules[f])})}),this._components.map(function(a){a.configure(t._config)}),this._config):this._config},e.prototype.addPluggable=function(n){n&&n.getCategory&&typeof n.getCategory=="function"&&this._components.map(function(t){t.addPluggable&&typeof t.addPluggable=="function"&&t.addPluggable(n)})},e}(),Qr=new cE,me;(function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"})(me||(me={}));var fo;(function(e){e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"})(fo||(fo={}));var On;(function(e){e.Record="1",e.UpdateEndpoint="2"})(On||(On={}));var Sl;(function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"})(Sl||(Sl={}));var El;(function(e){e.FederatedSignIn="30"})(El||(El={}));var xl;(function(e){e.Subscribe="1",e.GraphQl="2"})(xl||(xl={}));var Al;(function(e){e.None="0"})(Al||(Al={}));var Il;(function(e){e.None="0"})(Il||(Il={}));var Tl;(function(e){e.None="0"})(Tl||(Tl={}));var Cl;(function(e){e.Convert="1",e.Identify="2",e.Interpret="3"})(Cl||(Cl={}));var Rl;(function(e){e.Subscribe="1"})(Rl||(Rl={}));var Dl;(function(e){e.None="0"})(Dl||(Dl={}));var Ol;(function(e){e.Put="1",e.Get="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6"})(Ol||(Ol={}));var Cg="5.3.11",Ao=function(){return typeof global<"u"},or=function(){return typeof window<"u"},Rg=function(){return typeof document<"u"},Au=function(){return typeof process<"u"},Wr=function(e,n){return!!Object.keys(e).find(function(t){return t.startsWith(n)})};function fE(){var e=function(a){return a.startsWith("_react")||a.startsWith("__react")},n=function(a){return Object.keys(a).find(e)},t=function(){return Array.from(document.querySelectorAll("[id]"))};return Rg()&&t().some(n)}function lE(){return Au()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(e){return e.includes("react")})}function dE(){return or()&&Wr(window,"__VUE")}function hE(){return Ao()&&Wr(global,"__VUE")}function vE(){return or()&&Wr(window,"__SVELTE")}function gE(){return Au()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(e){return e.includes("svelte")})}function pE(){return or()&&window.next&&typeof window.next=="object"}function yE(){return Ao()&&(Wr(global,"__next")||Wr(global,"__NEXT"))}function mE(){return or()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function _E(){return Ao()&&typeof global.__NUXT_PATHS__<"u"}function bE(){var e=!!(Rg()&&document.querySelector("[ng-version]")),n=!!(or()&&typeof window.ng<"u");return e||n}function wE(){var e;return Au()&&typeof process.env=="object"&&((e=process.env.npm_lifecycle_script)===null||e===void 0?void 0:e.startsWith("ng "))||!1}function SE(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function EE(){return Ao()&&typeof global.expo<"u"}function xE(){return or()}var AE=[{platform:me.Expo,detectionMethod:EE},{platform:me.ReactNative,detectionMethod:SE},{platform:me.NextJs,detectionMethod:pE},{platform:me.Nuxt,detectionMethod:mE},{platform:me.Angular,detectionMethod:bE},{platform:me.React,detectionMethod:fE},{platform:me.VueJs,detectionMethod:dE},{platform:me.Svelte,detectionMethod:vE},{platform:me.WebUnknown,detectionMethod:xE},{platform:me.NextJsSSR,detectionMethod:yE},{platform:me.NuxtSSR,detectionMethod:_E},{platform:me.ReactSSR,detectionMethod:lE},{platform:me.VueJsSSR,detectionMethod:hE},{platform:me.AngularSSR,detectionMethod:wE},{platform:me.SvelteSSR,detectionMethod:gE}];function IE(){var e;return((e=AE.find(function(n){return n.detectionMethod()}))===null||e===void 0?void 0:e.platform)||me.ServerSideUnknown}var Ur,co=[],lo=!1,TE=10,CE=10,RE=1e3,Iu=function(){if(!Ur){if(Ur=IE(),lo)for(;co.length;)co.pop()();else co.forEach(function(e){return e()});Ll(me.ServerSideUnknown,TE),Ll(me.WebUnknown,CE)}return Ur},Dg=function(e){lo||co.push(e)};function DE(){Ur=void 0}function Ll(e,n){Ur===e&&!lo&&setTimeout(function(){DE(),lo=!0,setTimeout(Iu,RE)},n)}var OE=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Og="aws-amplify";(function(){function e(){this.userAgent="".concat(Og,"/").concat(Cg)}return Object.defineProperty(e.prototype,"framework",{get:function(){return Iu()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReactNative",{get:function(){return this.framework===me.ReactNative||this.framework===me.Expo},enumerable:!1,configurable:!0}),e.prototype.observeFrameworkChanges=function(n){Dg(n)},e})();var Lg=function(e){var n=e===void 0?{}:e,t=n.category,a=n.action;n.framework;var s=[[Og,Cg]];return t&&s.push([t,a]),s.push(["framework",Iu()]),s},Io=function(e){var n=Lg(e),t=n.map(function(a){var s=OE(a,2),o=s[0],f=s[1];return"".concat(o,"/").concat(f)}).join(" ");return t},Us=new Ie("ClientDevice_Browser");function LE(){return typeof window>"u"?{}:PE()}function PE(){if(typeof window>"u")return Us.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return Us.warn("No navigator object available to get browser client info"),{};var n=e.platform,t=e.product,a=e.vendor,s=e.userAgent,o=e.language,f=BE(s),l=kE();return{platform:n,make:t||a,model:f.type,version:f.version,appVersion:[f.type,f.version].join("/"),language:o,timezone:l}}function ME(){return typeof window>"u"?(Us.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}}function kE(){var e=/\(([A-Za-z\s].*)\)/.exec(new Date().toString());return e&&e[1]||""}function BE(e){var n=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var t=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var a=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(a)return{type:a[1],version:a[2]};var s=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(s)return{type:s[1],version:s[2]};var o=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(o)return{type:o[1],version:o[2]};var f=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);return f?{type:f[1],version:f[2]}:{type:"",version:""}}var NE=function(){function e(){}return e.clientInfo=function(){return LE()},e.dimension=function(){return ME()},e}(),zr=globalThis&&globalThis.__assign||function(){return zr=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zr.apply(this,arguments)},gs=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Pl=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,s=n.length,o;a<s;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))},Kt=new Ie("Hub"),FE=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function UE(e){return e.onHubCapsule!==void 0}var zE=function(){function e(n){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=n}return e.prototype._remove=function(n,t){if(n instanceof RegExp){var a=this.patterns.find(function(o){var f=o.pattern;return f.source===n.source});if(!a){Kt.warn("No listeners for ".concat(n));return}this.patterns=Pl([],gs(this.patterns.filter(function(o){return o!==a})),!1)}else{var s=this.listeners[n];if(!s){Kt.warn("No listeners for ".concat(n));return}this.listeners[n]=Pl([],gs(s.filter(function(o){var f=o.callback;return f!==t})),!1)}},e.prototype.remove=function(n,t){this._remove(n,t)},e.prototype.dispatch=function(n,t,a,s){if(a===void 0&&(a=""),this.protectedChannels.indexOf(n)>-1){var o=s===FE;o||Kt.warn("WARNING: ".concat(n," is protected and dispatching on it can have unintended consequences"))}var f={channel:n,payload:zr({},t),source:a,patternInfo:[]};try{this._toListeners(f)}catch(l){Kt.error(l)}},e.prototype.listen=function(n,t,a){var s=this;a===void 0&&(a="noname");var o;if(UE(t))Kt.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),o=t.onHubCapsule.bind(t);else{if(typeof t!="function")throw new Error("No callback supplied to Hub");o=t}if(n instanceof RegExp)this.patterns.push({pattern:n,callback:o});else{var f=this.listeners[n];f||(f=[],this.listeners[n]=f),f.push({name:a,callback:o})}return function(){s._remove(n,o)}},e.prototype._toListeners=function(n){var t=n.channel,a=n.payload,s=this.listeners[t];if(s&&s.forEach(function(f){Kt.debug("Dispatching to ".concat(t," with "),a);try{f.callback(n)}catch(l){Kt.error(l)}}),this.patterns.length>0){if(!a.message){Kt.warn("Cannot perform pattern matching without a message key");return}var o=a.message;this.patterns.forEach(function(f){var l=o.match(f.pattern);if(l){var v=gs(l),u=v.slice(1),h=zr(zr({},n),{patternInfo:u});try{f.callback(h)}catch(p){Kt.error(p)}}})}},e}(),Rn=new zE("__default__"),$E=function(e){if(e.isResolved)return e;var n=!0,t=!1,a=!1,s=e.then(function(o){return a=!0,n=!1,o},function(o){throw t=!0,n=!1,o});return s.isFullfilled=function(){return a},s.isPending=function(){return n},s.isRejected=function(){return t},s},Et=function(){var e=typeof window<"u"&&typeof window.document<"u",n=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:e,isNode:n}},Pg=function(e,n,t){if(n===void 0&&(n=[]),t===void 0&&(t=[]),!kg(e))return e;var a={};for(var s in e)if(e.hasOwnProperty(s)){var o=n.includes(s)?s:s[0].toLowerCase()+s.slice(1);a[o]=t.includes(s)?e[s]:Pg(e[s],n,t)}return a},Mg=function(e,n,t){if(n===void 0&&(n=[]),t===void 0&&(t=[]),!kg(e))return e;var a={};for(var s in e)if(e.hasOwnProperty(s)){var o=n.includes(s)?s:s[0].toUpperCase()+s.slice(1);a[o]=t.includes(s)?e[s]:Mg(e[s],n,t)}return a},kg=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},KE=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function a(){this.constructor=n}n.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Ml=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},ps=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},GE=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},HE=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,s=n.length,o;a<s;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))},Ji=new Ie("Util"),Dn=function(e){KE(n,e);function n(t){var a=e.call(this,t)||this;return a.nonRetryable=!0,a}return n}(Error),WE=function(e){var n="nonRetryable";return e&&e[n]};function qE(e,n,t,a){return Ml(this,void 0,void 0,function(){var s=this;return ps(this,function(o){if(typeof e!="function")throw Error("functionToRetry must be a function");return[2,new Promise(function(f,l){return Ml(s,void 0,void 0,function(){var v,u,h,p,_,w,E;return ps(this,function(I){switch(I.label){case 0:v=0,u=!1,p=function(){},a&&a.then(function(){u=!0,clearTimeout(h),p()}),w=function(){var R,B,z,N;return ps(this,function(G){switch(G.label){case 0:v++,Ji.debug("".concat(e.name," attempt #").concat(v," with this vars: ").concat(JSON.stringify(n))),G.label=1;case 1:return G.trys.push([1,3,,7]),R={},B=f,[4,e.apply(void 0,HE([],GE(n),!1))];case 2:return[2,(R.value=B.apply(void 0,[G.sent()]),R)];case 3:return z=G.sent(),_=z,Ji.debug("error on ".concat(e.name),z),WE(z)?(Ji.debug("".concat(e.name," non retryable error"),z),[2,{value:l(z)}]):(N=t(v,n,z),Ji.debug("".concat(e.name," retrying in ").concat(N," ms")),N===!1||u?[2,{value:l(z)}]:[3,4]);case 4:return[4,new Promise(function(Y){p=Y,h=setTimeout(p,N)})];case 5:G.sent(),G.label=6;case 6:return[3,7];case 7:return[2]}})},I.label=1;case 1:return u?[3,3]:[5,w()];case 2:return E=I.sent(),typeof E=="object"?[2,E.value]:[3,1];case 3:return l(_),[2]}})})})]})})}var Bg=5*60*1e3;function Ng(e){e===void 0&&(e=Bg);var n=100,t=100;return function(a){var s=Math.pow(2,a)*n+t*Math.random();return s>e?!1:s}}var jE=function(e,n,t,a){return t===void 0&&(t=Bg),qE(e,n,Ng(t),a)},Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ar(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),t}var VE=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},YE=1e3*60*5,In={clockOffset:0,getDateWithClockOffset:function(){return In.clockOffset?new Date(new Date().getTime()+In.clockOffset):new Date},getClockOffset:function(){return In.clockOffset},getHeaderStringFromDate:function(e){return e===void 0&&(e=In.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var n=VE(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),t=n[1],a=n[2],s=n[3],o=n[4],f=n[5],l=n[6];return new Date(Date.UTC(Number(t),Number(a)-1,Number(s),Number(o),Number(f),Number(l)))},isClockSkewed:function(e){return Math.abs(e.getTime()-In.getDateWithClockOffset().getTime())>=YE},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var n=e.response.headers;return!!(["BadRequestException","InvalidSignatureException"].includes(n["x-amzn-errortype"])&&(n.date||n.Date))},setClockOffset:function(e){In.clockOffset=e}},Fg=function(e){return Object.keys(e).map(function(n){return n.toLowerCase()}).sort().join(";")},ZE="X-Amz-Algorithm",Ug="X-Amz-Date",JE="X-Amz-Credential",XE="X-Amz-Expires",QE="X-Amz-Signature",ex="X-Amz-SignedHeaders",Tu="X-Amz-Security-Token",tx="authorization",zs="host",nx=Ug.toLowerCase(),rx=Tu.toLowerCase(),zg="aws4_request",Cu="AWS4-HMAC-SHA256",ix="AWS4",ox="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",ax="UNSIGNED-PAYLOAD",sx=function(e,n,t){return"".concat(e,"/").concat(n,"/").concat(t,"/").concat(zg)},ux=function(e){var n=e.toISOString().replace(/[:\-]|\.\d{3}/g,"");return{longDate:n,shortDate:n.slice(0,8)}},$g=function(e){var n=e.credentials,t=e.signingDate,a=t===void 0?new Date:t,s=e.signingRegion,o=e.signingService,f=e.uriEscapePath,l=f===void 0?!0:f,v=n.accessKeyId,u=n.secretAccessKey,h=n.sessionToken,p=ux(a),_=p.longDate,w=p.shortDate,E=sx(w,s,o);return{accessKeyId:v,credentialScope:E,longDate:_,secretAccessKey:u,sessionToken:h,shortDate:w,signingRegion:s,signingService:o,uriEscapePath:l}},Ru={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $s=function(e,n){return $s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)a.hasOwnProperty(s)&&(t[s]=a[s])},$s(e,n)};function To(e,n){$s(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var $=function(){return $=Object.assign||function(n){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},$.apply(this,arguments)};function qr(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t}function cx(e,n,t,a){var s=arguments.length,o=s<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,t):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,n,t,a);else for(var l=e.length-1;l>=0;l--)(f=e[l])&&(o=(s<3?f(o):s>3?f(n,t,o):f(n,t))||o);return s>3&&o&&Object.defineProperty(n,t,o),o}function fx(e,n){return function(t,a){n(t,a,e)}}function lx(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function V(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})}function j(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function dx(e,n,t,a){a===void 0&&(a=t),e[a]=n[t]}function hx(e,n){for(var t in e)t!=="default"&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Be(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o}function ht(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Ht(arguments[n]));return e}function vx(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var a=Array(e),s=0,n=0;n<t;n++)for(var o=arguments[n],f=0,l=o.length;f<l;f++,s++)a[s]=o[f];return a}function jr(e){return this instanceof jr?(this.v=e,this):new jr(e)}function gx(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t.apply(e,n||[]),s,o=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(_){a[_]&&(s[_]=function(w){return new Promise(function(E,I){o.push([_,w,E,I])>1||l(_,w)})})}function l(_,w){try{v(a[_](w))}catch(E){p(o[0][3],E)}}function v(_){_.value instanceof jr?Promise.resolve(_.value.v).then(u,h):p(o[0][2],_)}function u(_){l("next",_)}function h(_){l("throw",_)}function p(_,w){_(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function px(e){var n,t;return n={},a("next"),a("throw",function(s){throw s}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(s,o){n[s]=e[s]?function(f){return(t=!t)?{value:jr(e[s](f)),done:s==="return"}:o?o(f):f}:o}}function yx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Be=="function"?Be(e):e[Symbol.iterator](),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(o){t[o]=e[o]&&function(f){return new Promise(function(l,v){f=e[o](f),s(l,v,f.done,f.value)})}}function s(o,f,l,v){Promise.resolve(v).then(function(u){o({value:u,done:l})},f)}}function mx(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function _x(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function bx(e){return e&&e.__esModule?e:{default:e}}function wx(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function Sx(e,n,t){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,t),t}const Ex=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return $},__asyncDelegator:px,__asyncGenerator:gx,__asyncValues:yx,__await:jr,__awaiter:V,__classPrivateFieldGet:wx,__classPrivateFieldSet:Sx,__createBinding:dx,__decorate:cx,__exportStar:hx,__extends:To,__generator:j,__importDefault:bx,__importStar:_x,__makeTemplateObject:mx,__metadata:lx,__param:fx,__read:Ht,__rest:qr,__spread:ht,__spreadArrays:vx,__values:Be},Symbol.toStringTag,{value:"Module"})),cn=ar(Ex);var Co={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.MAX_HASHABLE_LENGTH=Qe.INIT=Qe.KEY=Qe.DIGEST_LENGTH=Qe.BLOCK_SIZE=void 0;Qe.BLOCK_SIZE=64;Qe.DIGEST_LENGTH=32;Qe.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Qe.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Qe.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.RawSha256=void 0;var lt=Qe,xx=function(){function e(){this.state=Int32Array.from(lt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,a=n.byteLength;if(this.bytesHashed+=a,this.bytesHashed*8>lt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;a>0;)this.buffer[this.bufferLength++]=n[t++],a--,this.bufferLength===lt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),a=this.bufferLength;if(t.setUint8(this.bufferLength++,128),a%lt.BLOCK_SIZE>=lt.BLOCK_SIZE-8){for(var s=this.bufferLength;s<lt.BLOCK_SIZE;s++)t.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<lt.BLOCK_SIZE-8;s++)t.setUint8(s,0);t.setUint32(lt.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),t.setUint32(lt.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(lt.DIGEST_LENGTH),s=0;s<8;s++)o[s*4]=this.state[s]>>>24&255,o[s*4+1]=this.state[s]>>>16&255,o[s*4+2]=this.state[s]>>>8&255,o[s*4+3]=this.state[s]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var n=this,t=n.buffer,a=n.state,s=a[0],o=a[1],f=a[2],l=a[3],v=a[4],u=a[5],h=a[6],p=a[7],_=0;_<lt.BLOCK_SIZE;_++){if(_<16)this.temp[_]=(t[_*4]&255)<<24|(t[_*4+1]&255)<<16|(t[_*4+2]&255)<<8|t[_*4+3]&255;else{var w=this.temp[_-2],E=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10;w=this.temp[_-15];var I=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3;this.temp[_]=(E+this.temp[_-7]|0)+(I+this.temp[_-16]|0)}var R=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&u^~v&h)|0)+(p+(lt.KEY[_]+this.temp[_]|0)|0)|0,B=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&f^o&f)|0;p=h,h=u,u=v,v=l+R|0,l=f,f=o,o=s,s=R+B|0}a[0]+=s,a[1]+=o,a[2]+=f,a[3]+=l,a[4]+=v,a[5]+=u,a[6]+=h,a[7]+=p},e}();Ro.RawSha256=xx;var Kg={},Do={};const Ax=e=>{const n=[];for(let t=0,a=e.length;t<a;t++){const s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){const o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(n)},Ix=e=>{let n="";for(let t=0,a=e.length;t<a;t++){const s=e[t];if(s<128)n+=String.fromCharCode(s);else if(192<=s&&s<224){const o=e[++t];n+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){const f="%"+[s,e[++t],e[++t],e[++t]].map(l=>l.toString(16)).join("%");n+=decodeURIComponent(f)}else n+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return n};function Tx(e){return new TextEncoder().encode(e)}function Cx(e){return new TextDecoder("utf-8").decode(e)}const Rx=e=>typeof TextEncoder=="function"?Tx(e):Ax(e),Dx=e=>typeof TextDecoder=="function"?Cx(e):Ix(e),Ox=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Rx,toUtf8:Dx},Symbol.toStringTag,{value:"Module"})),Lx=ar(Ox);Object.defineProperty(Do,"__esModule",{value:!0});Do.convertToBuffer=void 0;var Px=Lx,Mx=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Px.fromUtf8;function kx(e){return e instanceof Uint8Array?e:typeof e=="string"?Mx(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Do.convertToBuffer=kx;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.isEmptyData=void 0;function Bx(e){return typeof e=="string"?e.length===0:e.byteLength===0}Oo.isEmptyData=Bx;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.numToUint8=void 0;function Nx(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Lo.numToUint8=Nx;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.uint32ArrayFrom=void 0;function Fx(e){if(!Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t];return n}return Uint32Array.from(e)}Po.uint32ArrayFrom=Fx;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var n=Do;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var t=Oo;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return t.isEmptyData}});var a=Lo;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var s=Po;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})})(Kg);Object.defineProperty(Co,"__esModule",{value:!0});Co.Sha256=void 0;var kl=cn,ho=Qe,Ks=Ro,Gs=Kg,Ux=function(){function e(n){if(this.hash=new Ks.RawSha256,n){this.outer=new Ks.RawSha256;var t=zx(n),a=new Uint8Array(ho.BLOCK_SIZE);a.set(t);for(var s=0;s<ho.BLOCK_SIZE;s++)t[s]^=54,a[s]^=92;this.hash.update(t),this.outer.update(a);for(var s=0;s<t.byteLength;s++)t[s]=0}}return e.prototype.update=function(n){if(!((0,Gs.isEmptyData)(n)||this.error))try{this.hash.update((0,Gs.convertToBuffer)(n))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,kl.__awaiter)(this,void 0,void 0,function(){return(0,kl.__generator)(this,function(n){return[2,this.digestSync()]})})},e}();Co.Sha256=Ux;function zx(e){var n=(0,Gs.convertToBuffer)(e);if(n.byteLength>ho.BLOCK_SIZE){var t=new Ks.RawSha256;t.update(n),n=t.digest()}var a=new Uint8Array(ho.BLOCK_SIZE);return a.set(n),a}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=cn;(0,n.__exportStar)(Co,e)})(Ru);var Gg={},Hs={};for(var Pr=0;Pr<256;Pr++){var Mr=Pr.toString(16).toLowerCase();Mr.length===1&&(Mr="0"+Mr),Gg[Pr]=Mr,Hs[Mr]=Pr}function $x(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var n=new Uint8Array(e.length/2),t=0;t<e.length;t+=2){var a=e.substr(t,2).toLowerCase();if(a in Hs)n[t/2]=Hs[a];else throw new Error("Cannot decode unrecognized sequence "+a+" as hexadecimal")}return n}function et(e){for(var n="",t=0;t<e.byteLength;t++)n+=Gg[e[t]];return n}var Nr=function(e,n){var t=new Ru.Sha256(e);t.update(n);var a=t.digestSync();return a},Ws=function(e,n){var t=Nr(e,n);return et(t)},Kx=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Gx=function(e){return Object.entries(e).map(function(n){var t,a=Kx(n,2),s=a[0],o=a[1];return{key:s.toLowerCase(),value:(t=o==null?void 0:o.trim().replace(/\s+/g," "))!==null&&t!==void 0?t:""}}).sort(function(n,t){return n.key<t.key?-1:1}).map(function(n){return"".concat(n.key,":").concat(n.value,`
`)}).join("")},ys=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Hx=function(e){return Array.from(e).sort(function(n,t){var a=ys(n,2),s=a[0],o=a[1],f=ys(t,2),l=f[0],v=f[1];return s===l?o<v?-1:1:s<l?-1:1}).map(function(n){var t=ys(n,2),a=t[0],s=t[1];return"".concat(Bl(a),"=").concat(Bl(s))}).join("&")},Bl=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Wx)},Wx=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},qx=function(e,n){return n===void 0&&(n=!0),e?n?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/"},jx=function(e){if(e==null)return ox;if(Vx(e)){var n=Ws(null,e);return n}return ax},Vx=function(e){return typeof e=="string"||ArrayBuffer.isView(e)||Yx(e)},Yx=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"},Zx=function(e,n){var t=e.body,a=e.headers,s=e.method,o=e.url;return n===void 0&&(n=!0),[s,qx(o.pathname,n),Hx(o.searchParams),Gx(a),Fg(a),jx(t)].join(`
`)},Jx=function(e,n,t,a){var s="".concat(ix).concat(e),o=Nr(s,n),f=Nr(o,t),l=Nr(f,a),v=Nr(l,zg);return v},Xx=function(e,n,t){return[Cu,e,n,t].join(`
`)},Hg=function(e,n){var t=n.credentialScope,a=n.longDate,s=n.secretAccessKey,o=n.shortDate,f=n.signingRegion,l=n.signingService,v=n.uriEscapePath,u=Zx(e,v),h=Ws(null,u),p=Xx(a,t,h),_=Ws(Jx(s,o,f,l),p);return _},$r=globalThis&&globalThis.__assign||function(){return $r=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$r.apply(this,arguments)},Wg=function(e,n){var t=$g(n),a=t.accessKeyId,s=t.credentialScope,o=t.longDate,f=t.sessionToken,l=$r({},e.headers);l[zs]=e.url.host,l[nx]=o,f&&(l[rx]=f);var v=$r($r({},e),{headers:l}),u=Hg(v,t),h="Credential=".concat(a,"/").concat(s),p="SignedHeaders=".concat(Fg(l)),_="Signature=".concat(u);return l[tx]="".concat(Cu," ").concat(h,", ").concat(p,", ").concat(_),v},vo=globalThis&&globalThis.__assign||function(){return vo=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vo.apply(this,arguments)},Qx=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t},eA=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},tA=function(e,n){var t,a,s,o,f=e.body,l=e.method,v=l===void 0?"GET":l,u=e.url,h=n.expiration,p=Qx(n,["expiration"]),_=$g(p),w=_.accessKeyId,E=_.credentialScope,I=_.longDate,R=_.sessionToken,B=new URL(u);Object.entries(vo(vo((t={},t[ZE]=Cu,t[JE]="".concat(w,"/").concat(E),t[Ug]=I,t[ex]=zs,t),h&&(a={},a[XE]=h.toString(),a)),R&&(s={},s[Tu]=R,s))).forEach(function(G){var Y=eA(G,2),ve=Y[0],le=Y[1];B.searchParams.append(ve,le)});var z={body:f,headers:(o={},o[zs]=u.host,o),method:v,url:B},N=Hg(z,_);return B.searchParams.append(QE,N),B},ir=globalThis&&globalThis.__assign||function(){return ir=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ir.apply(this,arguments)},nA="iotdevicegateway",rA=/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com(.cn)?$/,iA=function(){function e(){}return e.sign=function(n,t,a){if(n.headers=n.headers||{},n.body&&!n.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var s=ir(ir({},n),{body:n.data,url:new URL(n.url)}),o=Nl(s,t,a),f=Wg(s,o);return f.url=f.url.toString(),f.headers.Authorization=f.headers.authorization,f.headers["X-Amz-Security-Token"]=f.headers["x-amz-security-token"],delete f.headers.authorization,delete f.headers["x-amz-security-token"],f},e.signUrl=function(n,t,a,s){var o=typeof n=="object"?n.url:n,f=typeof n=="object"?n.method:"GET",l=typeof n=="object"?n.body:void 0,v={body:l,method:f,url:new URL(o)},u=Nl(v,t,a,s),h=tA(v,u);return t.session_token&&!qg(u.signingService)&&h.searchParams.append(Tu,t.session_token),h.toString()},e}(),Nl=function(e,n,t,a){var s=n??{},o=s.access_key,f=s.secret_key,l=s.session_token,v=oA(e.url),u=v.region,h=v.service,p=t??{},_=p.region,w=_===void 0?u:_,E=p.service,I=E===void 0?h:E,R=ir({accessKeyId:o,secretAccessKey:f},qg(I)?{sessionToken:l}:{});return ir({credentials:R,signingDate:In.getDateWithClockOffset(),signingRegion:w,signingService:I},a&&{expiration:a})},oA=function(e){var n,t=e.host,a=(n=t.match(rA))!==null&&n!==void 0?n:[],s=a.slice(1,3);return s[1]==="es"&&(s=s.reverse()),{service:s[0],region:s[1]}},qg=function(e){return e!==nA},go=globalThis&&globalThis.__assign||function(){return go=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},go.apply(this,arguments)},aA=new Ie("Parser"),jg=function(e){var n={};if(e.aws_mobile_analytics_app_id){var t={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=t}(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:e.aws_mandatory_sign_in==="enable",signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"});var a;return e.aws_user_files_s3_bucket?a={AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:a=e?e.Storage||e:{},e.Logging&&(n.Logging=go(go({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},a),n.Logging=Object.assign({},n.Logging,e.Logging),aA.debug("parse config",e,"to amplifyconfig",n),n},Du={},Mo={},ei={},ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.isEmptyData=void 0;function sA(e){return typeof e=="string"?e.length===0:e.byteLength===0}ko.isEmptyData=sA;var Ou={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})(Ou);const uA=e=>{const n=[];for(let t=0,a=e.length;t<a;t++){const s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){const o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(n)},cA=e=>{let n="";for(let t=0,a=e.length;t<a;t++){const s=e[t];if(s<128)n+=String.fromCharCode(s);else if(192<=s&&s<224){const o=e[++t];n+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){const f="%"+[s,e[++t],e[++t],e[++t]].map(l=>l.toString(16)).join("%");n+=decodeURIComponent(f)}else n+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return n};function fA(e){return new TextEncoder().encode(e)}function lA(e){return new TextDecoder("utf-8").decode(e)}const dA=e=>typeof TextEncoder=="function"?fA(e):uA(e),hA=e=>typeof TextDecoder=="function"?lA(e):cA(e),vA=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:dA,toUtf8:hA},Symbol.toStringTag,{value:"Module"})),Vg=ar(vA),gA={};function pA(){return typeof window<"u"?window:typeof self<"u"?self:gA}const yA=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:pA},Symbol.toStringTag,{value:"Module"})),Lu=ar(yA);Object.defineProperty(ei,"__esModule",{value:!0});ei.Sha256=void 0;var mA=ko,Yg=Ou,_A=Vg,qs=Lu,bA=function(){function e(n){n?(this.operation=wA(n).then(function(t){return(0,qs.locateWindow)().msCrypto.subtle.sign(Yg.SHA_256_HMAC_ALGO,t)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,qs.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(n){var t=this;(0,mA.isEmptyData)(n)||(this.operation=this.operation.then(function(a){return a.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},a.process(Zg(n)),a}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(n){return new Promise(function(t,a){n.onerror=function(){a(new Error("Error encountered finalizing hash"))},n.oncomplete=function(){n.result&&t(new Uint8Array(n.result)),a(new Error("Error encountered finalizing hash"))},n.finish()})})},e}();ei.Sha256=bA;function wA(e){return new Promise(function(n,t){var a=(0,qs.locateWindow)().msCrypto.subtle.importKey("raw",Zg(e),Yg.SHA_256_HMAC_ALGO,!1,["sign"]);a.oncomplete=function(){a.result&&n(a.result),t(new Error("ImportKey completed without importing key."))},a.onerror=function(){t(new Error("ImportKey failed to import key."))}})}function Zg(e){return typeof e=="string"?(0,_A.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var ti={},Jg={},Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.convertToBuffer=void 0;var SA=Vg,EA=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:SA.fromUtf8;function xA(e){return e instanceof Uint8Array?e:typeof e=="string"?EA(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Bo.convertToBuffer=xA;var No={};Object.defineProperty(No,"__esModule",{value:!0});No.isEmptyData=void 0;function AA(e){return typeof e=="string"?e.length===0:e.byteLength===0}No.isEmptyData=AA;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.numToUint8=void 0;function IA(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Fo.numToUint8=IA;var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.uint32ArrayFrom=void 0;function TA(e){if(!Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t];return n}return Uint32Array.from(e)}Uo.uint32ArrayFrom=TA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var n=Bo;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var t=No;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return t.isEmptyData}});var a=Fo;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var s=Uo;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})})(Jg);Object.defineProperty(ti,"__esModule",{value:!0});ti.Sha256=void 0;var Xi=Jg,Qi=Ou,ms=Lu,CA=function(){function e(n){this.toHash=new Uint8Array(0),n!==void 0&&(this.key=new Promise(function(t,a){(0,ms.locateWindow)().crypto.subtle.importKey("raw",(0,Xi.convertToBuffer)(n),Qi.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,a)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!(0,Xi.isEmptyData)(n)){var t=(0,Xi.convertToBuffer)(n),a=new Uint8Array(this.toHash.byteLength+t.byteLength);a.set(this.toHash,0),a.set(t,this.toHash.byteLength),this.toHash=a}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return(0,ms.locateWindow)().crypto.subtle.sign(Qi.SHA_256_HMAC_ALGO,t,n.toHash).then(function(a){return new Uint8Array(a)})}):(0,Xi.isEmptyData)(this.toHash)?Promise.resolve(Qi.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,ms.locateWindow)().crypto.subtle.digest(Qi.SHA_256_HASH,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e}();ti.Sha256=CA;var Xg={},bt={},Fl;function RA(){if(Fl)return bt;Fl=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.supportsZeroByteGCM=bt.supportsSubtleCrypto=bt.supportsSecureRandom=bt.supportsWebCrypto=void 0;var e=cn,n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(f){if(a(f)&&typeof f.crypto.subtle=="object"){var l=f.crypto.subtle;return s(l)}return!1}bt.supportsWebCrypto=t;function a(f){if(typeof f=="object"&&typeof f.crypto=="object"){var l=f.crypto.getRandomValues;return typeof l=="function"}return!1}bt.supportsSecureRandom=a;function s(f){return f&&n.every(function(l){return typeof f[l]=="function"})}bt.supportsSubtleCrypto=s;function o(f){return e.__awaiter(this,void 0,void 0,function(){var l,v;return e.__generator(this,function(u){switch(u.label){case 0:if(!s(f))return[2,!1];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,f.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return l=u.sent(),[4,f.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},l,new Uint8Array(0))];case 3:return v=u.sent(),[2,v.byteLength===16];case 4:return u.sent(),[2,!1];case 5:return[2]}})})}return bt.supportsZeroByteGCM=o,bt}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=cn;n.__exportStar(RA(),e)})(Xg);var Qg={},_s={},Ul;function DA(){return Ul||(Ul=1,Object.defineProperty(_s,"__esModule",{value:!0})),_s}var bs={},zl;function OA(){return zl||(zl=1,Object.defineProperty(bs,"__esModule",{value:!0})),bs}var ws={},$l;function LA(){return $l||($l=1,Object.defineProperty(ws,"__esModule",{value:!0})),ws}var Ss={},Kl;function PA(){return Kl||(Kl=1,Object.defineProperty(Ss,"__esModule",{value:!0})),Ss}var kr={},Gl;function MA(){if(Gl)return kr;Gl=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function n(a){return"MSInputMethodContext"in a&&"msCrypto"in a}function t(a){if(n(a)&&a.msCrypto.subtle!==void 0){var s=a.msCrypto,o=s.getRandomValues,f=s.subtle;return e.map(function(l){return f[l]}).concat(o).every(function(l){return typeof l=="function"})}return!1}return kr.isMsWindow=t,kr}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=cn;n.__exportStar(DA(),e),n.__exportStar(OA(),e),n.__exportStar(LA(),e),n.__exportStar(PA(),e),n.__exportStar(MA(),e)})(Qg);Object.defineProperty(Mo,"__esModule",{value:!0});Mo.Sha256=void 0;var kA=ei,BA=ti,NA=Ru,FA=Xg,UA=Qg,Hl=Lu,zA=function(){function e(n){(0,FA.supportsWebCrypto)((0,Hl.locateWindow)())?this.hash=new BA.Sha256(n):(0,UA.isMsWindow)((0,Hl.locateWindow)())?this.hash=new kA.Sha256(n):this.hash=new NA.Sha256(n)}return e.prototype.update=function(n,t){this.hash.update(n,t)},e.prototype.digest=function(){return this.hash.digest()},e}();Mo.Sha256=zA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var n=cn;(0,n.__exportStar)(Mo,e);var t=ei;Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return t.Sha256}});var a=ti;Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return a.Sha256}})})(Du);var Wl=function(){function e(n){this.statusCode=n.statusCode,this.headers=n.headers||{},this.body=n.body}return e.isInstance=function(n){if(!n)return!1;var t=n;return typeof t.statusCode=="number"&&typeof t.headers=="object"},e}(),sn=function(){function e(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.substr(-1)!==":"?n.protocol+":":n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?"/"+n.path:n.path:"/"}return e.isInstance=function(n){if(!n)return!1;var t=n;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"},e.prototype.clone=function(){var n=new e($($({},this),{headers:$({},this.headers)}));return n.query&&(n.query=$A(n.query)),n},e}();function $A(e){return Object.keys(e).reduce(function(n,t){var a,s=e[t];return $($({},n),(a={},a[t]=Array.isArray(s)?ht(s):s,a))},{})}var Es=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,KA)},KA=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function GA(e){var n,t,a=[];try{for(var s=Be(Object.keys(e).sort()),o=s.next();!o.done;o=s.next()){var f=o.value,l=e[f];if(f=Es(f),Array.isArray(l))for(var v=0,u=l.length;v<u;v++)a.push(f+"="+Es(l[v]));else{var h=f;(l||typeof l=="string")&&(h+="="+Es(l)),a.push(h)}}}catch(p){n={error:p}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return a.join("&")}function HA(e){return e===void 0&&(e=0),new Promise(function(n,t){e&&setTimeout(function(){var a=new Error("Request did not complete within "+e+" ms");a.name="TimeoutError",t(a)},e)})}var e0=function(){function e(n){var t=n===void 0?{}:n,a=t.requestTimeout;this.requestTimeout=a}return e.prototype.destroy=function(){},e.prototype.handle=function(n,t){var a=t===void 0?{}:t,s=a.abortSignal,o=this.requestTimeout;if(s!=null&&s.aborted){var f=new Error("Request aborted");return f.name="AbortError",Promise.reject(f)}var l=n.path;if(n.query){var v=GA(n.query);v&&(l+="?"+v)}var u=n.port,h=n.method,p=n.protocol+"//"+n.hostname+(u?":"+u:"")+l,_=h==="GET"||h==="HEAD"?void 0:n.body,w={body:_,headers:new Headers(n.headers),method:h};typeof AbortController<"u"&&(w.signal=s);var E=new Request(p,w),I=[fetch(E).then(function(R){var B,z,N=R.headers,G={};try{for(var Y=Be(N.entries()),ve=Y.next();!ve.done;ve=Y.next()){var le=ve.value;G[le[0]]=le[1]}}catch(xt){B={error:xt}}finally{try{ve&&!ve.done&&(z=Y.return)&&z.call(Y)}finally{if(B)throw B.error}}var Se=R.body!==void 0;return Se?{response:new Wl({headers:G,statusCode:R.status,body:R.body})}:R.blob().then(function(xt){return{response:new Wl({headers:G,statusCode:R.status,body:xt})}})}),HA(o)];return s&&I.push(new Promise(function(R,B){s.onabort=function(){var z=new Error("Request aborted");z.name="AbortError",B(z)}})),Promise.race(I)},e}(),Ln={},sr=new Array(64);for(var De=0,Vr="A".charCodeAt(0),Pu="Z".charCodeAt(0);De+Vr<=Pu;De++){var un=String.fromCharCode(De+Vr);Ln[un]=De,sr[De]=un}for(var De=0,Vr="a".charCodeAt(0),Pu="z".charCodeAt(0);De+Vr<=Pu;De++){var un=String.fromCharCode(De+Vr),Yr=De+26;Ln[un]=Yr,sr[Yr]=un}for(var De=0;De<10;De++){Ln[De.toString(10)]=De+52;var un=De.toString(10),Yr=De+52;Ln[un]=Yr,sr[Yr]=un}Ln["+"]=62;sr[62]="+";Ln["/"]=63;sr[63]="/";var tr=6,Kr=8,WA=63;function Mu(e){var n=e.length/4*3;e.substr(-2)==="=="?n-=2:e.substr(-1)==="="&&n--;for(var t=new ArrayBuffer(n),a=new DataView(t),s=0;s<e.length;s+=4){for(var o=0,f=0,l=s,v=s+3;l<=v;l++)e[l]!=="="?(o|=Ln[e[l]]<<(v-l)*tr,f+=tr):o>>=tr;var u=s/4*3;o>>=f%Kr;for(var h=Math.floor(f/Kr),p=0;p<h;p++){var _=(h-p-1)*Kr;a.setUint8(u+p,(o&255<<_)>>_)}}return new Uint8Array(t)}function t0(e){for(var n="",t=0;t<e.length;t+=3){for(var a=0,s=0,o=t,f=Math.min(t+3,e.length);o<f;o++)a|=e[o]<<(f-o-1)*Kr,s+=Kr;var l=Math.ceil(s/tr);a<<=l*tr-s;for(var v=1;v<=l;v++){var u=(l-v)*tr;n+=sr[(a&WA<<u)>>u]}n+="==".slice(0,4-l)}return n}var n0=function(e){return typeof Blob=="function"&&e instanceof Blob?qA(e):jA(e)};function qA(e){return V(this,void 0,void 0,function(){var n,t;return j(this,function(a){switch(a.label){case 0:return[4,VA(e)];case 1:return n=a.sent(),t=Mu(n),[2,new Uint8Array(t)]}})})}function jA(e){return V(this,void 0,void 0,function(){var n,t,a,s,o,f,l;return j(this,function(v){switch(v.label){case 0:n=new Uint8Array(0),t=e.getReader(),a=!1,v.label=1;case 1:return a?[3,3]:[4,t.read()];case 2:return s=v.sent(),o=s.done,f=s.value,f&&(l=n,n=new Uint8Array(l.length+f.length),n.set(l),n.set(f,l.length)),a=o,[3,1];case 3:return[2,n]}})})}function VA(e){return new Promise(function(n,t){var a=new FileReader;a.onloadend=function(){var s;if(a.readyState!==2)return t(new Error("Reader aborted too early"));var o=(s=a.result)!==null&&s!==void 0?s:"",f=o.indexOf(","),l=f>-1?f+1:o.length;n(o.substring(l))},a.onabort=function(){return t(new Error("Read aborted"))},a.onerror=function(){return t(a.error)},a.readAsDataURL(e)})}var r0=function(e){return function(){return Promise.reject(e)}},YA=function(e){return function(n,t){return function(a){return V(void 0,void 0,void 0,function(){var s;return j(this,function(o){return!((s=e==null?void 0:e.retryStrategy)===null||s===void 0)&&s.mode&&(t.userAgent=ht(t.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(n,a)]})})}}},ZA={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},i0=function(e){return{applyToStack:function(n){n.add(YA(e),ZA)}}},JA=100,XA=20*1e3,QA=500,e2=500,t2=5,n2=10,r2=1,i2="amz-sdk-invocation-id",o2="amz-sdk-request",a2=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],s2=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],u2=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],c2=[500,502,503,504],f2=function(e){return e.$retryable!==void 0},l2=function(e){return a2.includes(e.name)},o0=function(e){var n,t;return((n=e.$metadata)===null||n===void 0?void 0:n.httpStatusCode)===429||s2.includes(e.name)||((t=e.$retryable)===null||t===void 0?void 0:t.throttling)==!0},d2=function(e){var n;return u2.includes(e.name)||c2.includes(((n=e.$metadata)===null||n===void 0?void 0:n.httpStatusCode)||0)},js={exports:{}},ql=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(ql){var jl=new Uint8Array(16);js.exports=function(){return ql(jl),jl}}else{var Vl=new Array(16);js.exports=function(){for(var n=0,t;n<16;n++)n&3||(t=Math.random()*4294967296),Vl[n]=t>>>((n&3)<<3)&255;return Vl}}var a0=js.exports,s0=[];for(var eo=0;eo<256;++eo)s0[eo]=(eo+256).toString(16).substr(1);function h2(e,n){var t=n||0,a=s0;return[a[e[t++]],a[e[t++]],a[e[t++]],a[e[t++]],"-",a[e[t++]],a[e[t++]],"-",a[e[t++]],a[e[t++]],"-",a[e[t++]],a[e[t++]],"-",a[e[t++]],a[e[t++]],a[e[t++]],a[e[t++]],a[e[t++]],a[e[t++]]].join("")}var u0=h2,v2=a0,g2=u0,Yl,xs,As=0,Is=0;function p2(e,n,t){var a=n&&t||0,s=n||[];e=e||{};var o=e.node||Yl,f=e.clockseq!==void 0?e.clockseq:xs;if(o==null||f==null){var l=v2();o==null&&(o=Yl=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),f==null&&(f=xs=(l[6]<<8|l[7])&16383)}var v=e.msecs!==void 0?e.msecs:new Date().getTime(),u=e.nsecs!==void 0?e.nsecs:Is+1,h=v-As+(u-Is)/1e4;if(h<0&&e.clockseq===void 0&&(f=f+1&16383),(h<0||v>As)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");As=v,Is=u,xs=f,v+=122192928e5;var p=((v&268435455)*1e4+u)%4294967296;s[a++]=p>>>24&255,s[a++]=p>>>16&255,s[a++]=p>>>8&255,s[a++]=p&255;var _=v/4294967296*1e4&268435455;s[a++]=_>>>8&255,s[a++]=_&255,s[a++]=_>>>24&15|16,s[a++]=_>>>16&255,s[a++]=f>>>8|128,s[a++]=f&255;for(var w=0;w<6;++w)s[a+w]=o[w];return n||g2(s)}var y2=p2,m2=a0,_2=u0;function b2(e,n,t){var a=n&&t||0;typeof e=="string"&&(n=e==="binary"?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||m2)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,n)for(var o=0;o<16;++o)n[a+o]=s[o];return n||_2(s)}var w2=b2,S2=y2,c0=w2,ku=c0;ku.v1=S2;ku.v4=c0;var nn=ku,E2=function(e){var n=e,t=e,a=function(l){return l.name==="TimeoutError"?n2:t2},s=function(l){return a(l)<=t},o=function(l){if(!s(l))throw new Error("No retry token available");var v=a(l);return t-=v,v},f=function(l){t+=l??r2,t=Math.min(t,n)};return Object.freeze({hasRetryTokens:s,retrieveRetryTokens:o,releaseRetryTokens:f})},x2=function(e,n){return Math.floor(Math.min(XA,Math.random()*Math.pow(2,n)*e))},A2=function(e){return e?f2(e)||l2(e)||o0(e)||d2(e):!1},zo=3,I2="standard",T2=function(){function e(n,t){var a,s,o;this.maxAttemptsProvider=n,this.mode=I2,this.retryDecider=(a=t==null?void 0:t.retryDecider)!==null&&a!==void 0?a:A2,this.delayDecider=(s=t==null?void 0:t.delayDecider)!==null&&s!==void 0?s:x2,this.retryQuota=(o=t==null?void 0:t.retryQuota)!==null&&o!==void 0?o:E2(e2)}return e.prototype.shouldRetry=function(n,t,a){return t<a&&this.retryDecider(n)&&this.retryQuota.hasRetryTokens(n)},e.prototype.getMaxAttempts=function(){return V(this,void 0,void 0,function(){var n;return j(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return n=t.sent(),[3,3];case 2:return t.sent(),n=zo,[3,3];case 3:return[2,n]}})})},e.prototype.retry=function(n,t){return V(this,void 0,void 0,function(){var a,s,o,f,l,v,u,h;return j(this,function(p){switch(p.label){case 0:return s=0,o=0,[4,this.getMaxAttempts()];case 1:f=p.sent(),l=t.request,sn.isInstance(l)&&(l.headers[i2]=nn.v4()),v=function(){var _,w,E,I,R;return j(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,,5]),sn.isInstance(l)&&(l.headers[o2]="attempt="+(s+1)+"; max="+f),[4,n(t)];case 1:return _=B.sent(),w=_.response,E=_.output,u.retryQuota.releaseRetryTokens(a),E.$metadata.attempts=s+1,E.$metadata.totalRetryDelay=o,[2,{value:{response:w,output:E}}];case 2:return I=B.sent(),s++,u.shouldRetry(I,s,f)?(a=u.retryQuota.retrieveRetryTokens(I),R=u.delayDecider(o0(I)?QA:JA,s),o+=R,[4,new Promise(function(z){return setTimeout(z,R)})]):[3,4];case 3:return B.sent(),[2,"continue"];case 4:throw I.$metadata||(I.$metadata={}),I.$metadata.attempts=s,I.$metadata.totalRetryDelay=o,I;case 5:return[2]}})},u=this,p.label=2;case 2:return[5,v()];case 3:return h=p.sent(),typeof h=="object"?[2,h.value]:[3,2];case 4:return[2]}})})},e}(),f0=function(e){var n=C2(e.maxAttempts);return $($({},e),{maxAttempts:n,retryStrategy:e.retryStrategy||new T2(n)})},C2=function(e){if(e===void 0&&(e=zo),typeof e=="number"){var n=Promise.resolve(e);return function(){return n}}return e};function l0(e){if(typeof e=="string"){for(var n=e.length,t=n-1;t>=0;t--){var a=e.charCodeAt(t);a>127&&a<=2047?n++:a>2047&&a<=65535&&(n+=2)}return n}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}}const R2={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},d0={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},we={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},$e={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},rn={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class M{static getFirstMatch(n,t){const a=t.match(n);return a&&a.length>0&&a[1]||""}static getSecondMatch(n,t){const a=t.match(n);return a&&a.length>1&&a[2]||""}static matchAndReturnConst(n,t,a){if(n.test(t))return a}static getWindowsVersionName(n){switch(n){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(n){const t=n.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(n){const t=n.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(n){return n.split(".").length}static compareVersions(n,t,a=!1){const s=M.getVersionPrecision(n),o=M.getVersionPrecision(t);let f=Math.max(s,o),l=0;const v=M.map([n,t],u=>{const h=f-M.getVersionPrecision(u),p=u+new Array(h+1).join(".0");return M.map(p.split("."),_=>new Array(20-_.length).join("0")+_).reverse()});for(a&&(l=f-Math.min(s,o)),f-=1;f>=l;){if(v[0][f]>v[1][f])return 1;if(v[0][f]===v[1][f]){if(f===l)return 0;f-=1}else if(v[0][f]<v[1][f])return-1}}static map(n,t){const a=[];let s;if(Array.prototype.map)return Array.prototype.map.call(n,t);for(s=0;s<n.length;s+=1)a.push(t(n[s]));return a}static find(n,t){let a,s;if(Array.prototype.find)return Array.prototype.find.call(n,t);for(a=0,s=n.length;a<s;a+=1){const o=n[a];if(t(o,a))return o}}static assign(n,...t){const a=n;let s,o;if(Object.assign)return Object.assign(n,...t);for(s=0,o=t.length;s<o;s+=1){const f=t[s];typeof f=="object"&&f!==null&&Object.keys(f).forEach(v=>{a[v]=f[v]})}return n}static getBrowserAlias(n){return R2[n]}static getBrowserTypeByAlias(n){return d0[n]||""}}const ce=/version\/(\d+(\.?_?\d+)+)/i,D2=[{test:[/googlebot/i],describe(e){const n={name:"Googlebot"},t=M.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/opera/i],describe(e){const n={name:"Opera"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opr\/|opios/i],describe(e){const n={name:"Opera"},t=M.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/SamsungBrowser/i],describe(e){const n={name:"Samsung Internet for Android"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Whale/i],describe(e){const n={name:"NAVER Whale Browser"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MZBrowser/i],describe(e){const n={name:"MZ Browser"},t=M.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/focus/i],describe(e){const n={name:"Focus"},t=M.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/swing/i],describe(e){const n={name:"Swing"},t=M.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/coast/i],describe(e){const n={name:"Opera Coast"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const n={name:"Opera Touch"},t=M.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/yabrowser/i],describe(e){const n={name:"Yandex Browser"},t=M.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/ucbrowser/i],describe(e){const n={name:"UC Browser"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Maxthon|mxios/i],describe(e){const n={name:"Maxthon"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/epiphany/i],describe(e){const n={name:"Epiphany"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/puffin/i],describe(e){const n={name:"Puffin"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sleipnir/i],describe(e){const n={name:"Sleipnir"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/k-meleon/i],describe(e){const n={name:"K-Meleon"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/micromessenger/i],describe(e){const n={name:"WeChat"},t=M.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/qqbrowser/i],describe(e){const n={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},t=M.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/msie|trident/i],describe(e){const n={name:"Internet Explorer"},t=M.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/\sedg\//i],describe(e){const n={name:"Microsoft Edge"},t=M.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/edg([ea]|ios)/i],describe(e){const n={name:"Microsoft Edge"},t=M.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/vivaldi/i],describe(e){const n={name:"Vivaldi"},t=M.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/seamonkey/i],describe(e){const n={name:"SeaMonkey"},t=M.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sailfish/i],describe(e){const n={name:"Sailfish"},t=M.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return t&&(n.version=t),n}},{test:[/silk/i],describe(e){const n={name:"Amazon Silk"},t=M.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/phantom/i],describe(e){const n={name:"PhantomJS"},t=M.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/slimerjs/i],describe(e){const n={name:"SlimerJS"},t=M.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n={name:"BlackBerry"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const n={name:"WebOS Browser"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/bada/i],describe(e){const n={name:"Bada"},t=M.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/tizen/i],describe(e){const n={name:"Tizen"},t=M.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/qupzilla/i],describe(e){const n={name:"QupZilla"},t=M.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/firefox|iceweasel|fxios/i],describe(e){const n={name:"Firefox"},t=M.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/electron/i],describe(e){const n={name:"Electron"},t=M.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MiuiBrowser/i],describe(e){const n={name:"Miui"},t=M.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/chromium/i],describe(e){const n={name:"Chromium"},t=M.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/chrome|crios|crmo/i],describe(e){const n={name:"Chrome"},t=M.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/GSA/i],describe(e){const n={name:"Google Search"},t=M.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n={name:"Android Browser"},t=M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/playstation 4/i],describe(e){const n={name:"PlayStation 4"},t=M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/safari|applewebkit/i],describe(e){const n={name:"Safari"},t=M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/.*/i],describe(e){const n=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,s=e.search("\\(")!==-1?t:n;return{name:M.getFirstMatch(s,e),version:M.getSecondMatch(s,e)}}}],O2=[{test:[/Roku\/DVP/],describe(e){const n=M.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:$e.Roku,version:n}}},{test:[/windows phone/i],describe(e){const n=M.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:$e.WindowsPhone,version:n}}},{test:[/windows /i],describe(e){const n=M.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),t=M.getWindowsVersionName(n);return{name:$e.Windows,version:n,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const n={name:$e.iOS},t=M.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return t&&(n.version=t),n}},{test:[/macintosh/i],describe(e){const n=M.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),t=M.getMacOSVersionName(n),a={name:$e.MacOS,version:n};return t&&(a.versionName=t),a}},{test:[/(ipod|iphone|ipad)/i],describe(e){const n=M.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:$e.iOS,version:n}}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n=M.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),t=M.getAndroidVersionName(n),a={name:$e.Android,version:n};return t&&(a.versionName=t),a}},{test:[/(web|hpw)[o0]s/i],describe(e){const n=M.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),t={name:$e.WebOS};return n&&n.length&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n=M.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||M.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||M.getFirstMatch(/\bbb(\d+)/i,e);return{name:$e.BlackBerry,version:n}}},{test:[/bada/i],describe(e){const n=M.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:$e.Bada,version:n}}},{test:[/tizen/i],describe(e){const n=M.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:$e.Tizen,version:n}}},{test:[/linux/i],describe(){return{name:$e.Linux}}},{test:[/CrOS/],describe(){return{name:$e.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const n=M.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:$e.PlayStation4,version:n}}}],L2=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const n=M.getFirstMatch(/(can-l01)/i,e)&&"Nova",t={type:we.mobile,vendor:"Huawei"};return n&&(t.model=n),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:we.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:we.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:we.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:we.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:we.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:we.tablet}}},{test(e){const n=e.test(/ipod|iphone/i),t=e.test(/like (ipod|iphone)/i);return n&&!t},describe(e){const n=M.getFirstMatch(/(ipod|iphone)/i,e);return{type:we.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:we.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:we.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:we.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:we.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:we.mobile,vendor:"Microsoft"}}},{test(e){const n=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&n>=3},describe(){return{type:we.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:we.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:we.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:we.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:we.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:we.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:we.tv}}}],P2=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:rn.Blink};const t=M.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:rn.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const n={name:rn.Trident},t=M.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){return e.test(/presto/i)},describe(e){const n={name:rn.Presto},t=M.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=e.test(/gecko/i),t=e.test(/like gecko/i);return n&&!t},describe(e){const n={name:rn.Gecko},t=M.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:rn.Blink}}},{test:[/(apple)?webkit/i],describe(e){const n={name:rn.WebKit},t=M.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}}];class Zl{constructor(n,t=!1){if(n==null||n==="")throw new Error("UserAgent parameter can't be empty");this._ua=n,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(n){return n.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const n=M.find(D2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(a=>this.test(a));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(n){return n?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const n=M.find(O2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(a=>this.test(a));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os}getOSName(n){const{name:t}=this.getOS();return n?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(n=!1){const{type:t}=this.getPlatform();return n?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const n=M.find(L2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(a=>this.test(a));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(n){return n?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const n=M.find(P2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(a=>this.test(a));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return M.assign({},this.parsedResult)}satisfies(n){const t={};let a=0;const s={};let o=0;if(Object.keys(n).forEach(l=>{const v=n[l];typeof v=="string"?(s[l]=v,o+=1):typeof v=="object"&&(t[l]=v,a+=1)}),a>0){const l=Object.keys(t),v=M.find(l,h=>this.isOS(h));if(v){const h=this.satisfies(t[v]);if(h!==void 0)return h}const u=M.find(l,h=>this.isPlatform(h));if(u){const h=this.satisfies(t[u]);if(h!==void 0)return h}}if(o>0){const l=Object.keys(s),v=M.find(l,u=>this.isBrowser(u,!0));if(v!==void 0)return this.compareVersion(s[v])}}isBrowser(n,t=!1){const a=this.getBrowserName().toLowerCase();let s=n.toLowerCase();const o=M.getBrowserTypeByAlias(s);return t&&o&&(s=o.toLowerCase()),s===a}compareVersion(n){let t=[0],a=n,s=!1;const o=this.getBrowserVersion();if(typeof o=="string")return n[0]===">"||n[0]==="<"?(a=n.substr(1),n[1]==="="?(s=!0,a=n.substr(2)):t=[],n[0]===">"?t.push(1):t.push(-1)):n[0]==="="?a=n.substr(1):n[0]==="~"&&(s=!0,a=n.substr(1)),t.indexOf(M.compareVersions(o,a,s))>-1}isOS(n){return this.getOSName(!0)===String(n).toLowerCase()}isPlatform(n){return this.getPlatformType(!0)===String(n).toLowerCase()}isEngine(n){return this.getEngineName(!0)===String(n).toLowerCase()}is(n,t=!1){return this.isBrowser(n,t)||this.isOS(n)||this.isPlatform(n)}some(n=[]){return n.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class M2{static getParser(n,t=!1){if(typeof n!="string")throw new Error("UserAgent should be a string");return new Zl(n,t)}static parse(n){return new Zl(n).getResult()}static get BROWSER_MAP(){return d0}static get ENGINE_MAP(){return rn}static get OS_MAP(){return $e}static get PLATFORMS_MAP(){return we}}var h0=function(e){var n=e.serviceId,t=e.clientVersion;return function(){return V(void 0,void 0,void 0,function(){var a,s,o,f,l,v,u,h,p;return j(this,function(_){return a=!((o=window==null?void 0:window.navigator)===null||o===void 0)&&o.userAgent?M2.parse(window.navigator.userAgent):void 0,s=[["aws-sdk-js",t],["os/"+(((f=a==null?void 0:a.os)===null||f===void 0?void 0:f.name)||"other"),(l=a==null?void 0:a.os)===null||l===void 0?void 0:l.version],["lang/js"],["md/browser",((u=(v=a==null?void 0:a.browser)===null||v===void 0?void 0:v.name)!==null&&u!==void 0?u:"unknown")+"_"+((p=(h=a==null?void 0:a.browser)===null||h===void 0?void 0:h.version)!==null&&p!==void 0?p:"unknown")]],n&&s.push(["api/"+n,t]),[2,s]})})}},k2=function(e){for(var n=[],t=0,a=e.length;t<a;t++){var s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){var o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(n)},B2=function(e){for(var n="",t=0,a=e.length;t<a;t++){var s=e[t];if(s<128)n+=String.fromCharCode(s);else if(192<=s&&s<224){var o=e[++t];n+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){var f=[s,e[++t],e[++t],e[++t]],l="%"+f.map(function(v){return v.toString(16)}).join("%");n+=decodeURIComponent(l)}else n+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return n};function N2(e){return new TextEncoder().encode(e)}function F2(e){return new TextDecoder("utf-8").decode(e)}var $o=function(e){return typeof TextEncoder=="function"?N2(e):k2(e)},v0=function(e){return typeof TextDecoder=="function"?F2(e):B2(e)};function U2(e){var n,t,a={};if(e=e.replace(/^\?/,""),e)try{for(var s=Be(e.split("&")),o=s.next();!o.done;o=s.next()){var f=o.value,l=Ht(f.split("="),2),v=l[0],u=l[1],h=u===void 0?null:u;v=decodeURIComponent(v),h&&(h=decodeURIComponent(h)),v in a?Array.isArray(a[v])?a[v].push(h):a[v]=[a[v],h]:a[v]=h}}catch(p){n={error:p}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return a}var g0=function(e){var n=new URL(e),t=n.hostname,a=n.pathname,s=n.port,o=n.protocol,f=n.search,l;return f&&(l=U2(f)),{hostname:t,port:s?parseInt(s):void 0,protocol:o,path:a,query:l}},p0=function(e){var n;return $($({},e),{tls:(n=e.tls)!==null&&n!==void 0?n:!0,endpoint:e.endpoint?z2(e):function(){return $2(e)},isCustomEndpoint:!!e.endpoint})},z2=function(e){var n=e.endpoint,t=e.urlParser;if(typeof n=="string"){var a=Promise.resolve(t(n));return function(){return a}}else if(typeof n=="object"){var s=Promise.resolve(n);return function(){return s}}return n},$2=function(e){return V(void 0,void 0,void 0,function(){var n,t,a,s,o,f;return j(this,function(l){switch(l.label){case 0:return n=e.tls,t=n===void 0?!0:n,[4,e.region()];case 1:if(a=l.sent(),s=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!s.test(a))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(a)];case 2:if(o=((f=l.sent())!==null&&f!==void 0?f:{}).hostname,!o)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((t?"https:":"http:")+"//"+o)]}})})},y0=function(e){if(!e.region)throw new Error("Region is missing");return $($({},e),{region:K2(e.region)})},K2=function(e){if(typeof e=="string"){var n=Promise.resolve(e);return function(){return n}}return e},Jl="content-length";function G2(e){var n=this;return function(t){return function(a){return V(n,void 0,void 0,function(){var s,o,f,l,v;return j(this,function(u){return s=a.request,sn.isInstance(s)&&(o=s.body,f=s.headers,o&&Object.keys(f).map(function(h){return h.toLowerCase()}).indexOf(Jl)===-1&&(l=e(o),l!==void 0&&(s.headers=$($({},s.headers),(v={},v[Jl]=String(l),v))))),[2,t($($({},a),{request:s}))]})})}}}var H2={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},m0=function(e){return{applyToStack:function(n){n.add(G2(e.bodyLengthChecker),H2)}}};var W2=function(e){return function(n){return function(t){return V(void 0,void 0,void 0,function(){var a,s,o;return j(this,function(f){return sn.isInstance(t.request)?(a=t.request,s=(e.requestHandler.metadata||{}).handlerProtocol,o=s===void 0?"":s,o.indexOf("h2")>=0&&!a.headers[":authority"]?(delete a.headers.host,a.headers[":authority"]=""):a.headers.host||(a.headers.host=a.hostname),[2,n(t)]):[2,n(t)]})})}}},q2={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},_0=function(e){return{applyToStack:function(n){n.add(W2(e),q2)}}},j2=function(){return function(e,n){return function(t){return V(void 0,void 0,void 0,function(){var a,s,o,f,l,v,u,h,p;return j(this,function(_){switch(_.label){case 0:return a=n.clientName,s=n.commandName,o=n.inputFilterSensitiveLog,f=n.logger,l=n.outputFilterSensitiveLog,[4,e(t)];case 1:return v=_.sent(),f?(typeof f.info=="function"&&(u=v.output,h=u.$metadata,p=qr(u,["$metadata"]),f.info({clientName:a,commandName:s,input:o(t.input),output:l(p),metadata:h})),[2,v]):[2,v]}})})}}},V2={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},b0=function(e){return{applyToStack:function(n){n.add(j2(),V2)}}},Y2="X-Amz-Algorithm",Z2="X-Amz-Credential",w0="X-Amz-Date",J2="X-Amz-SignedHeaders",X2="X-Amz-Expires",S0="X-Amz-Signature",E0="X-Amz-Security-Token",x0="authorization",A0=w0.toLowerCase(),Q2="date",eI=[x0,A0,Q2],tI=S0.toLowerCase(),Vs="x-amz-content-sha256",nI=E0.toLowerCase(),rI={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},iI=/^proxy-/,oI=/^sec-/,Ts="AWS4-HMAC-SHA256",aI="AWS4-HMAC-SHA256-PAYLOAD",sI="UNSIGNED-PAYLOAD",uI=50,I0="aws4_request",cI=60*60*24*7,to={},Cs=[];function Rs(e,n,t){return e+"/"+n+"/"+t+"/"+I0}var fI=function(e,n,t,a,s){return V(void 0,void 0,void 0,function(){var o,f,l,v,u,h,p,_,w;return j(this,function(E){switch(E.label){case 0:return[4,Xl(e,n.secretAccessKey,n.accessKeyId)];case 1:if(o=E.sent(),f=t+":"+a+":"+s+":"+et(o)+":"+n.sessionToken,f in to)return[2,to[f]];for(Cs.push(f);Cs.length>uI;)delete to[Cs.shift()];l="AWS4"+n.secretAccessKey,E.label=2;case 2:E.trys.push([2,7,8,9]),v=Be([t,a,s,I0]),u=v.next(),E.label=3;case 3:return u.done?[3,6]:(h=u.value,[4,Xl(e,l,h)]);case 4:l=E.sent(),E.label=5;case 5:return u=v.next(),[3,3];case 6:return[3,9];case 7:return p=E.sent(),_={error:p},[3,9];case 8:try{u&&!u.done&&(w=v.return)&&w.call(v)}finally{if(_)throw _.error}return[7];case 9:return[2,to[f]=l]}})})};function Xl(e,n,t){var a=new e(n);return a.update(t),a.digest()}function Ql(e,n,t){var a,s,o=e.headers,f={};try{for(var l=Be(Object.keys(o).sort()),v=l.next();!v.done;v=l.next()){var u=v.value,h=u.toLowerCase();(h in rI||n!=null&&n.has(h)||iI.test(h)||oI.test(h))&&(!t||t&&!t.has(h))||(f[h]=o[u].trim().replace(/\s+/g," "))}}catch(p){a={error:p}}finally{try{v&&!v.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return f}var no=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,lI)},lI=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function dI(e){var n,t,a=e.query,s=a===void 0?{}:a,o=[],f={},l=function(p){if(p.toLowerCase()===tI)return"continue";o.push(p);var _=s[p];typeof _=="string"?f[p]=no(p)+"="+no(_):Array.isArray(_)&&(f[p]=_.slice(0).sort().reduce(function(w,E){return w.concat([no(p)+"="+no(E)])},[]).join("&"))};try{for(var v=Be(Object.keys(s).sort()),u=v.next();!u.done;u=v.next()){var h=u.value;l(h)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(t=v.return)&&t.call(v)}finally{if(n)throw n.error}}return o.map(function(p){return f[p]}).filter(function(p){return p}).join("&")}var hI=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"};function Ds(e,n){var t=e.headers,a=e.body;return V(this,void 0,void 0,function(){var s,o,f,l,v,u,h;return j(this,function(p){switch(p.label){case 0:try{for(s=Be(Object.keys(t)),o=s.next();!o.done;o=s.next())if(f=o.value,f.toLowerCase()===Vs)return[2,t[f]]}catch(_){u={error:_}}finally{try{o&&!o.done&&(h=s.return)&&h.call(s)}finally{if(u)throw u.error}}return a!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof a=="string"||ArrayBuffer.isView(a)||hI(a)?(l=new n,l.update(a),v=et,[4,l.digest()]):[3,3];case 2:return[2,v.apply(void 0,[p.sent()])];case 3:return[2,sI]}})})}function vI(e,n){var t,a;e=e.toLowerCase();try{for(var s=Be(Object.keys(n)),o=s.next();!o.done;o=s.next()){var f=o.value;if(e===f.toLowerCase())return!0}}catch(l){t={error:l}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(t)throw t.error}}return!1}function T0(e){var n=e.headers,t=e.query,a=qr(e,["headers","query"]);return $($({},a),{headers:$({},n),query:t?gI(t):void 0})}function gI(e){return Object.keys(e).reduce(function(n,t){var a,s=e[t];return $($({},n),(a={},a[t]=Array.isArray(s)?ht(s):s,a))},{})}function pI(e,n){var t,a,s;n===void 0&&(n={});var o=typeof e.clone=="function"?e.clone():T0(e),f=o.headers,l=o.query,v=l===void 0?{}:l;try{for(var u=Be(Object.keys(f)),h=u.next();!h.done;h=u.next()){var p=h.value,_=p.toLowerCase();_.substr(0,6)==="x-amz-"&&!(!((s=n.unhoistableHeaders)===null||s===void 0)&&s.has(_))&&(v[p]=f[p],delete f[p])}}catch(w){t={error:w}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(t)throw t.error}}return $($({},e),{headers:f,query:v})}function ed(e){var n,t;e=typeof e.clone=="function"?e.clone():T0(e);try{for(var a=Be(Object.keys(e.headers)),s=a.next();!s.done;s=a.next()){var o=s.value;eI.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(f){n={error:f}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}return e}function yI(e){return mI(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function mI(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var _I=function(){function e(n){var t=n.applyChecksum,a=n.credentials,s=n.region,o=n.service,f=n.sha256,l=n.uriEscapePath,v=l===void 0?!0:l;this.service=o,this.sha256=f,this.uriEscapePath=v,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=bI(s),this.credentialProvider=wI(a)}return e.prototype.presign=function(n,t){return t===void 0&&(t={}),V(this,void 0,void 0,function(){var a,s,o,f,l,v,u,h,p,_,w,E,I,R,B,z,N,G,Y,ve,le,Se,xt,ri;return j(this,function(Wt){switch(Wt.label){case 0:return a=t.signingDate,s=a===void 0?new Date:a,o=t.expiresIn,f=o===void 0?3600:o,l=t.unsignableHeaders,v=t.unhoistableHeaders,u=t.signableHeaders,h=t.signingRegion,p=t.signingService,[4,this.credentialProvider()];case 1:return _=Wt.sent(),h==null?[3,2]:(E=h,[3,4]);case 2:return[4,this.regionProvider()];case 3:E=Wt.sent(),Wt.label=4;case 4:return w=E,I=ro(s),R=I.longDate,B=I.shortDate,f>cI?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(z=Rs(B,w,p??this.service),N=pI(ed(n),{unhoistableHeaders:v}),_.sessionToken&&(N.query[E0]=_.sessionToken),N.query[Y2]=Ts,N.query[Z2]=_.accessKeyId+"/"+z,N.query[w0]=R,N.query[X2]=f.toString(10),G=Ql(N,l,u),N.query[J2]=td(G),Y=N.query,ve=S0,le=this.getSignature,Se=[R,z,this.getSigningKey(_,w,B,p)],xt=this.createCanonicalRequest,ri=[N,G],[4,Ds(n,this.sha256)]);case 5:return[4,le.apply(this,Se.concat([xt.apply(this,ri.concat([Wt.sent()]))]))];case 6:return Y[ve]=Wt.sent(),[2,N]}})})},e.prototype.sign=function(n,t){return V(this,void 0,void 0,function(){return j(this,function(a){return typeof n=="string"?[2,this.signString(n,t)]:n.headers&&n.payload?[2,this.signEvent(n,t)]:[2,this.signRequest(n,t)]})})},e.prototype.signEvent=function(n,t){var a=n.headers,s=n.payload,o=t.signingDate,f=o===void 0?new Date:o,l=t.priorSignature,v=t.signingRegion,u=t.signingService;return V(this,void 0,void 0,function(){var h,p,_,w,E,I,R,B,z,N,G;return j(this,function(Y){switch(Y.label){case 0:return v==null?[3,1]:(p=v,[3,3]);case 1:return[4,this.regionProvider()];case 2:p=Y.sent(),Y.label=3;case 3:return h=p,_=ro(f),w=_.shortDate,E=_.longDate,I=Rs(w,h,u??this.service),[4,Ds({headers:{},body:s},this.sha256)];case 4:return R=Y.sent(),B=new this.sha256,B.update(a),N=et,[4,B.digest()];case 5:return z=N.apply(void 0,[Y.sent()]),G=[aI,E,I,l,z,R].join(`
`),[2,this.signString(G,{signingDate:f,signingRegion:h,signingService:u})]}})})},e.prototype.signString=function(n,t){var a=t===void 0?{}:t,s=a.signingDate,o=s===void 0?new Date:s,f=a.signingRegion,l=a.signingService;return V(this,void 0,void 0,function(){var v,u,h,p,_,w,E,I;return j(this,function(R){switch(R.label){case 0:return[4,this.credentialProvider()];case 1:return v=R.sent(),f==null?[3,2]:(h=f,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=R.sent(),R.label=4;case 4:return u=h,p=ro(o).shortDate,E=(w=this.sha256).bind,[4,this.getSigningKey(v,u,p,l)];case 5:return _=new(E.apply(w,[void 0,R.sent()])),_.update(n),I=et,[4,_.digest()];case 6:return[2,I.apply(void 0,[R.sent()])]}})})},e.prototype.signRequest=function(n,t){var a=t===void 0?{}:t,s=a.signingDate,o=s===void 0?new Date:s,f=a.signableHeaders,l=a.unsignableHeaders,v=a.signingRegion,u=a.signingService;return V(this,void 0,void 0,function(){var h,p,_,w,E,I,R,B,z,N,G;return j(this,function(Y){switch(Y.label){case 0:return[4,this.credentialProvider()];case 1:return h=Y.sent(),v==null?[3,2]:(_=v,[3,4]);case 2:return[4,this.regionProvider()];case 3:_=Y.sent(),Y.label=4;case 4:return p=_,w=ed(n),E=ro(o),I=E.longDate,R=E.shortDate,B=Rs(R,p,u??this.service),w.headers[A0]=I,h.sessionToken&&(w.headers[nI]=h.sessionToken),[4,Ds(w,this.sha256)];case 5:return z=Y.sent(),!vI(Vs,w.headers)&&this.applyChecksum&&(w.headers[Vs]=z),N=Ql(w,l,f),[4,this.getSignature(I,B,this.getSigningKey(h,p,R,u),this.createCanonicalRequest(w,N,z))];case 6:return G=Y.sent(),w.headers[x0]=Ts+" "+("Credential="+h.accessKeyId+"/"+B+", ")+("SignedHeaders="+td(N)+", ")+("Signature="+G),[2,w]}})})},e.prototype.createCanonicalRequest=function(n,t,a){var s=Object.keys(t).sort();return n.method+`
`+this.getCanonicalPath(n)+`
`+dI(n)+`
`+s.map(function(o){return o+":"+t[o]}).join(`
`)+`

`+s.join(";")+`
`+a},e.prototype.createStringToSign=function(n,t,a){return V(this,void 0,void 0,function(){var s,o;return j(this,function(f){switch(f.label){case 0:return s=new this.sha256,s.update(a),[4,s.digest()];case 1:return o=f.sent(),[2,Ts+`
`+n+`
`+t+`
`+et(o)]}})})},e.prototype.getCanonicalPath=function(n){var t=n.path;if(this.uriEscapePath){var a=encodeURIComponent(t.replace(/^\//,""));return"/"+a.replace(/%2F/g,"/")}return t},e.prototype.getSignature=function(n,t,a,s){return V(this,void 0,void 0,function(){var o,f,l,v,u;return j(this,function(h){switch(h.label){case 0:return[4,this.createStringToSign(n,t,s)];case 1:return o=h.sent(),v=(l=this.sha256).bind,[4,a];case 2:return f=new(v.apply(l,[void 0,h.sent()])),f.update(o),u=et,[4,f.digest()];case 3:return[2,u.apply(void 0,[h.sent()])]}})})},e.prototype.getSigningKey=function(n,t,a,s){return fI(this.sha256,n,a,t,s||this.service)},e}(),ro=function(e){var n=yI(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},td=function(e){return Object.keys(e).sort().join(";")},bI=function(e){if(typeof e=="string"){var n=Promise.resolve(e);return function(){return n}}else return e},wI=function(e){if(typeof e=="object"){var n=Promise.resolve(e);return function(){return n}}else return e};function C0(e){var n=this,t=e.credentials||e.credentialDefaultProvider(e),a=Os(t),s=e.signingEscapePath,o=s===void 0?!0:s,f=e.systemClockOffset,l=f===void 0?e.systemClockOffset||0:f,v=e.sha256,u;return e.signer?u=Os(e.signer):u=function(){return Os(e.region)().then(function(h){return V(n,void 0,void 0,function(){return j(this,function(p){switch(p.label){case 0:return[4,e.regionInfoProvider(h)];case 1:return[2,[p.sent()||{},h]]}})})}).then(function(h){var p=Ht(h,2),_=p[0],w=p[1],E=_.signingRegion,I=_.signingService;return e.signingRegion=e.signingRegion||E||w,e.signingName=e.signingName||I||e.serviceId,new _I({credentials:a,region:e.signingRegion,service:e.signingName,sha256:v,uriEscapePath:o})})},$($({},e),{systemClockOffset:l,signingEscapePath:o,credentials:a,signer:u})}function Os(e){if(typeof e=="object"){var n=Promise.resolve(e);return function(){return n}}return e}var SI=function(e,n){return Math.abs(EI(n).getTime()-e)>=3e5},EI=function(e){return new Date(Date.now()+e)};function xI(e){return function(n,t){return function(a){return V(this,void 0,void 0,function(){var s,o,f,l,v,u,h,p,_;return j(this,function(w){switch(w.label){case 0:return sn.isInstance(a.request)?typeof e.signer!="function"?[3,2]:[4,e.signer()]:[2,n(a)];case 1:return o=w.sent(),[3,3];case 2:o=e.signer,w.label=3;case 3:return s=o,l=n,v=[$({},a)],_={},[4,s.sign(a.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:t.signing_region,signingService:t.signing_service})];case 4:return[4,l.apply(void 0,[$.apply(void 0,v.concat([(_.request=w.sent(),_)]))])];case 5:return f=w.sent(),u=f.response.headers,h=u&&(u.date||u.Date),h&&(p=Date.parse(h),SI(p,e.systemClockOffset)&&(e.systemClockOffset=p-Date.now())),[2,f]}})})}}}var AI={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},R0=function(e){return{applyToStack:function(n){n.addRelativeTo(xI(e),AI)}}};function D0(e){return $($({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var Ls="user-agent",II="x-amz-user-agent",nd=" ",TI=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,CI=function(e){return function(n,t){return function(a){return V(void 0,void 0,void 0,function(){var s,o,f,l,v,u,h,p;return j(this,function(_){switch(_.label){case 0:return s=a.request,sn.isInstance(s)?(o=s.headers,f=((h=t==null?void 0:t.userAgent)===null||h===void 0?void 0:h.map(Ps))||[],[4,e.defaultUserAgentProvider()]):[2,n(a)];case 1:return l=_.sent().map(Ps),v=((p=e==null?void 0:e.customUserAgent)===null||p===void 0?void 0:p.map(Ps))||[],o[II]=ht(l,f,v).join(nd),u=ht(l.filter(function(w){return w.startsWith("aws-sdk-")}),v).join(nd),e.runtime!=="browser"&&u&&(o[Ls]=o[Ls]?o[Ls]+" "+u:u),[2,n($($({},a),{request:s}))]}})})}}},Ps=function(e){var n=Ht(e,2),t=n[0],a=n[1],s=t.indexOf("/"),o=t.substring(0,s),f=t.substring(s+1);return o==="api"&&(f=f.toLowerCase()),[o,f,a].filter(function(l){return l&&l.length>0}).map(function(l){return l==null?void 0:l.replace(TI,"_")}).join("/")},RI={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},O0=function(e){return{applyToStack:function(n){n.add(CI(e),RI)}}},po=function(){var e=[],n=[],t=new Set,a=function(h){return h.sort(function(p,_){return rd[_.step]-rd[p.step]||id[_.priority||"normal"]-id[p.priority||"normal"]})},s=function(h){var p=!1,_=function(w){return w.name&&w.name===h?(p=!0,t.delete(h),!1):!0};return e=e.filter(_),n=n.filter(_),p},o=function(h){var p=!1,_=function(w){return w.middleware===h?(p=!0,w.name&&t.delete(w.name),!1):!0};return e=e.filter(_),n=n.filter(_),p},f=function(h){return e.forEach(function(p){h.add(p.middleware,$({},p))}),n.forEach(function(p){h.addRelativeTo(p.middleware,$({},p))}),h},l=function(h){var p=[];return h.before.forEach(function(_){_.before.length===0&&_.after.length===0?p.push(_):p.push.apply(p,ht(l(_)))}),p.push(h),h.after.reverse().forEach(function(_){_.before.length===0&&_.after.length===0?p.push(_):p.push.apply(p,ht(l(_)))}),p},v=function(){var h=[],p=[],_={};e.forEach(function(E){var I=$($({},E),{before:[],after:[]});I.name&&(_[I.name]=I),h.push(I)}),n.forEach(function(E){var I=$($({},E),{before:[],after:[]});I.name&&(_[I.name]=I),p.push(I)}),p.forEach(function(E){if(E.toMiddleware){var I=_[E.toMiddleware];if(I===void 0)throw new Error(E.toMiddleware+" is not found when adding "+(E.name||"anonymous")+" middleware "+E.relation+" "+E.toMiddleware);E.relation==="after"&&I.after.push(E),E.relation==="before"&&I.before.push(E)}});var w=a(h).map(l).reduce(function(E,I){return E.push.apply(E,ht(I)),E},[]);return w.map(function(E){return E.middleware})},u={add:function(h,p){p===void 0&&(p={});var _=p.name,w=p.override,E=$({step:"initialize",priority:"normal",middleware:h},p);if(_){if(t.has(_)){if(!w)throw new Error("Duplicate middleware name '"+_+"'");var I=e.findIndex(function(B){return B.name===_}),R=e[I];if(R.step!==E.step||R.priority!==E.priority)throw new Error('"'+_+'" middleware with '+R.priority+" priority in "+R.step+" step cannot be "+("overridden by same-name middleware with "+E.priority+" priority in "+E.step+" step."));e.splice(I,1)}t.add(_)}e.push(E)},addRelativeTo:function(h,p){var _=p.name,w=p.override,E=$({middleware:h},p);if(_){if(t.has(_)){if(!w)throw new Error("Duplicate middleware name '"+_+"'");var I=n.findIndex(function(B){return B.name===_}),R=n[I];if(R.toMiddleware!==E.toMiddleware||R.relation!==E.relation)throw new Error('"'+_+'" middleware '+R.relation+' "'+R.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+E.relation+' "'+E.toMiddleware+'" middleware.'));n.splice(I,1)}t.add(_)}n.push(E)},clone:function(){return f(po())},use:function(h){h.applyToStack(u)},remove:function(h){return typeof h=="string"?s(h):o(h)},removeByTag:function(h){var p=!1,_=function(w){var E=w.tags,I=w.name;return E&&E.includes(h)?(I&&t.delete(I),p=!0,!1):!0};return e=e.filter(_),n=n.filter(_),p},concat:function(h){var p=f(po());return p.use(h),p},applyToStack:f,resolve:function(h,p){var _,w;try{for(var E=Be(v().reverse()),I=E.next();!I.done;I=E.next()){var R=I.value;h=R(h,p)}}catch(B){_={error:B}}finally{try{I&&!I.done&&(w=E.return)&&w.call(E)}finally{if(_)throw _.error}}return h}};return u},rd={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},id={high:3,normal:2,low:1},L0=function(){function e(n){this.middlewareStack=po(),this.config=n}return e.prototype.send=function(n,t,a){var s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:a,f=n.resolveMiddleware(this.middlewareStack,this.config,s);if(o)f(n).then(function(l){return o(null,l.output)},function(l){return o(l)}).catch(function(){});else return f(n).then(function(l){return l.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),P0=function(){function e(){this.middlewareStack=po()}return e}(),yo=function(){var e=Object.getPrototypeOf(this).constructor,n=Function.bind.apply(String,ht([null],arguments)),t=new n;return Object.setPrototypeOf(t,e.prototype),t};yo.prototype=Object.create(String.prototype,{constructor:{value:yo,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(yo,String);(function(e){To(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},n.prototype.toJSON=function(){return e.prototype.toString.call(this)},n.fromObject=function(t){return t instanceof n?t:t instanceof String||typeof t=="string"?new n(t):new n(JSON.stringify(t))},n})(yo);var Ot="***SensitiveInformation***",DI=function(e,n){return function(t,a){return function(s){return V(void 0,void 0,void 0,function(){var o,f;return j(this,function(l){switch(l.label){case 0:return[4,t(s)];case 1:return o=l.sent().response,[4,n(o,e)];case 2:return f=l.sent(),[2,{response:o,output:f}]}})})}}},OI=function(e,n){return function(t,a){return function(s){return V(void 0,void 0,void 0,function(){var o;return j(this,function(f){switch(f.label){case 0:return[4,n(s.input,e)];case 1:return o=f.sent(),[2,t($($({},s),{request:o}))]}})})}}},LI={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},PI={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function M0(e,n,t){return{applyToStack:function(a){a.add(DI(e,t),LI),a.add(OI(e,n),PI)}}}var MI=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},kI=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},an=new Ie("CognitoCredentials"),BI=new Promise(function(e,n){if(!Et().isBrowser)return an.debug("not in the browser, directly resolved"),e();var t=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(t)return an.debug("google api already loaded"),e();setTimeout(function(){return e()},2e3)}),NI=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return MI(this,void 0,void 0,function(){return kI(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:(an.debug("need to wait for the Google SDK loaded"),[4,BI]);case 1:n.sent(),this.initialized=!0,an.debug("finish waiting"),n.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var n=null;return Et().isBrowser&&(n=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),n?new Promise(function(t,a){n.getAuthInstance().then(function(s){s||(an.debug("google Auth undefined"),a(new Dn("google Auth undefined")));var o=s.currentUser.get();o.isSignedIn()?(an.debug("refreshing the google access token"),o.reloadAuthResponse().then(function(f){var l=f.id_token,v=f.expires_at;t({token:l,expires_at:v})}).catch(function(f){f&&f.error==="network_error"?a("Network error reloading google auth response"):a(new Dn("Failed to reload google auth response"))})):a(new Dn("User is not signed in with Google"))}).catch(function(s){an.debug("Failed to refresh google token",s),a(new Dn("Failed to refresh google token"))})}):(an.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),FI=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},UI=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Cn=new Ie("CognitoCredentials"),zI=new Promise(function(e,n){if(!Et().isBrowser)return Cn.debug("not in the browser, directly resolved"),e();var t=window.FB;if(t)return Cn.debug("FB SDK already loaded"),e();setTimeout(function(){return e()},2e3)}),$I=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return FI(this,void 0,void 0,function(){return UI(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:(Cn.debug("need to wait for the Facebook SDK loaded"),[4,zI]);case 1:n.sent(),this.initialized=!0,Cn.debug("finish waiting"),n.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var n=null;if(Et().isBrowser&&(n=window.FB),!n){var t="no fb sdk available";return Cn.debug(t),Promise.reject(new Dn(t))}return new Promise(function(a,s){n.getLoginStatus(function(o){if(!o||!o.authResponse){var f="no response from facebook when refreshing the jwt token";Cn.debug(f),s(new Dn(f))}else{var l=o.authResponse,v=l.accessToken,u=l.expiresIn,h=new Date,p=u*1e3+h.getTime();if(!v){var f="the jwtToken is undefined";Cn.debug(f),s(new Dn(f))}a({token:v,expires_at:p})}},{scope:"public_profile,email"})})},e}(),KI=new NI,GI=new $I,Sn={},HI=function(){function e(){}return e.setItem=function(n,t){return Sn[n]=t,Sn[n]},e.getItem=function(n){return Object.prototype.hasOwnProperty.call(Sn,n)?Sn[n]:void 0},e.removeItem=function(n){return delete Sn[n]},e.clear=function(){return Sn={},Sn},e}(),k0=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=HI}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),B0={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},WI={partitions:[B0,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},qI=globalThis&&globalThis.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},N0=function(e){var n,t,a=WI.partitions;try{for(var s=qI(a),o=s.next();!o.done;o=s.next()){var f=o.value,l=f.regions,v=f.outputs,u=f.regionRegex,h=new RegExp(u);if(l.includes(e)||h.test(e))return v.dnsSuffix}}catch(p){n={error:p}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return B0.outputs.dnsSuffix};function jI(e,n){return n=n||{},new Promise(function(t,a){var s=new XMLHttpRequest,o=[],f=[],l={},v=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:v,headers:{keys:function(){return o},entries:function(){return f},get:function(h){return l[h.toLowerCase()]},has:function(h){return h.toLowerCase()in l}}}};for(var u in s.open(n.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(h,p,_){o.push(p=p.toLowerCase()),f.push([p,_]),l[p]=l[p]?l[p]+","+_:_}),t(v())},s.onerror=a,s.withCredentials=n.credentials=="include",n.headers)s.setRequestHeader(u,n.headers[u]);s.send(n.body||null)})}const VI=Object.freeze(Object.defineProperty({__proto__:null,default:jI},Symbol.toStringTag,{value:"Module"})),od=ar(VI);self.fetch||(self.fetch=od.default||od);var Ms=function(e){var n;return function(){return n||(n=e()),n}},mo=globalThis&&globalThis.__assign||function(){return mo=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mo.apply(this,arguments)},YI=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},ZI=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},JI=function(e){return!["HEAD","GET","DELETE"].includes(e.toUpperCase())},F0=function(e,n){var t=e.url,a=e.method,s=e.headers,o=e.body,f=n.abortSignal;return YI(void 0,void 0,void 0,function(){var l,v,u,h,p,_,w;return ZI(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,fetch(t,{method:a,headers:s,body:JI(a)?o:void 0,signal:f})];case 1:return l=E.sent(),[3,3];case 2:throw v=E.sent(),v instanceof TypeError?new Error("Network error"):v;case 3:return u={},(_=l.headers)===null||_===void 0||_.forEach(function(I,R){u[R.toLowerCase()]=I}),h={statusCode:l.status,headers:u,body:null},p=Object.assign((w=l.body)!==null&&w!==void 0?w:{},{text:Ms(function(){return l.text()}),blob:Ms(function(){return l.blob()}),json:Ms(function(){return l.json()})}),[2,mo(mo({},h),{body:p})]}})})},_o=globalThis&&globalThis.__assign||function(){return _o=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_o.apply(this,arguments)},XI=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},QI=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},eT=3,U0=function(e){var n=e.maxAttempts,t=n===void 0?eT:n,a=e.retryDecider,s=e.computeDelay,o=e.abortSignal;if(t<1)throw new Error("maxAttempts must be greater than 0");return function(f,l){return function(u){var h;return XI(this,void 0,void 0,function(){var p,_,w,E,I,R;return QI(this,function(B){switch(B.label){case 0:_=(h=l.attemptsCount)!==null&&h!==void 0?h:0,E=function(){if(w)return ad(w,_),w;throw ad(p,_),p},B.label=1;case 1:if(!(!(o!=null&&o.aborted)&&_<t))return[3,11];B.label=2;case 2:return B.trys.push([2,4,,5]),[4,f(u)];case 3:return w=B.sent(),p=void 0,[3,5];case 4:return I=B.sent(),p=I,w=void 0,[3,5];case 5:return _=l.attemptsCount>_?l.attemptsCount:_+1,l.attemptsCount=_,[4,a(w,p)];case 6:return B.sent()?!(o!=null&&o.aborted)&&_<t?(R=s(_),[4,tT(R,o)]):[3,8]:[3,9];case 7:B.sent(),B.label=8;case 8:return[3,1];case 9:return[2,E()];case 10:return[3,1];case 11:if(o!=null&&o.aborted)throw new Error("Request aborted.");return[2,E()]}})})}}},tT=function(e,n){if(n!=null&&n.aborted)return Promise.resolve();var t,a,s=new Promise(function(o){a=o,t=setTimeout(o,e)});return n==null||n.addEventListener("abort",function o(f){clearTimeout(t),n==null||n.removeEventListener("abort",o),a()}),s},ad=function(e,n){var t;Object.prototype.toString.call(e)==="[object Object]"&&(e.$metadata=_o(_o({},(t=e.$metadata)!==null&&t!==void 0?t:{}),{attempts:n}))},sd=5*60*1e3,z0=function(e){var n=Ng(sd),t=n(e);return t===!1?sd:t},nT=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],rT=function(e){return nT.includes(e)},iT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},oT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$0=function(e){return function(n,t){return iT(void 0,void 0,void 0,function(){var a,s,o,f;return oT(this,function(l){switch(l.label){case 0:return t==null?[3,1]:(s=t,[3,3]);case 1:return[4,e(n)];case 2:s=l.sent(),l.label=3;case 3:return a=((f=s)!==null&&f!==void 0?f:{}).name,o=n==null?void 0:n.statusCode,[2,cT(t)||uT(o,a)||rT(a)||fT(o,a)]}})})}},aT=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],sT=["TimeoutError","RequestTimeout","RequestTimeoutException"],uT=function(e,n){return e===429||aT.includes(n)},cT=function(e){return(e==null?void 0:e.name)==="Network error"},fT=function(e,n){return[500,502,503,504].includes(e)||sT.includes(n)},lT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},dT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},K0=function(e){var n=e.userAgentHeader,t=n===void 0?"x-amz-user-agent":n,a=e.userAgentValue,s=a===void 0?"":a;return function(o){return function(l){return lT(this,void 0,void 0,function(){var v,u,h;return dT(this,function(p){switch(p.label){case 0:return s.trim().length!==0?[3,2]:[4,o(l)];case 1:return v=p.sent(),[2,v];case 2:return u=t.toLowerCase(),l.headers[u]=l.headers[u]?"".concat(l.headers[u]," ").concat(s):s,[4,o(l)];case 3:return h=p.sent(),[2,h]}})})}}},Bu=function(e,n){return function(t,a){for(var s={},o=function(u){return e(u,a)},f=n.length-1;f>=0;f--){var l=n[f],v=l(a);o=v(o,s)}return o(t)}},hT=Bu(F0,[K0,U0]),G0=function(e){return new Date(Date.now()+e)},vT=5*60*1e3,gT=function(e,n){return Math.abs(G0(n).getTime()-e)>=vT},pT=function(e,n){return gT(e,n)?e-Date.now():n},yT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},mT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},_T=function(e){var n=e.credentials,t=e.region,a=e.service,s=e.uriEscapePath,o=s===void 0?!0:s,f;return function(l){return function(u){return yT(this,void 0,void 0,function(){var h,p,_,w,E,I;return mT(this,function(R){switch(R.label){case 0:return f=f??0,I={},typeof n!="function"?[3,2]:[4,n()];case 1:return p=R.sent(),[3,3];case 2:p=n,R.label=3;case 3:return h=(I.credentials=p,I.signingDate=G0(f),I.signingRegion=t,I.signingService=a,I.uriEscapePath=o,I),[4,Wg(u,h)];case 4:return _=R.sent(),[4,l(_)];case 5:return w=R.sent(),E=bT(w),E&&(f=pT(Date.parse(E),f)),[2,w]}})})}}},bT=function(e){var n,t,a=e===void 0?{}:e,s=a.headers;return(t=(n=s==null?void 0:s.date)!==null&&n!==void 0?n:s==null?void 0:s.Date)!==null&&t!==void 0?t:s==null?void 0:s["x-amz-date"]},H0=Bu(F0,[K0,U0,_T]),Ys=function(e){var n=/[!'()*]/g;return encodeURIComponent(e).replace(n,wT)},wT=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},bo=globalThis&&globalThis.__assign||function(){return bo=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bo.apply(this,arguments)},ur=function(e){var n,t,a=e.headers,s=e.statusCode;return bo(bo({},ST(e)?e.$metadata:{}),{httpStatusCode:s,requestId:(t=(n=a["x-amzn-requestid"])!==null&&n!==void 0?n:a["x-amzn-request-id"])!==null&&t!==void 0?t:a["x-amz-request-id"],extendedRequestId:a["x-amz-id-2"],cfId:a["x-amz-cf-id"]})},ST=function(e){return typeof(e==null?void 0:e.$metadata)=="object"},W0=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},q0=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ET=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},cr=function(e){return W0(void 0,void 0,void 0,function(){var n,t,a,s,o,f,l,v,u,h;return q0(this,function(p){switch(p.label){case 0:return!e||e.statusCode<300?[2]:[4,ni(e)];case 1:return n=p.sent(),t=function(_){var w=ET(_.toString().split(/[\,\:]+/),1),E=w[0];return E.includes("#")?E.split("#")[1]:E},a=t((v=(l=(f=e.headers["x-amzn-errortype"])!==null&&f!==void 0?f:n.code)!==null&&l!==void 0?l:n.__type)!==null&&v!==void 0?v:"UnknownError"),s=(h=(u=n.message)!==null&&u!==void 0?u:n.Message)!==null&&h!==void 0?h:"Unknown error",o=new Error(s),[2,Object.assign(o,{name:a,$metadata:ur(e)})]}})})},ni=function(e){return W0(void 0,void 0,void 0,function(){var n;return q0(this,function(t){switch(t.label){case 0:if(!e.body)throw new Error("Missing response payload");return[4,e.body.json()];case 1:return n=t.sent(),[2,Object.assign(n,{$metadata:ur(e)})]}})})},xT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},AT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},IT="cognito-identity",TT=function(e){var n=e.region;return{url:new URL("https://cognito-identity.".concat(n,".").concat(N0(n)))}},CT=function(){return function(e,n){return function(a){return xT(this,void 0,void 0,function(){return AT(this,function(s){return a.headers["cache-control"]="no-store",[2,e(a)]})})}}},j0=Bu(hT,[CT]),Nu={service:IT,endpointResolver:TT,retryDecider:$0(cr),computeDelay:z0,userAgentValue:Io()};Dg(function(){Nu.userAgentValue=Io()});var V0=function(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}},Y0=function(e,n,t){var a=e.url;return{headers:n,url:a,body:t,method:"POST"}},Gr=globalThis&&globalThis.__assign||function(){return Gr=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gr.apply(this,arguments)},RT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},DT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ko=function(e,n,t,a){return function(s,o){return RT(void 0,void 0,void 0,function(){var f,l,v,u;return DT(this,function(h){switch(h.label){case 0:return f=Gr(Gr({},a),s),[4,f.endpointResolver(f,o)];case 1:return l=h.sent(),[4,n(o,l)];case 2:return v=h.sent(),[4,e(v,Gr({},f))];case 3:return u=h.sent(),[4,t(u)];case 4:return[2,h.sent()]}})})}},OT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},LT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},PT=function(e,n){var t=V0("GetId"),a=JSON.stringify(e);return Y0(n,t,a)},MT=function(e){return OT(void 0,void 0,void 0,function(){var n,t;return LT(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[4,cr(e)]:[3,2];case 1:throw n=a.sent(),n;case 2:return[4,ni(e)];case 3:return t=a.sent(),[2,{IdentityId:t.IdentityId,$metadata:ur(e)}]}})})},io=Ko(j0,PT,MT,Nu),kT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},BT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},NT=function(e,n){var t=V0("GetCredentialsForIdentity"),a=JSON.stringify(e);return Y0(n,t,a)},FT=function(e){return kT(void 0,void 0,void 0,function(){var n,t;return BT(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[4,cr(e)]:[3,2];case 1:throw n=a.sent(),n;case 2:return[4,ni(e)];case 3:return t=a.sent(),[2,{IdentityId:t.IdentityId,Credentials:UT(t.Credentials),$metadata:ur(e)}]}})})},UT=function(e){return e===void 0&&(e={}),{AccessKeyId:e.AccessKeyId,SecretKey:e.SecretKey,SessionToken:e.SessionToken,Expiration:new Date(e.Expiration*1e3)}},oo=Ko(j0,NT,FT,Nu),wo=globalThis&&globalThis.__assign||function(){return wo=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wo.apply(this,arguments)},Me=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},ke=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},te=new Ie("Credentials"),zT=50*60*1e3,$T="CognitoIdentityId-",KT=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",GT=function(e,n,t){Rn.dispatch("core",{event:e,data:n,message:t},"Credentials",KT)},HT=function(){function e(n){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(n),this._refreshHandlers.google=KI.refreshGoogleToken,this._refreshHandlers.facebook=GI.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(n){if(!n)return this._config||{};this._config=Object.assign({},this._config,n);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=wo(wo({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=new k0().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),GT("credentials_configured",null,"Credentials has been configured successfully"),this._config},e.prototype.get=function(){return te.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(n){return"".concat($T).concat(n)},e.prototype._pickupCredentials=function(){return te.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(te.debug("getting new cred promise"),this._gettingCredPromise=$E(this._keepAlive())):te.debug("getting old cred promise"),this._gettingCredPromise},e.prototype._keepAlive=function(){return Me(this,void 0,void 0,function(){var n,t,a,s,o,f,l,v;return ke(this,function(u){switch(u.label){case 0:if(te.debug("checking if credentials exists and not expired"),n=this._credentials,n&&!this._isExpired(n)&&!this._isPastTTL())return te.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(n)];if(te.debug("need to get a new credential or refresh the existing one"),t=this.Auth,a=t===void 0?Qr.Auth:t,!a||typeof a.currentUserCredentials!="function")return[2,this._setCredentialsForGuest()];if(!(!this._isExpired(n)&&this._isPastTTL()))return[3,6];te.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,a.currentUserPoolUser()];case 2:return s=u.sent(),[4,a.currentSession()];case 3:return o=u.sent(),f=o.refreshToken,l=new Promise(function(h,p){s.refreshSession(f,function(_,w){return _?p(_):h(w)})}),[4,l];case 4:return u.sent(),[3,6];case 5:return v=u.sent(),te.debug("Error attempting to refreshing the session",v),[3,6];case 6:return[2,a.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(n){te.debug("Getting federated credentials");var t=n.provider,a=n.user,s=n.token,o=n.identity_id,f=n.expires_at;f=new Date(f).getFullYear()===1970?f*1e3:f;var l=this;return te.debug("checking if federated jwt token expired"),f>new Date().getTime()?(te.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:s,user:a,identity_id:o,expires_at:f})):l._refreshHandlers[t]&&typeof l._refreshHandlers[t]=="function"?(te.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:l._refreshHandlers[t],provider:t,user:a})):(te.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(n){var t=this,a=n.refreshHandler,s=n.provider,o=n.user,f=10*1e3;return jE(a,[],f).then(function(l){return te.debug("refresh federated token sucessfully",l),t._setCredentialsFromFederation({provider:s,token:l.token,user:o,identity_id:l.identity_id,expires_at:l.expires_at})}).catch(function(l){var v=typeof l=="string"&&l.toLowerCase().lastIndexOf("network error",l.length)===0;return v||t.clear(),te.debug("refresh federated token failed",l),Promise.reject("refreshing federation token failed: "+l)})},e.prototype._isExpired=function(n){if(!n)return te.debug("no credentials for expiration check"),!0;te.debug("are these credentials expired?",n);var t=Date.now(),a=n.expiration;return a.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var n;return Me(this,void 0,void 0,function(){var t,a,s,o,f,l,v,u,h,p,_=this;return ke(this,function(w){switch(w.label){case 0:return te.debug("setting credentials for guest"),!((n=this._config)===null||n===void 0)&&n.identityPoolId||(this._config=Object.assign({},this._config,jg(this._config||{}).Auth)),t=this._config,a=t.identityPoolId,s=t.region,o=t.mandatorySignIn,f=t.identityPoolRegion,o?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:a?!f&&!s?(te.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(v=this,[4,this._getGuestIdentityId()]):(te.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return l=v._identityId=w.sent(),u={region:f??s},h=function(){return Me(_,void 0,void 0,function(){var E,I;return ke(this,function(R){switch(R.label){case 0:return l?[3,2]:[4,io(u,{IdentityPoolId:a})];case 1:E=R.sent().IdentityId,this._identityId=E,R.label=2;case 2:return[4,oo(u,{IdentityId:this._identityId})];case 3:return I=R.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:I.AccessKeyId,secretAccessKey:I.SecretKey,sessionToken:I.SessionToken,expiration:I.Expiration}]}})})},p=h().catch(function(E){return Me(_,void 0,void 0,function(){return ke(this,function(I){throw E})})}),[2,this._loadCredentials(p,"guest",!1,null).then(function(E){return E}).catch(function(E){return Me(_,void 0,void 0,function(){var I,R=this;return ke(this,function(B){switch(B.label){case 0:return E.name==="ResourceNotFoundException"&&E.message==="Identity '".concat(l,"' not found.")?(te.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return B.sent(),I=function(){return Me(R,void 0,void 0,function(){var z,N;return ke(this,function(G){switch(G.label){case 0:return[4,io(u,{IdentityPoolId:a})];case 1:return z=G.sent().IdentityId,this._identityId=z,[4,oo(u,{IdentityId:z})];case 2:return N=G.sent().Credentials,[2,{identityId:z,accessKeyId:N.AccessKeyId,secretAccessKey:N.SecretKey,sessionToken:N.SessionToken,expiration:N.Expiration}]}})})},p=I().catch(function(z){return Me(R,void 0,void 0,function(){return ke(this,function(N){throw z})})}),[2,this._loadCredentials(p,"guest",!1,null)];case 2:return[2,E]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(n){var t=this,a=n.provider,s=n.token,o=n.identity_id,f={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},l=f[a]||a;if(!l)return Promise.reject("You must specify a federated provider");var v={};v[l]=s;var u=this._config,h=u.identityPoolId,p=u.region,_=u.identityPoolRegion;if(!h)return te.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!_&&!p)return te.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var w={region:_??p},E=function(){return Me(t,void 0,void 0,function(){var R,B;return ke(this,function(z){switch(z.label){case 0:return o?[3,2]:[4,io(w,{IdentityPoolId:h,Logins:v})];case 1:R=z.sent().IdentityId,o=R,z.label=2;case 2:return[4,oo(w,{IdentityId:o,Logins:v})];case 3:return B=z.sent().Credentials,[2,{identityId:o,accessKeyId:B.AccessKeyId,secretAccessKey:B.SecretKey,sessionToken:B.SessionToken,expiration:B.Expiration}]}})})},I=E().catch(function(R){return Me(t,void 0,void 0,function(){return ke(this,function(B){throw R})})});return this._loadCredentials(I,"federated",!0,n)},e.prototype._setCredentialsFromSession=function(n){var t=this;te.debug("set credentials from session");var a=n.getIdToken().getJwtToken(),s=this._config,o=s.region,f=s.userPoolId,l=s.identityPoolId,v=s.identityPoolRegion;if(!l)return te.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!v&&!o)return te.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var u="cognito-idp."+o+".amazonaws.com/"+f,h={};h[u]=a;var p={region:v??o},_=function(){return Me(t,void 0,void 0,function(){var E,I,R,B,z,N,G,Y,ve,le;return ke(this,function(Se){switch(Se.label){case 0:return[4,this._getGuestIdentityId()];case 1:return E=Se.sent(),E?[3,3]:[4,io(p,{IdentityPoolId:l,Logins:h})];case 2:R=Se.sent().IdentityId,I=R,Se.label=3;case 3:return[4,oo(p,{IdentityId:E||I,Logins:h})];case 4:return B=Se.sent(),z=B.Credentials,N=z.AccessKeyId,G=z.Expiration,Y=z.SecretKey,ve=z.SessionToken,le=B.IdentityId,this._identityId=le,E?(te.debug("The guest identity ".concat(E," has been successfully linked to the logins")),E===le&&te.debug("The guest identity ".concat(E," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:Se.sent(),Se.label=6;case 6:return[2,{accessKeyId:N,secretAccessKey:Y,sessionToken:ve,expiration:G,identityId:le}]}})})},w=_().catch(function(E){return Me(t,void 0,void 0,function(){return ke(this,function(I){throw E})})});return this._loadCredentials(w,"userPool",!0,null)},e.prototype._loadCredentials=function(n,t,a,s){var o=this,f=this;return new Promise(function(l,v){n.then(function(u){return Me(o,void 0,void 0,function(){var h,p,_,w,E;return ke(this,function(I){switch(I.label){case 0:if(te.debug("Load credentials successfully",u),this._identityId&&!u.identityId&&(u.identityId=this._identityId),f._credentials=u,f._credentials.authenticated=a,f._credentials_source=t,f._nextCredentialsRefresh=new Date().getTime()+zT,t==="federated"){h=Object.assign({id:this._credentials.identityId},s.user),p=s.provider,_=s.token,w=s.expires_at,E=s.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:p,token:_,user:h,expires_at:w,identity_id:E}))}catch(R){te.debug("Failed to put federated info into auth storage",R)}}return t!=="guest"?[3,2]:[4,this._setGuestIdentityId(u.identityId)];case 1:I.sent(),I.label=2;case 2:return l(f._credentials),[2]}})})}).catch(function(u){if(u){te.debug("Failed to load credentials",n),te.debug("Error loading credentials",u),v(u);return}})})},e.prototype.set=function(n,t){return t==="session"?this._setCredentialsFromSession(n):t==="federation"?this._setCredentialsFromFederation(n):t==="guest"?this._setCredentialsForGuest():(te.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Me(this,void 0,void 0,function(){return ke(this,function(n){return this._credentials=null,this._credentials_source=null,te.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return Me(this,void 0,void 0,function(){var n,t;return ke(this,function(a){switch(a.label){case 0:n=this._config.identityPoolId,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(n))];case 3:return t=a.sent(),te.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(n){return Me(this,void 0,void 0,function(){var t,a;return ke(this,function(s){switch(s.label){case 0:t=this._config.identityPoolId,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),n),[3,4];case 3:return a=s.sent(),te.debug("Failed to cache guest identityId",a),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return Me(this,void 0,void 0,function(){var n;return ke(this,function(t){return n=this._config.identityPoolId,te.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(n)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(n)),[2]})})},e.prototype.shear=function(n){return{accessKeyId:n.accessKeyId,sessionToken:n.sessionToken,secretAccessKey:n.secretAccessKey,identityId:n.identityId,authenticated:n.authenticated}},e}(),Zr=new HT(null);Qr.register(Zr);var St={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new k0().getStorage()};function ud(e){var n=0;n=e.length;for(var t=e.length;t>=0;t-=1){var a=e.charCodeAt(t);a>127&&a<=2047?n+=1:a>2047&&a<=65535&&(n+=2),a>=56320&&a<=57343&&(t-=1)}return n}function er(){var e=new Date;return e.getTime()}function ao(e){return Number.isInteger?Number.isInteger(e):WT(e)}function WT(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}var Gt=new Ie("StorageCache"),qT=function(){function e(n){this.config=Object.assign({},n),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){ao(this.config.capacityInBytes)||(Gt.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=St.capacityInBytes),ao(this.config.itemMaxSize)||(Gt.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=St.itemMaxSize),ao(this.config.defaultTTL)||(Gt.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=St.defaultTTL),ao(this.config.defaultPriority)||(Gt.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=St.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Gt.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=St.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Gt.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=St.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Gt.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=St.warningThreshold);var n=5*1024*1024;this.config.capacityInBytes>n&&(Gt.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=St.capacityInBytes)},e.prototype.fillCacheItem=function(n,t,a){var s={key:n,data:t,timestamp:er(),visitedTime:er(),priority:a.priority,expires:a.expires,type:typeof t,byteSize:0};return s.byteSize=ud(JSON.stringify(s)),s.byteSize=ud(JSON.stringify(s)),s},e.prototype.configure=function(n){return n?(n.keyPrefix&&Gt.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,n,n.Cache),this.checkConfig(),this.config):this.config},e}(),ze=new Ie("Cache"),jT=function(e){To(n,e);function n(t){var a=this,s=t?Object.assign({},St,t):St;return a=e.call(this,s)||this,a.config.storage=s.storage,a.getItem=a.getItem.bind(a),a.setItem=a.setItem.bind(a),a.removeItem=a.removeItem.bind(a),a}return n.prototype._decreaseCurSizeInBytes=function(t){var a=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(a-t).toString())},n.prototype._increaseCurSizeInBytes=function(t){var a=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(a+t).toString())},n.prototype._refreshItem=function(t,a){return t.visitedTime=er(),this.config.storage.setItem(a,JSON.stringify(t)),t},n.prototype._isExpired=function(t){var a=this.config.storage.getItem(t),s=JSON.parse(a);return er()>=s.expires},n.prototype._removeItem=function(t,a){var s=a||JSON.parse(this.config.storage.getItem(t)).byteSize;this._decreaseCurSizeInBytes(s),this.config.storage.removeItem(t)},n.prototype._setItem=function(t,a){this._increaseCurSizeInBytes(a.byteSize);try{this.config.storage.setItem(t,JSON.stringify(a))}catch(s){this._decreaseCurSizeInBytes(a.byteSize),ze.error("Failed to set item "+s)}},n.prototype._sizeToPop=function(t){var a=this.getCacheCurSize()+t-this.config.capacityInBytes,s=(1-this.config.warningThreshold)*this.config.capacityInBytes;return a>s?a:s},n.prototype._isCacheFull=function(t){return t+this.getCacheCurSize()>this.config.capacityInBytes},n.prototype._findValidKeys=function(){for(var t=[],a=[],s=0;s<this.config.storage.length;s+=1)a.push(this.config.storage.key(s));for(var s=0;s<a.length;s+=1){var o=a[s];o.indexOf(this.config.keyPrefix)===0&&o!==this.cacheCurSizeKey&&(this._isExpired(o)?this._removeItem(o):t.push(o))}return t},n.prototype._popOutItems=function(t,a){for(var s=[],o=a,f=0;f<t.length;f+=1){var l=this.config.storage.getItem(t[f]);if(l!=null){var v=JSON.parse(l);s.push(v)}}s.sort(function(u,h){return u.priority>h.priority?-1:u.priority<h.priority?1:u.visitedTime<h.visitedTime?-1:1});for(var f=0;f<s.length;f+=1)if(this._removeItem(s[f].key,s[f].byteSize),o-=s[f].byteSize,o<=0)return},n.prototype.setItem=function(t,a,s){ze.log("Set item: key is "+t+", value is "+a+" with options: "+s);var o=this.config.keyPrefix+t;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey){ze.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof a>"u"){ze.warn("The value of item should not be undefined!");return}var f={priority:s&&s.priority!==void 0?s.priority:this.config.defaultPriority,expires:s&&s.expires!==void 0?s.expires:this.config.defaultTTL+er()};if(f.priority<1||f.priority>5){ze.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var l=this.fillCacheItem(o,a,f);if(l.byteSize>this.config.itemMaxSize){ze.warn("Item with key: "+t+" you are trying to put into is too big!");return}try{var v=this.config.storage.getItem(o);if(v&&this._removeItem(o,JSON.parse(v).byteSize),this._isCacheFull(l.byteSize)){var u=this._findValidKeys();if(this._isCacheFull(l.byteSize)){var h=this._sizeToPop(l.byteSize);this._popOutItems(u,h)}}this._setItem(o,l)}catch(p){ze.warn("setItem failed! "+p)}},n.prototype.getItem=function(t,a){ze.log("Get item: key is "+t+" with options "+a);var s=null,o=this.config.keyPrefix+t;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey)return ze.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(s=this.config.storage.getItem(o),s!=null)if(this._isExpired(o))this._removeItem(o,JSON.parse(s).byteSize),s=null;else{var f=JSON.parse(s);return f=this._refreshItem(f,o),f.data}if(a&&a.callback!==void 0){var l=a.callback();return l!==null&&this.setItem(t,l,a),l}return null}catch(v){return ze.warn("getItem failed! "+v),null}},n.prototype.removeItem=function(t){ze.log("Remove item: key is "+t);var a=this.config.keyPrefix+t;if(!(a===this.config.keyPrefix||a===this.cacheCurSizeKey))try{var s=this.config.storage.getItem(a);s&&this._removeItem(a,JSON.parse(s).byteSize)}catch(o){ze.warn("removeItem failed! "+o)}},n.prototype.clear=function(){ze.log("Clear Cache");for(var t=[],a=0;a<this.config.storage.length;a+=1){var s=this.config.storage.key(a);s.indexOf(this.config.keyPrefix)===0&&t.push(s)}try{for(var a=0;a<t.length;a+=1)this.config.storage.removeItem(t[a])}catch(o){ze.warn("clear failed! "+o)}},n.prototype.getAllKeys=function(){for(var t=[],a=0;a<this.config.storage.length;a+=1){var s=this.config.storage.key(a);s.indexOf(this.config.keyPrefix)===0&&s!==this.cacheCurSizeKey&&t.push(s.substring(this.config.keyPrefix.length))}return t},n.prototype.getCacheCurSize=function(){var t=this.config.storage.getItem(this.cacheCurSizeKey);return t||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),t="0"),Number(t)},n.prototype.createInstance=function(t){return(!t.keyPrefix||t.keyPrefix===St.keyPrefix)&&(ze.error("invalid keyPrefix, setting keyPrefix with timeStamp"),t.keyPrefix=er.toString()),new n(t)},n}(qT),Zs=new jT;Qr.register(Zs);var VT="mobiletargeting",YT=function(e){var n=e.region;return{url:new URL("https://pinpoint.".concat(n,".").concat(N0(n)))}},Z0={service:VT,endpointResolver:YT,retryDecider:$0(cr),computeDelay:z0,userAgentValue:Io()},J0=function(){return{"content-type":"application/json"}},ZT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},JT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},XT=function(e,n){var t=e.ApplicationId,a=e.EventsRequest,s=J0(),o=new URL(n.url);o.pathname="v1/apps/".concat(Ys(t),"/events");var f=JSON.stringify(a??{});return{method:"POST",headers:s,url:o,body:f}},QT=function(e){return ZT(void 0,void 0,void 0,function(){var n,t;return JT(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[4,cr(e)]:[3,2];case 1:throw n=a.sent(),n;case 2:return[4,ni(e)];case 3:return t=a.sent().Results,[2,{EventsResponse:{Results:t},$metadata:ur(e)}]}})})},X0=Ko(H0,XT,QT,Z0),eC=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},tC=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nC=function(e,n){var t=e.ApplicationId,a=e.EndpointId,s=e.EndpointRequest,o=J0(),f=new URL(n.url);f.pathname="v1/apps/".concat(Ys(t),"/endpoints/").concat(Ys(a));var l=JSON.stringify(s??{});return{method:"PUT",headers:o,url:f,body:l}},rC=function(e){return eC(void 0,void 0,void 0,function(){var n,t,a,s;return tC(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[4,cr(e)]:[3,2];case 1:throw n=o.sent(),n;case 2:return[4,ni(e)];case 3:return t=o.sent(),a=t.Message,s=t.RequestID,[2,{MessageBody:{Message:a,RequestID:s},$metadata:ur(e)}]}})})},iC=Ko(H0,nC,rC,Z0);function Q0(e){return Lg({category:fo.Analytics,action:e})}function Js(e){return Io({category:fo.Analytics,action:e})}var oC=function(){return!0},Jn=new Ie("EventsBuffer"),cd=[429,500],aC=[202],sC=function(){function e(n){this._pause=!1,this._flush=!1,Jn.debug("Instantiating buffer with config:",n),this._buffer=[],this._config=n,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(n){var t;if(this._buffer.length>=this._config.bufferSize)return Jn.debug("Exceeded analytics events buffer size"),n.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var a=n.params.event.eventId,s=(t={},t[a]=n,t);this._buffer.push(s)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var n=this._config.flushInterval;this._interval=setInterval(this._sendBatch,n)},e.prototype._sendBatch=function(){var n=this._buffer.length;if(this._flush&&!n&&clearInterval(this._interval),!(this._pause||!n||!oC())){var t=this._config.flushSize,a=Math.min(t,n),s=this._buffer.splice(0,a);this._putEvents(s)}},e.prototype._putEvents=function(n){return V(this,void 0,void 0,function(){var t,a,s,o,f,l,v;return j(this,function(u){switch(u.label){case 0:t=this._bufferToMap(n),a=this._generateBatchEventParams(t),u.label=1;case 1:return u.trys.push([1,3,,4]),s=this._config,o=s.credentials,f=s.region,[4,X0({credentials:o,region:f,userAgentValue:Js(On.Record)},a)];case 2:return l=u.sent(),this._processPutEventsSuccessResponse(l,t),[3,4];case 3:return v=u.sent(),[2,this._handlePutEventsFailure(v,t)];case 4:return[2]}})})},e.prototype._generateBatchEventParams=function(n){var t={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(n).forEach(function(a){var s=a.params,o=s.event,f=s.timestamp,l=s.config,v=o.name,u=o.attributes,h=o.metrics,p=o.eventId,_=o.session,w=l.appId,E=l.endpointId,I=t.EventsRequest.BatchItem;t.ApplicationId=t.ApplicationId||w,I[E]||(I[E]={Endpoint:{},Events:{}}),I[E].Events[p]={EventType:v,Timestamp:new Date(f).toISOString(),Attributes:u,Metrics:h,Session:_}}),t},e.prototype._handlePutEventsFailure=function(n,t){Jn.debug("_putEvents Failed: ",n);var a=n.$metadata&&n.$metadata.httpStatusCode;if(cd.includes(a)){var s=Object.values(t);this._retry(s);return}},e.prototype._processPutEventsSuccessResponse=function(n,t){var a,s=((a=n.EventsResponse)!==null&&a!==void 0?a:{}).Results,o=s===void 0?{}:s,f=[];Object.entries(o).forEach(function(l){var v=Ht(l,2),u=v[0],h=v[1],p,_=(p=h.EventsItemResponse)!==null&&p!==void 0?p:{};Object.entries(_).forEach(function(w){var E,I,R=Ht(w,2),B=R[0],z=R[1],N=t[B];if(N){var G=z??{},Y=G.StatusCode,ve=G.Message,le={EventsResponse:{Results:(E={},E[u]={EventsItemResponse:(I={},I[B]={StatusCode:Y,Message:ve},I)},E)}};if(Y&&aC.includes(Y)){N.handlers.resolve(le);return}if(Y&&cd.includes(Y)){f.push(N);return}var Se=N.params.event.name;return Jn.error("event "+B+" : "+Se+" failed with error: "+ve),N.handlers.reject(le)}})}),f.length&&this._retry(f)},e.prototype._retry=function(n){var t,a=[];n.forEach(function(s){var o,f=s.params,l=f.event,v=l.eventId,u=l.name;if(f.resendLimit-- >0){Jn.debug("resending event "+v+" : "+u+" with "+f.resendLimit+" retry attempts remaining"),a.push((o={},o[v]=s,o));return}Jn.debug("no retry attempts remaining for event "+v+" : "+u)}),(t=this._buffer).unshift.apply(t,ht(a))},e.prototype._bufferToMap=function(n){return n.reduce(function(t,a){var s=Ht(Object.entries(a),1),o=Ht(s[0],2),f=o[0],l=o[1];return t[f]=l,t},{})},e}();const fd=sC;var uC=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",ld=function(e,n){Rn.dispatch("analytics",{event:e,data:n},"Analytics",uC)},pe=new Ie("AWSPinpointProvider"),dd=[429,500],cC=[202],fC=403,lC="mobiletargeting",dC="ExpiredTokenException",hd="_update_endpoint",hC="_session.start",vd="_session.stop",vC=typeof navigator<"u"&&navigator&&typeof navigator.sendBeacon=="function",gC=1e3,pC=100,yC=5*1e3,mC=5,_C=function(){function e(n){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=n||{},this._config.bufferSize=this._config.bufferSize||gC,this._config.flushSize=this._config.flushSize||pC,this._config.flushInterval=this._config.flushInterval||yC,this._config.resendLimit=this._config.resendLimit||mC,this._clientInfo=NE.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(n){var t=this;pe.debug("configure Analytics",n);var a=n||{};if(this._config=Object.assign({},this._config,a),this._endpointGenerating=!!n.autoSessionRecord,this._config.appId&&!this._config.disabled)if(this._config.endpointId)ld("pinpointProvider_configured",null);else{var s=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(s).then(function(o){pe.debug("setting endpoint id from the cache",o),t._config.endpointId=o,ld("pinpointProvider_configured",null)}).catch(function(o){pe.debug("Failed to generate endpointId",o)})}else this._flushBuffer();return this._config},e.prototype.record=function(n,t){return V(this,void 0,void 0,function(){var a,s;return j(this,function(o){switch(o.label){case 0:return pe.debug("_public record",n),[4,this._getCredentials()];case 1:return a=o.sent(),!a||!this._config.appId||!this._config.region?(pe.debug("cannot send events without credentials, applicationId or region"),[2,t.reject(new Error("No credentials, applicationId or region"))]):(this._init(a),s=new Date().getTime(),this._generateSession(n),n.event.eventId=nn.v1(),Object.assign(n,{timestamp:s,config:this._config}),n.event.immediate?[2,this._send(n,t)]:(this._putToBuffer(n,t),[2]))}})})},e.prototype._sendEndpointUpdate=function(n){return V(this,void 0,void 0,function(){var t;return j(this,function(a){switch(a.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(n),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(n)]);case 1:return a.sent(),t=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,t&&this._sendEndpointUpdate(t),[2]}})})},e.prototype._putToBuffer=function(n,t){var a;if(n.event.name===hd){this._sendEndpointUpdate({params:n,handlers:t});return}(a=this._buffer)===null||a===void 0||a.push({params:n,handlers:t})},e.prototype._generateSession=function(n){this._sessionId=this._sessionId||nn.v1();var t=n.event;switch(t.name){case hC:this._sessionStartTimestamp=new Date().getTime(),this._sessionId=nn.v1(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case vd:var a=new Date().getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||new Date().getTime(),this._sessionId=this._sessionId||nn.v1(),t.session={Id:this._sessionId,Duration:a-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(a).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||new Date().getTime(),this._sessionId=this._sessionId||nn.v1(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(n,t){return V(this,void 0,void 0,function(){var a;return j(this,function(s){switch(a=n.event,a.name){case hd:return[2,this._updateEndpoint({params:n,handlers:t})];case vd:return[2,this._pinpointSendStopSession(n,t)];default:return[2,this._pinpointPutEvents(n,t)]}})})},e.prototype._generateBatchItemContext=function(n){var t,a,s=n.event,o=n.timestamp,f=n.config,l=s.name,v=s.attributes,u=s.metrics,h=s.eventId,p=s.session,_=f.appId,w=f.endpointId,E={};return{ApplicationId:_,EventsRequest:{BatchItem:(t={},t[w]={Endpoint:E,Events:(a={},a[h]={EventType:l,Timestamp:new Date(o).toISOString(),Attributes:v,Metrics:u,Session:p},a)},t)}}},e.prototype._pinpointPutEvents=function(n,t){var a,s,o,f,l;return V(this,void 0,void 0,function(){var v,u,h,p,_,w,E,I,R,B,z;return j(this,function(N){switch(N.label){case 0:v=n.event.eventId,u=n.config.endpointId,h=this._generateBatchItemContext(n),N.label=1;case 1:return N.trys.push([1,3,,4]),p=this._config,_=p.credentials,w=p.region,[4,X0({credentials:_,region:w,userAgentValue:Js(On.Record)},h)];case 2:if(E=N.sent(),I=(l=(f=(o=(s=(a=E.EventsResponse)===null||a===void 0?void 0:a.Results)===null||s===void 0?void 0:s[u])===null||o===void 0?void 0:o.EventsItemResponse)===null||f===void 0?void 0:f[v])!==null&&l!==void 0?l:{},R=I.StatusCode,B=I.Message,R&&cC.includes(R))return pe.debug("record event success. ",E),[2,t.resolve(E)];if(R&&dd.includes(R))this._retry(n,t);else return pe.error("Event "+v+" is not accepted, the error is "+B),[2,t.reject(E)];return[3,4];case 3:return z=N.sent(),this._eventError(z),[2,t.reject(z)];case 4:return[2]}})})},e.prototype._pinpointSendStopSession=function(n,t){if(!vC){this._pinpointPutEvents(n,t);return}var a=this._generateBatchItemContext(n),s=this._config.region,o=a.ApplicationId,f=a.EventsRequest,l={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},v="https://pinpoint."+s+".amazonaws.com/v1/apps/"+o+"/events/legacy",u=JSON.stringify(f),h="POST",p={url:v,body:u,method:h},_={region:s,service:lC},w=iA.signUrl(p,l,_),E=navigator.sendBeacon(w,u);return E?t.resolve("sendBeacon success"):t.reject("sendBeacon failure")},e.prototype._retry=function(n,t){var a=n.config.resendLimit;n.resendLimit=typeof n.resendLimit=="number"?n.resendLimit:a,n.resendLimit-- >0?(pe.debug("resending event "+n.eventName+" with "+n.resendLimit+" retry times left"),this._pinpointPutEvents(n,t)):pe.debug("retry times used up for event "+n.eventName)},e.prototype._updateEndpoint=function(n){return V(this,void 0,void 0,function(){var t,a,s,o,f,l,v,u,h,p,_,w,E,I;return j(this,function(R){switch(R.label){case 0:t=n.params,a=n.handlers,s=t.config,o=t.event,f=s.appId,l=s.endpointId,v=this._endpointRequest(s,Pg(o,[],["attributes","userAttributes","Attributes","UserAttributes"])),u={ApplicationId:f,EndpointId:l,EndpointRequest:v},R.label=1;case 1:return R.trys.push([1,3,,4]),h=this._config,p=h.credentials,_=h.region,[4,iC({credentials:p,region:_,userAgentValue:Js(On.UpdateEndpoint)},u)];case 2:return w=R.sent(),pe.debug("updateEndpoint success",w),this._endpointGenerating=!1,this._resumeBuffer(),a.resolve(w),[2];case 3:return E=R.sent(),I={err:E,update_params:u,endpointObject:n},[2,this._handleEndpointUpdateFailure(I)];case 4:return[2]}})})},e.prototype._handleEndpointUpdateFailure=function(n){return V(this,void 0,void 0,function(){var t,a,s,o;return j(this,function(f){switch(t=n.err,a=n.endpointObject,s=t.$metadata&&t.$metadata.httpStatusCode,pe.debug("updateEndpoint error",t),s){case fC:return[2,this._handleEndpointUpdateForbidden(n)];default:if(dd.includes(s))return o=!0,[2,this._retryEndpointUpdate(a,o)];pe.error("updateEndpoint failed",t),a.handlers.reject(t)}return[2]})})},e.prototype._handleEndpointUpdateForbidden=function(n){var t=n.err,a=n.endpointObject,s=t.code,o=t.retryable;if(s!==dC&&!o)return a.handlers.reject(t);this._retryEndpointUpdate(a)},e.prototype._retryEndpointUpdate=function(n,t){pe.debug("_retryEndpointUpdate",n);var a=n.params,s=a.config.resendLimit;if(a.resendLimit=typeof a.resendLimit=="number"?a.resendLimit:s,a.resendLimit-- >0){pe.debug("resending endpoint update "+a.event.eventId+" with "+a.resendLimit+" retry attempts remaining"),this._endpointBuffer.length?this._endpointBuffer.unshift(n):this._updateEndpoint(n);return}pe.warn("resending endpoint update "+a.event.eventId+" failed after "+a.config.resendLimit+" attempts"),this._endpointGenerating&&pe.error("Initial endpoint update failed. ")},e.prototype._init=function(n){return V(this,void 0,void 0,function(){var t;return j(this,function(a){return pe.debug("init provider"),this._config.credentials&&this._config.credentials.sessionToken===n.sessionToken&&this._config.credentials.identityId===n.identityId?(pe.debug("no change for aws credentials, directly return from init"),[2]):(t=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=n,(!this._bufferExists()||t!==n.identityId)&&this._initBuffer(),[2])})})},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof fd},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new fd(this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._flushBuffer=function(){var n;this._bufferExists()&&((n=this._buffer)===null||n===void 0||n.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){var n;this._bufferExists()&&((n=this._buffer)===null||n===void 0||n.resume())},e.prototype._getEndpointId=function(n){return V(this,void 0,void 0,function(){var t,a,s;return j(this,function(o){switch(o.label){case 0:return[4,Zs.getItem(n)];case 1:return t=o.sent(),pe.debug("endpointId from cache",t,"type",typeof t),t||(t=nn.v1(),a=1e3*60*60*24*365*100,s=new Date().getTime()+a,Zs.setItem(n,t,{expires:s,priority:1})),[2,t]}})})},e.prototype._endpointRequest=function(n,t){var a=n.credentials,s=this._clientInfo||{},o=n.clientContext||{},f=n.endpoint||{},l={appVersion:s.appVersion,make:s.make,model:s.model,modelVersion:s.version,platform:s.platform};o.clientId,o.appTitle,o.appVersionName,o.appVersionCode,o.appPackageName;var v=qr(o,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"]),u=t.address?s.platform==="android"?"GCM":"APNS":void 0,h=$($($({channelType:u,requestId:nn.v1(),effectiveDate:new Date().toISOString()},f),t),{attributes:$($({},f.attributes),t.attributes),demographic:$($($($({},l),v),f.demographic),t.demographic),location:$($({},f.location),t.location),metrics:$($({},f.metrics),t.metrics),user:{userId:t.userId||f.userId||a.identityId,userAttributes:$($({},f.userAttributes),t.userAttributes)}});h.userId,h.userAttributes,h.name,h.session,h.eventId,h.immediate;var p=qr(h,["userId","userAttributes","name","session","eventId","immediate"]);return Mg(p,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(n){pe.error("record event failed.",n),pe.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return V(this,void 0,void 0,function(){var n,t;return j(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Zr.get()];case 1:return n=a.sent(),n?(pe.debug("set credentials for analytics",n),[2,Zr.shear(n)]):[2,null];case 2:return t=a.sent(),pe.debug("ensure credentials error",t),[2,null];case 3:return[2]}})})},e.category="Analytics",e.providerName="AWSPinpoint",e}(),gd=[],Fr=function(){function e(n,t){this.context=n,this.methodName=t,this._originalMethod=n[t].bind(n)}return e.add=function(n,t,a){pd(n,t).set(a)},e.remove=function(n,t){pd(n,t).remove()},e.prototype.set=function(n){var t=this;this.context[this.methodName]=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n(t._originalMethod.apply(t,ht(a)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function pd(e,n){var t=gd.filter(function(a){return a.context===e&&a.methodName===n})[0];return t||(t=new Fr(e,n),gd.push(t)),t}var En=new Ie("PageViewTracker"),ks="aws-amplify-analytics-prevUrl",bC=function(){return Et().isBrowser?window.location.origin+window.location.pathname:""},wC={enable:!1,provider:"AWSPinpoint",getUrl:bC},SC=function(){function e(n,t){En.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},wC,t),this._tracker=n,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._config.type==="SPA"?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(n){return Object.assign(this._config,n),this._config.type==="SPA"&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){var n=sessionStorage.getItem(ks),t=this._config.getUrl();return n===t?(En.debug("the url is same"),!0):!1},e.prototype._pageViewTrackDefault=function(){return V(this,void 0,void 0,function(){var n,t,a,s;return j(this,function(o){switch(o.label){case 0:return!Et().isBrowser||!window.addEventListener||!window.sessionStorage?(En.debug("not in the supported web enviroment"),[2]):(n=this._config.getUrl(),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return a=o.sent(),[3,3];case 2:a=this._config.attributes,o.label=3;case 3:return t=a,s=Object.assign({url:n},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:s},this._config.provider).catch(function(f){En.debug("Failed to record the page view event",f)}),sessionStorage.setItem(ks,n)),[2]}})})},e.prototype._trackFunc=function(){return V(this,void 0,void 0,function(){var n,t,a,s;return j(this,function(o){switch(o.label){case 0:return!Et().isBrowser||!window.addEventListener||!history.pushState||!window.sessionStorage?(En.debug("not in the supported web enviroment"),[2]):(n=this._config.getUrl(),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return a=o.sent(),[3,3];case 2:a=this._config.attributes,o.label=3;case 3:return t=a,s=Object.assign({url:n},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:s},this._config.provider).catch(function(f){En.debug("Failed to record the page view event",f)}),sessionStorage.setItem(ks,n)),[2]}})})},e.prototype._pageViewTrackSPA=function(){if(!Et().isBrowser||!window.addEventListener||!history.pushState){En.debug("not in the supported web enviroment");return}this._config.enable&&!this._hasEnabled?(Fr.add(history,"pushState",this._trackFunc),Fr.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(Fr.remove(history,"pushState"),Fr.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1)},e}(),xn=Et().isBrowser&&window.Element?window.Element.prototype:null,yd=xn?xn.matches||xn.matchesSelector||xn.webkitMatchesSelector||xn.mozMatchesSelector||xn.msMatchesSelector||xn.oMatchesSelector:null;function ep(e,n){if(e&&e.nodeType===1&&n){if(typeof n=="string"||n.nodeType===1)return e===n||md(e,n);if("length"in n){for(var t=0,a=void 0;a=n[t];t++)if(e===a||md(e,a))return!0}}return!1}function md(e,n){if(typeof n!="string")return!1;if(yd)return yd.call(e,n);for(var t=e.parentNode.querySelectorAll(n),a=0,s=void 0;s=t[a];a++)if(s===e)return!0;return!1}function EC(e){for(var n=[],t=e;t&&t.parentNode&&t.parentNode.nodeType===1;)t=t.parentNode,n.push(t);return n}function xC(e,n,t){if(t===void 0&&(t=!1),!!(e&&e.nodeType===1&&n)){for(var a=(t?[e]:[]).concat(EC(e)),s=0,o;o=a[s];s++)if(ep(o,n))return o}}function AC(e,n,t,a,s){s===void 0&&(s={});var o=function(f){var l;if(s.composed&&typeof f.composedPath=="function")for(var v=f.composedPath(),u=0,h=void 0;h=v[u];u++)h.nodeType===1&&ep(h,t)&&(l=h);else l=xC(f.target,t,!0);l&&a.call(l,f,l)};return e.addEventListener(n,o,s.useCapture),{destroy:function(){e.removeEventListener(n,o,s.useCapture)}}}var Xn=new Ie("EventTracker"),IC={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},TC=function(){function e(n,t){if(!Et().isBrowser||!window.addEventListener){Xn.debug("not in the supported web environment");return}this._config=Object.assign({},IC,t),this._tracker=n,this._delegates={},this._trackFunc=this._trackFunc.bind(this),Xn.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)}return e.prototype.configure=function(n){var t=this;if(Object.assign(this._config,n),!this._config.enable)Object.keys(this._delegates).forEach(function(s){typeof t._delegates[s].destroy=="function"&&t._delegates[s].destroy()}),this._delegates={};else if(this._config.enable&&Object.keys(this._delegates).length===0){var a="["+this._config.selectorPrefix+"on]";this._config.events.forEach(function(s){t._delegates[s]=AC(document,s,a,t._trackFunc,{composed:!0,useCapture:!0})})}return this._config},e.prototype._trackFunc=function(n,t){return V(this,void 0,void 0,function(){var a,s,o,f,l,v,u;return j(this,function(h){switch(h.label){case 0:return a={},s=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),o=t.getAttribute(this._config.selectorPrefix+"name"),f=t.getAttribute(this._config.selectorPrefix+"attrs"),f&&f.split(/\s*,\s*/).forEach(function(p){var _=p.trim().split(/\s*:\s*/);a[_[0]]=_[1]}),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()];case 1:return v=h.sent(),[3,3];case 2:v=this._config.attributes,h.label=3;case 3:return l=v,u=Object.assign({type:n.type,target:n.target.localName+" with id "+n.target.id},l,a),Xn.debug("events needed to be recorded",s),Xn.debug("attributes needed to be attached",a),s.indexOf(n.type)<0?(Xn.debug("event "+n.type+" is not selected to be recorded"),[2]):(this._tracker({name:o||"event",attributes:u},this._config.provider).catch(function(p){Xn.debug("Failed to record the "+n.type+" event', "+p)}),[2])}})})},e}(),An=new Ie("SessionTracker"),CC={enable:!1,provider:"AWSPinpoint"},_d=!1,RC=function(){function e(n,t){this._config=Object.assign({},CC,t),this._tracker=n,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!Et().isBrowser)return!1;if(!document||!document.addEventListener)return An.debug("not in the supported web environment"),!1;if(typeof document.hidden<"u")this._hidden="hidden",this._visibilityChange="visibilitychange";else if(typeof document.msHidden<"u")this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else if(typeof document.webkitHidden<"u")this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange";else return An.debug("not in the supported web environment"),!1;return!0},e.prototype._trackFunc=function(){return V(this,void 0,void 0,function(){var n,t,a;return j(this,function(s){switch(s.label){case 0:return typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()];case 1:return t=s.sent(),[3,3];case 2:t=this._config.attributes,s.label=3;case 3:return n=t,a=Object.assign({},n),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:a},this._config.provider).catch(function(o){An.debug("record session stop event failed.",o)}):this._tracker({name:"_session.start",attributes:a},this._config.provider).catch(function(o){An.debug("record session start event failed.",o)}),[2]}})})},e.prototype._trackBeforeUnload=function(n){var t=this,a=typeof this._config.attributes=="function"?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes);a.then(function(s){var o=Object.assign({},s);t._tracker({name:"_session.stop",attributes:o,immediate:!0},t._config.provider).catch(function(f){An.debug("record session stop event failed.",f)})})},e.prototype._sendInitialEvent=function(){return V(this,void 0,void 0,function(){var n,t,a;return j(this,function(s){switch(s.label){case 0:return _d?(An.debug("the start session has been sent when the page is loaded"),[2]):(_d=!0,typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return t=s.sent(),[3,3];case 2:t=this._config.attributes,s.label=3;case 3:return n=t,a=Object.assign({},n),this._tracker({name:"_session.start",attributes:a},this._config.provider).catch(function(o){An.debug("record session start event failed.",o)}),[2]}})})},e.prototype.configure=function(n){return this._envCheck()?(Object.assign(this._config,n),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}(),Rt=new Ie("AnalyticsClass"),DC=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",so=function(e,n,t){Rn.dispatch("analytics",{event:e,data:n,message:t},"Analytics",DC)},bd={pageView:SC,event:TC,session:RC},nr=null,OC=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},nr=this,this.record=this.record.bind(this),Rn.listen("auth",uo),Rn.listen("storage",uo),Rn.listen("analytics",uo),Rn.listen("core",uo)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(n){var t=this;if(!n)return this._config;Rt.debug("configure Analytics",n);var a=jg(n);return this._config=Object.assign({},this._config,a.Analytics,n),this._config.disabled&&(this._disabled=!0),this._config.autoSessionRecord===void 0&&(this._config.autoSessionRecord=!0),this._pluggables.forEach(function(s){var o=s.getProviderName()==="AWSPinpoint"&&!t._config.AWSPinpoint?t._config:t._config[s.getProviderName()];s.configure($({disabled:t._config.disabled,autoSessionRecord:t._config.autoSessionRecord},o))}),this._pluggables.length===0&&this.addPluggable(new _C),so("configured",null,"The Analytics category has been configured successfully"),Rt.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(n){if(n&&n.getCategory()==="Analytics"){this._pluggables.push(n);var t=n.getProviderName()==="AWSPinpoint"&&!this._config.AWSPinpoint?this._config:this._config[n.getProviderName()],a=$({disabled:this._config.disabled},t);return n.configure(a),a}},e.prototype.getPluggable=function(n){for(var t=0;t<this._pluggables.length;t+=1){var a=this._pluggables[t];if(a.getProviderName()===n)return a}return Rt.debug("No plugin found with providerName",n),null},e.prototype.removePluggable=function(n){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==n;)t+=1;if(t===this._pluggables.length){Rt.debug("No plugin found with providerName",n);return}else{this._pluggables.splice(t,t+1);return}},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(n){return V(this,void 0,void 0,function(){var t,a;return j(this,function(s){return t={name:"_session.start"},a={event:t,provider:n},so("record",t,"Recording Analytics session start event"),[2,this._sendEvent(a)]})})},e.prototype.stopSession=function(n){return V(this,void 0,void 0,function(){var t,a;return j(this,function(s){return t={name:"_session.stop"},a={event:t,provider:n},so("record",t,"Recording Analytics session stop event"),[2,this._sendEvent(a)]})})},e.prototype.record=function(n,t){return V(this,void 0,void 0,function(){var a;return j(this,function(s){return a={event:n,provider:t},so("record",a.event,"Recording Analytics event"),[2,this._sendEvent(a)]})})},e.prototype.updateEndpoint=function(n,t){return V(this,void 0,void 0,function(){var a;return j(this,function(s){return a=$($({},n),{name:"_update_endpoint"}),[2,this.record(a,t)]})})},e.prototype._sendEvent=function(n){var t=this;if(this._disabled)return Rt.debug("Analytics has been disabled"),Promise.resolve();var a=n.provider?n.provider:"AWSPinpoint";return new Promise(function(s,o){t._pluggables.forEach(function(f){f.getProviderName()===a&&f.record(n,{resolve:s,reject:o})})})},e.prototype.autoTrack=function(n,t){if(!bd[n]){Rt.debug("invalid tracker type");return}n==="session"&&(this._config.autoSessionRecord=t.enable);var a=this._trackers[n];a?a.configure(t):this._trackers[n]=new bd[n](this.record,t)},e}(),wd=!1,Xs=!1,Jr=!1,tp=!1,uo=function(e){var n=e.channel,t=e.payload;switch(Rt.debug("on hub capsule "+n,t),n){case"auth":PC(t);break;case"storage":LC(t);break;case"analytics":MC(t);break;case"core":kC(t);break}},LC=function(e){var n=e.data,t=n.attrs,a=n.metrics;t&&Jr&&nr.record({name:"Storage",attributes:t,metrics:a}).catch(function(s){Rt.debug("Failed to send the storage event automatically",s)})},PC=function(e){var n=e.event;if(n){var t=function(a){return V(void 0,void 0,void 0,function(){var s;return j(this,function(o){switch(o.label){case 0:if(!(Xs&&Jr))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,nr.record({name:"_userauth."+a})];case 2:return[2,o.sent()];case 3:return s=o.sent(),Rt.debug("Failed to send the "+a+" event automatically",s),[3,4];case 4:return[2]}})})};switch(n){case"signIn":return t("sign_in");case"signUp":return t("sign_up");case"signOut":return t("sign_out");case"signIn_failure":return t("auth_fail");case"configured":Xs=!0,Jr&&Fu();break}}},MC=function(e){var n=e.event;if(n)switch(n){case"pinpointProvider_configured":Jr=!0,(Xs||tp)&&Fu();break}},kC=function(e){var n=e.event;if(n)switch(n){case"credentials_configured":tp=!0,Jr&&Fu();break}},Fu=function(){var e=nr.configure();!wd&&e.autoSessionRecord&&(nr.updateEndpoint({immediate:!0}).catch(function(n){Rt.debug("Failed to update the endpoint",n)}),wd=!0),nr.autoTrack("session",{enable:e.autoSessionRecord})},Hr=new OC;Qr.register(Hr);var Qs=function(e,n){return Qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},Qs(e,n)};function np(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Qs(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var O=function(){return O=Object.assign||function(n){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},O.apply(this,arguments)};function tt(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})}function nt(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}const BC="@aws-sdk/client-kinesis",NC="AWS SDK for JavaScript Kinesis Client for Node.js, Browser and React Native",FC="3.6.1",UC={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},zC="./dist/cjs/index.js",$C="./types/index.d.ts",KC="./dist/es/index.js",GC={"./runtimeConfig":"./runtimeConfig.browser"},HC=!1,WC={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1",tslib:"^2.0.0"},qC={"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},jC={node:">=10.0.0"},VC={"<4.0":{"types/*":["types/ts3.4/*"]}},YC={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},ZC="Apache-2.0",JC="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-kinesis",XC={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-kinesis"},QC={name:BC,description:NC,version:FC,scripts:UC,main:zC,types:$C,module:KC,browser:GC,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:HC,dependencies:WC,devDependencies:qC,engines:jC,typesVersions:VC,author:YC,license:ZC,homepage:JC,repository:XC};var Bs={},Uu={},Go={};const eR=e=>{const n=[];for(let t=0,a=e.length;t<a;t++){const s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){const o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(n)},tR=e=>{let n="";for(let t=0,a=e.length;t<a;t++){const s=e[t];if(s<128)n+=String.fromCharCode(s);else if(192<=s&&s<224){const o=e[++t];n+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){const f="%"+[s,e[++t],e[++t],e[++t]].map(l=>l.toString(16)).join("%");n+=decodeURIComponent(f)}else n+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return n};function nR(e){return new TextEncoder().encode(e)}function rR(e){return new TextDecoder("utf-8").decode(e)}const iR=e=>typeof TextEncoder=="function"?nR(e):eR(e),oR=e=>typeof TextDecoder=="function"?rR(e):tR(e),aR=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:iR,toUtf8:oR},Symbol.toStringTag,{value:"Module"})),sR=ar(aR);Object.defineProperty(Go,"__esModule",{value:!0});Go.convertToBuffer=void 0;var uR=sR,cR=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:uR.fromUtf8;function fR(e){return e instanceof Uint8Array?e:typeof e=="string"?cR(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Go.convertToBuffer=fR;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.isEmptyData=void 0;function lR(e){return typeof e=="string"?e.length===0:e.byteLength===0}Ho.isEmptyData=lR;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.numToUint8=void 0;function dR(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Wo.numToUint8=dR;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.uint32ArrayFrom=void 0;function hR(e){if(!Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t];return n}return Uint32Array.from(e)}qo.uint32ArrayFrom=hR;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var n=Go;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var t=Ho;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return t.isEmptyData}});var a=Wo;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var s=qo;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})})(Uu);var Br={},Sd;function vR(){if(Sd)return Br;Sd=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.AwsCrc32=void 0;var e=cn,n=Uu,t=rp(),a=function(){function s(){this.crc32=new t.Crc32}return s.prototype.update=function(o){(0,n.isEmptyData)(o)||this.crc32.update((0,n.convertToBuffer)(o))},s.prototype.digest=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(o){return[2,(0,n.numToUint8)(this.crc32.digest())]})})},s}();return Br.AwsCrc32=a,Br}var Ed;function rp(){return Ed||(Ed=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var n=cn,t=Uu;function a(v){return new s().update(v).digest()}e.crc32=a;var s=function(){function v(){this.checksum=4294967295}return v.prototype.update=function(u){var h,p;try{for(var _=(0,n.__values)(u),w=_.next();!w.done;w=_.next()){var E=w.value;this.checksum=this.checksum>>>8^f[(this.checksum^E)&255]}}catch(I){h={error:I}}finally{try{w&&!w.done&&(p=_.return)&&p.call(_)}finally{if(h)throw h.error}}return this},v.prototype.digest=function(){return(this.checksum^4294967295)>>>0},v}();e.Crc32=s;var o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],f=(0,t.uint32ArrayFrom)(o),l=vR();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return l.AwsCrc32}})}(Bs)),Bs}var ip=rp(),Ns=function(){function e(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(n+" is too large (or, if negative, too small) to represent as an Int64");for(var t=new Uint8Array(8),a=7,s=Math.abs(Math.round(n));a>-1&&s>0;a--,s/=256)t[a]=s;return n<0&&xd(t),new e(t)},e.prototype.valueOf=function(){var n=this.bytes.slice(0),t=n[0]&128;return t&&xd(n),parseInt(et(n),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function xd(e){for(var n=0;n<8;n++)e[n]^=255;for(var n=7;n>-1&&(e[n]++,e[n]===0);n--);}var gR=function(){function e(n,t){this.toUtf8=n,this.fromUtf8=t}return e.prototype.format=function(n){var t,a,s,o,f=[];try{for(var l=Be(Object.keys(n)),v=l.next();!v.done;v=l.next()){var u=v.value,h=this.fromUtf8(u);f.push(Uint8Array.from([h.byteLength]),h,this.formatHeaderValue(n[u]))}}catch(R){t={error:R}}finally{try{v&&!v.done&&(a=l.return)&&a.call(l)}finally{if(t)throw t.error}}var p=new Uint8Array(f.reduce(function(R,B){return R+B.byteLength},0)),_=0;try{for(var w=Be(f),E=w.next();!E.done;E=w.next()){var I=E.value;p.set(I,_),_+=I.byteLength}}catch(R){s={error:R}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}return p},e.prototype.formatHeaderValue=function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":var a=new DataView(new ArrayBuffer(5));return a.setUint8(0,4),a.setInt32(1,n.value,!1),new Uint8Array(a.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":var o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);var f=new Uint8Array(o.buffer);return f.set(n.value,3),f;case"string":var l=this.fromUtf8(n.value),v=new DataView(new ArrayBuffer(3+l.byteLength));v.setUint8(0,7),v.setUint16(1,l.byteLength,!1);var u=new Uint8Array(v.buffer);return u.set(l,3),u;case"timestamp":var h=new Uint8Array(9);return h[0]=8,h.set(Ns.fromNumber(n.value.valueOf()).bytes,1),h;case"uuid":if(!xR.test(n.value))throw new Error("Invalid UUID received: "+n.value);var p=new Uint8Array(17);return p[0]=9,p.set($x(n.value.replace(/\-/g,"")),1),p}},e.prototype.parse=function(n){for(var t={},a=0;a<n.byteLength;){var s=n.getUint8(a++),o=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+a,s));switch(a+=s,n.getUint8(a++)){case 0:t[o]={type:Id,value:!0};break;case 1:t[o]={type:Id,value:!1};break;case 2:t[o]={type:pR,value:n.getInt8(a++)};break;case 3:t[o]={type:yR,value:n.getInt16(a,!1)},a+=2;break;case 4:t[o]={type:mR,value:n.getInt32(a,!1)},a+=4;break;case 5:t[o]={type:_R,value:new Ns(new Uint8Array(n.buffer,n.byteOffset+a,8))},a+=8;break;case 6:var f=n.getUint16(a,!1);a+=2,t[o]={type:bR,value:new Uint8Array(n.buffer,n.byteOffset+a,f)},a+=f;break;case 7:var l=n.getUint16(a,!1);a+=2,t[o]={type:wR,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+a,l))},a+=l;break;case 8:t[o]={type:SR,value:new Date(new Ns(new Uint8Array(n.buffer,n.byteOffset+a,8)).valueOf())},a+=8;break;case 9:var v=new Uint8Array(n.buffer,n.byteOffset+a,16);a+=16,t[o]={type:ER,value:et(v.subarray(0,4))+"-"+et(v.subarray(4,6))+"-"+et(v.subarray(6,8))+"-"+et(v.subarray(8,10))+"-"+et(v.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}(),Ad;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Ad||(Ad={}));var Id="boolean",pR="byte",yR="short",mR="integer",_R="long",bR="binary",wR="string",SR="timestamp",ER="uuid",xR=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,op=4,on=op*2,Tn=4,AR=on+Tn*2;function IR(e){var n=e.byteLength,t=e.byteOffset,a=e.buffer;if(n<AR)throw new Error("Provided message too short to accommodate event stream message overhead");var s=new DataView(a,t,n),o=s.getUint32(0,!1);if(n!==o)throw new Error("Reported message length does not match received message length");var f=s.getUint32(op,!1),l=s.getUint32(on,!1),v=s.getUint32(n-Tn,!1),u=new ip.Crc32().update(new Uint8Array(a,t,on));if(l!==u.digest())throw new Error("The prelude checksum specified in the message ("+l+") does not match the calculated CRC32 checksum ("+u.digest()+")");if(u.update(new Uint8Array(a,t+on,n-(on+Tn))),v!==u.digest())throw new Error("The message checksum ("+u.digest()+") did not match the expected value of "+v);return{headers:new DataView(a,t+on+Tn,f),body:new Uint8Array(a,t+on+Tn+f,o-f-(on+Tn+Tn))}}var ap=function(){function e(n,t){this.headerMarshaller=new gR(n,t)}return e.prototype.marshall=function(n){var t=n.headers,a=n.body,s=this.headerMarshaller.format(t),o=s.byteLength+a.byteLength+16,f=new Uint8Array(o),l=new DataView(f.buffer,f.byteOffset,f.byteLength),v=new ip.Crc32;return l.setUint32(0,o,!1),l.setUint32(4,s.byteLength,!1),l.setUint32(8,v.update(f.subarray(0,8)).digest(),!1),f.set(s,12),f.set(a,s.byteLength+12),l.setUint32(o-4,v.update(f.subarray(8,o-4)).digest(),!1),f},e.prototype.unmarshall=function(n){var t=IR(n),a=t.headers,s=t.body;return{headers:this.headerMarshaller.parse(a),body:s}},e.prototype.formatHeaders=function(n){return this.headerMarshaller.format(n)},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zu(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Td(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(e){return this instanceof Oe?(this.v=e,this):new Oe(e)}function $u(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t.apply(e,n||[]),s,o=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(_){a[_]&&(s[_]=function(w){return new Promise(function(E,I){o.push([_,w,E,I])>1||l(_,w)})})}function l(_,w){try{v(a[_](w))}catch(E){p(o[0][3],E)}}function v(_){_.value instanceof Oe?Promise.resolve(_.value.v).then(u,h):p(o[0][2],_)}function u(_){l("next",_)}function h(_){l("throw",_)}function p(_,w){_(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function sp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Td=="function"?Td(e):e[Symbol.iterator](),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(o){t[o]=e[o]&&function(f){return new Promise(function(l,v){f=e[o](f),s(l,v,f.done,f.value)})}}function s(o,f,l,v){Promise.resolve(v).then(function(u){o({value:u,done:l})},f)}}function TR(e){var n,t=0,a=0,s=null,o=null,f=function(v){if(typeof v!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+v);t=v,a=4,s=new Uint8Array(v);var u=new DataView(s.buffer);u.setUint32(0,v,!1)},l=function(){return $u(this,arguments,function(){var v,u,h,p,_,w,E,I,R;return zu(this,function(B){switch(B.label){case 0:v=e[Symbol.asyncIterator](),B.label=1;case 1:return[4,Oe(v.next())];case 2:return u=B.sent(),h=u.value,p=u.done,p?t?[3,4]:[4,Oe(void 0)]:[3,10];case 3:return[2,B.sent()];case 4:return t!==a?[3,7]:[4,Oe(s)];case 5:return[4,B.sent()];case 6:return B.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,Oe(void 0)];case 9:return[2,B.sent()];case 10:_=h.length,w=0,B.label=11;case 11:if(!(w<_))return[3,15];if(!s){if(E=_-w,o||(o=new Uint8Array(4)),I=Math.min(4-a,E),o.set(h.slice(w,w+I),a),a+=I,w+=I,a<4)return[3,15];f(new DataView(o.buffer).getUint32(0,!1)),o=null}return R=Math.min(t-a,_-w),s.set(h.slice(w,w+R),a),a+=R,w+=R,t&&t===a?[4,Oe(s)]:[3,14];case 12:return[4,B.sent()];case 13:B.sent(),s=null,t=0,a=0,B.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})};return n={},n[Symbol.asyncIterator]=l,n}function CR(e,n){var t;return t={},t[Symbol.asyncIterator]=function(){return $u(this,arguments,function(){var a,s,o,f,l,v,u,h,p,_,w,E,I,R,B,z,N;return zu(this,function(G){switch(G.label){case 0:G.trys.push([0,12,13,18]),a=sp(e),G.label=1;case 1:return[4,Oe(a.next())];case 2:if(s=G.sent(),!!s.done)return[3,11];if(o=s.value,f=n.eventMarshaller.unmarshall(o),l=f.headers[":message-type"].value,l!=="error")return[3,3];throw v=new Error(f.headers[":error-message"].value||"UnknownError"),v.name=f.headers[":error-code"].value,v;case 3:return l!=="exception"?[3,5]:(u=f.headers[":exception-type"].value,h=(R={},R[u]=f,R),[4,Oe(n.deserializer(h))]);case 4:throw p=G.sent(),p.$unknown?(_=new Error(n.toUtf8(f.body)),_.name=u,_):p[u];case 5:return l!=="event"?[3,9]:(w=(B={},B[f.headers[":event-type"].value]=f,B),[4,Oe(n.deserializer(w))]);case 6:return E=G.sent(),E.$unknown?[3,10]:[4,Oe(E)];case 7:return[4,G.sent()];case 8:return G.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+f.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return I=G.sent(),z={error:I},[3,18];case 13:return G.trys.push([13,,16,17]),s&&!s.done&&(N=a.return)?[4,Oe(N.call(a))]:[3,15];case 14:G.sent(),G.label=15;case 15:return[3,17];case 16:if(z)throw z.error;return[7];case 17:return[7];case 18:return[2]}})})},t}var RR=function(){function e(n){var t=n.utf8Encoder,a=n.utf8Decoder;this.eventMarshaller=new ap(t,a),this.utfEncoder=t}return e.prototype.deserialize=function(n,t){var a=TR(n),s=CR(a,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder});return s},e.prototype.serialize=function(n,t){var a,s=this,o=function(){return $u(this,arguments,function(){var f,l,v,u,h,p,_;return zu(this,function(w){switch(w.label){case 0:w.trys.push([0,7,8,13]),f=sp(n),w.label=1;case 1:return[4,Oe(f.next())];case 2:return l=w.sent(),!l.done?(v=l.value,u=s.eventMarshaller.marshall(t(v)),[4,Oe(u)]):[3,6];case 3:return[4,w.sent()];case 4:w.sent(),w.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return h=w.sent(),p={error:h},[3,13];case 8:return w.trys.push([8,,11,12]),l&&!l.done&&(_=f.return)?[4,Oe(_.call(f))]:[3,10];case 9:w.sent(),w.label=10;case 10:return[3,12];case 11:if(p)throw p.error;return[7];case 12:return[7];case 13:return[4,Oe(new Uint8Array(0))];case 14:return[4,w.sent()];case 15:return w.sent(),[2]}})})};return a={},a[Symbol.asyncIterator]=o,a},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function DR(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})}function up(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function rr(e){return this instanceof rr?(this.v=e,this):new rr(e)}function OR(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t.apply(e,n||[]),s,o=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(_){a[_]&&(s[_]=function(w){return new Promise(function(E,I){o.push([_,w,E,I])>1||l(_,w)})})}function l(_,w){try{v(a[_](w))}catch(E){p(o[0][3],E)}}function v(_){_.value instanceof rr?Promise.resolve(_.value.v).then(u,h):p(o[0][2],_)}function u(_){l("next",_)}function h(_){l("throw",_)}function p(_,w){_(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}var LR=function(e){var n;return n={},n[Symbol.asyncIterator]=function(){return OR(this,arguments,function(){var t,a,s,o;return up(this,function(f){switch(f.label){case 0:t=e.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,rr(t.read())];case 3:return a=f.sent(),s=a.done,o=a.value,s?[4,rr(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,rr(o)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},n},PR=function(e){var n=e[Symbol.asyncIterator]();return new ReadableStream({pull:function(t){return DR(this,void 0,void 0,function(){var a,s,o;return up(this,function(f){switch(f.label){case 0:return[4,n.next()];case 1:return a=f.sent(),s=a.done,o=a.value,s?[2,t.close()]:(t.enqueue(o),[2])}})})}})},MR=function(){function e(n){var t=n.utf8Encoder,a=n.utf8Decoder;this.eventMarshaller=new ap(t,a),this.universalMarshaller=new RR({utf8Decoder:a,utf8Encoder:t})}return e.prototype.deserialize=function(n,t){var a=kR(n)?LR(n):n;return this.universalMarshaller.deserialize(a,t)},e.prototype.serialize=function(n,t){var a=this.universalMarshaller.serialize(n,t);return typeof ReadableStream=="function"?PR(a):a},e}(),kR=function(e){return typeof ReadableStream=="function"&&e instanceof ReadableStream},BR=function(e){return new MR(e)},Cd="kinesis.{region}.amazonaws.com",NR="kinesis.{region}.amazonaws.com.cn",FR="kinesis.{region}.c2s.ic.gov",UR="kinesis.{region}.sc2s.sgov.gov",zR="kinesis.{region}.amazonaws.com",$R=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),KR=new Set(["cn-north-1","cn-northwest-1"]),GR=new Set(["us-iso-east-1"]),HR=new Set(["us-isob-east-1"]),WR=new Set(["us-gov-east-1","us-gov-west-1"]),qR=function(e,n){var t=void 0;switch(e){case"af-south-1":t={hostname:"kinesis.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":t={hostname:"kinesis.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":t={hostname:"kinesis.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":t={hostname:"kinesis.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":t={hostname:"kinesis.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":t={hostname:"kinesis.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":t={hostname:"kinesis.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":t={hostname:"kinesis.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":t={hostname:"kinesis.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":t={hostname:"kinesis.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":t={hostname:"kinesis.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":t={hostname:"kinesis.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":t={hostname:"kinesis.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":t={hostname:"kinesis.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":t={hostname:"kinesis.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":t={hostname:"kinesis.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":t={hostname:"kinesis-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":t={hostname:"kinesis-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":t={hostname:"kinesis-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":t={hostname:"kinesis-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":t={hostname:"kinesis.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":t={hostname:"kinesis.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":t={hostname:"kinesis.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":t={hostname:"kinesis.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":t={hostname:"kinesis.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":t={hostname:"kinesis.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":t={hostname:"kinesis.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":t={hostname:"kinesis.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":t={hostname:"kinesis.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":t={hostname:"kinesis.us-west-2.amazonaws.com",partition:"aws"};break;default:$R.has(e)&&(t={hostname:Cd.replace("{region}",e),partition:"aws"}),KR.has(e)&&(t={hostname:NR.replace("{region}",e),partition:"aws-cn"}),GR.has(e)&&(t={hostname:FR.replace("{region}",e),partition:"aws-iso"}),HR.has(e)&&(t={hostname:UR.replace("{region}",e),partition:"aws-iso-b"}),WR.has(e)&&(t={hostname:zR.replace("{region}",e),partition:"aws-us-gov"}),t===void 0&&(t={hostname:Cd.replace("{region}",e),partition:"aws"})}return Promise.resolve(O({signingService:"kinesis"},t))},Rd={apiVersion:"2013-12-02",disableHostPrefix:!1,logger:{},regionInfoProvider:qR,serviceId:"Kinesis",urlParser:g0},jR=O(O({},Rd),{runtime:"browser",base64Decoder:Mu,base64Encoder:t0,bodyLengthChecker:l0,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:h0({serviceId:Rd.serviceId,clientVersion:QC.version}),eventStreamSerdeProvider:BR,maxAttempts:zo,region:r0("Region is missing"),requestHandler:new e0,sha256:Du.Sha256,streamCollector:n0,utf8Decoder:$o,utf8Encoder:v0});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var So=function(){return So=Object.assign||function(n){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},So.apply(this,arguments)},VR=function(e){return So(So({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})},YR=function(e){np(n,e);function n(t){var a=this,s=O(O({},jR),t),o=y0(s),f=p0(o),l=C0(f),v=f0(l),u=v,h=D0(u),p=VR(h);return a=e.call(this,p)||this,a.config=p,a.middlewareStack.use(R0(a.config)),a.middlewareStack.use(i0(a.config)),a.middlewareStack.use(m0(a.config)),a.middlewareStack.use(_0(a.config)),a.middlewareStack.use(b0(a.config)),a.middlewareStack.use(O0(a.config)),a}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(L0),Dd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Dd||(Dd={}));var Od;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Od||(Od={}));var Ld;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ld||(Ld={}));var eu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(eu||(eu={}));var tu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(tu||(tu={}));var Pd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Pd||(Pd={}));var Md;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Md||(Md={}));var kd;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING"})(kd||(kd={}));var Bd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Bd||(Bd={}));var Nd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Nd||(Nd={}));var Fd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Fd||(Fd={}));var Ud;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ud||(Ud={}));var zd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(zd||(zd={}));var $d;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})($d||($d={}));var Kd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Kd||(Kd={}));var Gd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Gd||(Gd={}));var Hd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Hd||(Hd={}));var Wd;(function(e){e.KMS="KMS",e.NONE="NONE"})(Wd||(Wd={}));var qd;(function(e){e.ALL="ALL",e.INCOMING_BYTES="IncomingBytes",e.INCOMING_RECORDS="IncomingRecords",e.ITERATOR_AGE_MILLISECONDS="IteratorAgeMilliseconds",e.OUTGOING_BYTES="OutgoingBytes",e.OUTGOING_RECORDS="OutgoingRecords",e.READ_PROVISIONED_THROUGHPUT_EXCEEDED="ReadProvisionedThroughputExceeded",e.WRITE_PROVISIONED_THROUGHPUT_EXCEEDED="WriteProvisionedThroughputExceeded"})(qd||(qd={}));var jd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(jd||(jd={}));var Vd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Vd||(Vd={}));var Yd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Yd||(Yd={}));var Zd;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"})(Zd||(Zd={}));var Jd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Jd||(Jd={}));var Xd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Xd||(Xd={}));var Qd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Qd||(Qd={}));var eh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(eh||(eh={}));var th;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(th||(th={}));var nh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(nh||(nh={}));var rh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(rh||(rh={}));var ih;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ih||(ih={}));var oh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(oh||(oh={}));var ah;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ah||(ah={}));var sh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(sh||(sh={}));var uh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(uh||(uh={}));var ch;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ch||(ch={}));var fh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(fh||(fh={}));var lh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(lh||(lh={}));var nu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(nu||(nu={}));var ru;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ru||(ru={}));var iu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(iu||(iu={}));var ou;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ou||(ou={}));var au;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(au||(au={}));var su;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(su||(su={}));var dh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(dh||(dh={}));var hh;(function(e){e.AFTER_SEQUENCE_NUMBER="AFTER_SEQUENCE_NUMBER",e.AT_SEQUENCE_NUMBER="AT_SEQUENCE_NUMBER",e.AT_TIMESTAMP="AT_TIMESTAMP",e.LATEST="LATEST",e.TRIM_HORIZON="TRIM_HORIZON"})(hh||(hh={}));var vh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(vh||(vh={}));var gh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(gh||(gh={}));var ph;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ph||(ph={}));var uu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(uu||(uu={}));var yh;(function(e){e.AFTER_SHARD_ID="AFTER_SHARD_ID",e.AT_LATEST="AT_LATEST",e.AT_TIMESTAMP="AT_TIMESTAMP",e.AT_TRIM_HORIZON="AT_TRIM_HORIZON",e.FROM_TIMESTAMP="FROM_TIMESTAMP",e.FROM_TRIM_HORIZON="FROM_TRIM_HORIZON"})(yh||(yh={}));var mh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(mh||(mh={}));var _h;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(_h||(_h={}));var bh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(bh||(bh={}));var wh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(wh||(wh={}));var Sh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Sh||(Sh={}));var Eh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Eh||(Eh={}));var xh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(xh||(xh={}));var Ah;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ah||(Ah={}));var Ih;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ih||(Ih={}));var Th;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Th||(Th={}));var Ch;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ch||(Ch={}));var Rh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Rh||(Rh={}));var Dh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Dh||(Dh={}));var Oh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Oh||(Oh={}));var cu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(cu||(cu={}));var Lh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Lh||(Lh={}));var fu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(fu||(fu={}));var Ph;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ph||(Ph={}));var Mh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Mh||(Mh={}));var kh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(kh||(kh={}));var Bh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Bh||(Bh={}));var Nh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Nh||(Nh={}));var Fh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Fh||(Fh={}));var Uh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Uh||(Uh={}));var zh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(zh||(zh={}));var lu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(lu||(lu={}));var $h;(function(e){e.visit=function(n,t){return n.SubscribeToShardEvent!==void 0?t.SubscribeToShardEvent(n.SubscribeToShardEvent):n.ResourceNotFoundException!==void 0?t.ResourceNotFoundException(n.ResourceNotFoundException):n.ResourceInUseException!==void 0?t.ResourceInUseException(n.ResourceInUseException):n.KMSDisabledException!==void 0?t.KMSDisabledException(n.KMSDisabledException):n.KMSInvalidStateException!==void 0?t.KMSInvalidStateException(n.KMSInvalidStateException):n.KMSAccessDeniedException!==void 0?t.KMSAccessDeniedException(n.KMSAccessDeniedException):n.KMSNotFoundException!==void 0?t.KMSNotFoundException(n.KMSNotFoundException):n.KMSOptInRequired!==void 0?t.KMSOptInRequired(n.KMSOptInRequired):n.KMSThrottlingException!==void 0?t.KMSThrottlingException(n.KMSThrottlingException):n.InternalFailureException!==void 0?t.InternalFailureException(n.InternalFailureException):t._(n.$unknown[0],n.$unknown[1])},e.filterSensitiveLog=function(n){var t;if(n.SubscribeToShardEvent!==void 0)return{SubscribeToShardEvent:lu.filterSensitiveLog(n.SubscribeToShardEvent)};if(n.ResourceNotFoundException!==void 0)return{ResourceNotFoundException:tu.filterSensitiveLog(n.ResourceNotFoundException)};if(n.ResourceInUseException!==void 0)return{ResourceInUseException:eu.filterSensitiveLog(n.ResourceInUseException)};if(n.KMSDisabledException!==void 0)return{KMSDisabledException:ru.filterSensitiveLog(n.KMSDisabledException)};if(n.KMSInvalidStateException!==void 0)return{KMSInvalidStateException:iu.filterSensitiveLog(n.KMSInvalidStateException)};if(n.KMSAccessDeniedException!==void 0)return{KMSAccessDeniedException:nu.filterSensitiveLog(n.KMSAccessDeniedException)};if(n.KMSNotFoundException!==void 0)return{KMSNotFoundException:ou.filterSensitiveLog(n.KMSNotFoundException)};if(n.KMSOptInRequired!==void 0)return{KMSOptInRequired:au.filterSensitiveLog(n.KMSOptInRequired)};if(n.KMSThrottlingException!==void 0)return{KMSThrottlingException:su.filterSensitiveLog(n.KMSThrottlingException)};if(n.InternalFailureException!==void 0)return{InternalFailureException:uu.filterSensitiveLog(n.InternalFailureException)};if(n.$unknown!==void 0)return t={},t[n.$unknown[0]]="UNKNOWN",t}})($h||($h={}));var Kh;(function(e){e.filterSensitiveLog=function(n){return O(O({},n),n.EventStream&&{EventStream:"STREAMING_CONTENT"})}})(Kh||(Kh={}));var Gh;(function(e){e.UNIFORM_SCALING="UNIFORM_SCALING"})(Gh||(Gh={}));var Hh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Hh||(Hh={}));var Wh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Wh||(Wh={}));var ZR=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a;return nt(this,function(s){return t={"content-type":"application/x-amz-json-1.1","x-amz-target":"Kinesis_20131202.PutRecords"},a=JSON.stringify(uD(e,n)),[2,AD(n,t,"/",void 0,a)]})})},JR=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,XR(e,n)]:[4,cp(e.body,n)];case 1:return t=o.sent(),a={},a=_D(t),s=O({$metadata:Ee(e)},a),[2,Promise.resolve(s)]}})})},XR=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s,o,f,l,v,u,h,p,_,w,E,I,R,B,z;return nt(this,function(N){switch(N.label){case 0:return a=[O({},e)],z={},[4,cp(e.body,n)];case 1:switch(t=O.apply(void 0,a.concat([(z.body=N.sent(),z)])),o="UnknownError",o=ID(e,t.body),f=o,f){case"InvalidArgumentException":return[3,2];case"com.amazonaws.kinesis#InvalidArgumentException":return[3,2];case"KMSAccessDeniedException":return[3,4];case"com.amazonaws.kinesis#KMSAccessDeniedException":return[3,4];case"KMSDisabledException":return[3,6];case"com.amazonaws.kinesis#KMSDisabledException":return[3,6];case"KMSInvalidStateException":return[3,8];case"com.amazonaws.kinesis#KMSInvalidStateException":return[3,8];case"KMSNotFoundException":return[3,10];case"com.amazonaws.kinesis#KMSNotFoundException":return[3,10];case"KMSOptInRequired":return[3,12];case"com.amazonaws.kinesis#KMSOptInRequired":return[3,12];case"KMSThrottlingException":return[3,14];case"com.amazonaws.kinesis#KMSThrottlingException":return[3,14];case"ProvisionedThroughputExceededException":return[3,16];case"com.amazonaws.kinesis#ProvisionedThroughputExceededException":return[3,16];case"ResourceNotFoundException":return[3,18];case"com.amazonaws.kinesis#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return l=[{}],[4,QR(t)];case 3:return s=O.apply(void 0,[O.apply(void 0,l.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 4:return v=[{}],[4,eD(t)];case 5:return s=O.apply(void 0,[O.apply(void 0,v.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 6:return u=[{}],[4,tD(t)];case 7:return s=O.apply(void 0,[O.apply(void 0,u.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 8:return h=[{}],[4,nD(t)];case 9:return s=O.apply(void 0,[O.apply(void 0,h.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 10:return p=[{}],[4,rD(t)];case 11:return s=O.apply(void 0,[O.apply(void 0,p.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 12:return _=[{}],[4,iD(t)];case 13:return s=O.apply(void 0,[O.apply(void 0,_.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 14:return w=[{}],[4,oD(t)];case 15:return s=O.apply(void 0,[O.apply(void 0,w.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 16:return E=[{}],[4,aD(t)];case 17:return s=O.apply(void 0,[O.apply(void 0,E.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 18:return I=[{}],[4,sD(t)];case 19:return s=O.apply(void 0,[O.apply(void 0,I.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 20:R=t.body,o=R.code||R.Code||o,s=O(O({},R),{name:""+o,message:R.message||R.Message||o,$fault:"client",$metadata:Ee(e)}),N.label=21;case 21:return B=s.message||s.Message||o,s.message=B,delete s.Message,[2,Promise.reject(Object.assign(new Error(B),s))]}})})},QR=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=lD(t),s=O({name:"InvalidArgumentException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},eD=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=dD(t),s=O({name:"KMSAccessDeniedException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},tD=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=hD(t),s=O({name:"KMSDisabledException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},nD=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=vD(t),s=O({name:"KMSInvalidStateException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},rD=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=gD(t),s=O({name:"KMSNotFoundException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},iD=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=pD(t),s=O({name:"KMSOptInRequired",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},oD=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=yD(t),s=O({name:"KMSThrottlingException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},aD=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=mD(t),s=O({name:"ProvisionedThroughputExceededException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},sD=function(e,n){return tt(void 0,void 0,void 0,function(){var t,a,s;return nt(this,function(o){return t=e.body,a=SD(t),s=O({name:"ResourceNotFoundException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},uD=function(e,n){return O(O({},e.Records!==void 0&&e.Records!==null&&{Records:fD(e.Records,n)}),e.StreamName!==void 0&&e.StreamName!==null&&{StreamName:e.StreamName})},cD=function(e,n){return O(O(O({},e.Data!==void 0&&e.Data!==null&&{Data:n.base64Encoder(e.Data)}),e.ExplicitHashKey!==void 0&&e.ExplicitHashKey!==null&&{ExplicitHashKey:e.ExplicitHashKey}),e.PartitionKey!==void 0&&e.PartitionKey!==null&&{PartitionKey:e.PartitionKey})},fD=function(e,n){return e.filter(function(t){return t!=null}).map(function(t){return t===null?null:cD(t,n)})},lD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},dD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},hD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},vD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},gD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},pD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},yD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},mD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},_D=function(e,n){return{EncryptionType:e.EncryptionType!==void 0&&e.EncryptionType!==null?e.EncryptionType:void 0,FailedRecordCount:e.FailedRecordCount!==void 0&&e.FailedRecordCount!==null?e.FailedRecordCount:void 0,Records:e.Records!==void 0&&e.Records!==null?wD(e.Records):void 0}},bD=function(e,n){return{ErrorCode:e.ErrorCode!==void 0&&e.ErrorCode!==null?e.ErrorCode:void 0,ErrorMessage:e.ErrorMessage!==void 0&&e.ErrorMessage!==null?e.ErrorMessage:void 0,SequenceNumber:e.SequenceNumber!==void 0&&e.SequenceNumber!==null?e.SequenceNumber:void 0,ShardId:e.ShardId!==void 0&&e.ShardId!==null?e.ShardId:void 0}},wD=function(e,n){return(e||[]).filter(function(t){return t!=null}).map(function(t){return t===null?null:bD(t)})},SD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Ee=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ED=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},xD=function(e,n){return ED(e,n).then(function(t){return n.utf8Encoder(t)})},AD=function(e,n,t,a,s){return tt(void 0,void 0,void 0,function(){var o,f,l,v,u,h;return nt(this,function(p){switch(p.label){case 0:return[4,e.endpoint()];case 1:return o=p.sent(),f=o.hostname,l=o.protocol,v=l===void 0?"https":l,u=o.port,h={protocol:v,hostname:f,port:u,method:"POST",path:t,headers:n},a!==void 0&&(h.hostname=a),s!==void 0&&(h.body=s),[2,new sn(h)]}})})},cp=function(e,n){return xD(e,n).then(function(t){return t.length?JSON.parse(t):{}})},ID=function(e,n){var t=function(o,f){return Object.keys(o).find(function(l){return l.toLowerCase()===f.toLowerCase()})},a=function(o){var f=o;return f.indexOf(":")>=0&&(f=f.split(":")[0]),f.indexOf("#")>=0&&(f=f.split("#")[1]),f},s=t(e.headers,"x-amzn-errortype");return s!==void 0?a(e.headers[s]):n.code!==void 0?a(n.code):n.__type!==void 0?a(n.__type):""},TD=function(e){np(n,e);function n(t){var a=e.call(this)||this;return a.input=t,a}return n.prototype.resolveMiddleware=function(t,a,s){this.middlewareStack.use(M0(a,this.serialize,this.deserialize));var o=t.concat(this.middlewareStack),f=a.logger,l="KinesisClient",v="PutRecordsCommand",u={logger:f,clientName:l,commandName:v,inputFilterSensitiveLog:cu.filterSensitiveLog,outputFilterSensitiveLog:fu.filterSensitiveLog},h=a.requestHandler;return o.resolve(function(p){return h.handle(p.request,s||{})},u)},n.prototype.serialize=function(t,a){return ZR(t,a)},n.prototype.deserialize=function(t,a){return JR(t,a)},n}(P0),dt=new Ie("AWSKinesisProvider"),qh=1e3,CD=100,RD=5*1e3,DD=5,OD=function(){function e(n){this._buffer=[],this._config=n||{},this._config.bufferSize=this._config.bufferSize||qh,this._config.flushSize=this._config.flushSize||CD,this._config.flushInterval=this._config.flushInterval||RD,this._config.resendLimit=this._config.resendLimit||DD,this._setupTimer()}return e.prototype._setupTimer=function(){var n=this;this._timer&&clearInterval(this._timer);var t=this._config,a=t.flushSize,s=t.flushInterval;this._timer=setInterval(function(){for(var o=n._buffer.length<a?n._buffer.length:a,f=[],l=0;l<o;l+=1){var v=n._buffer.shift();f.push(v)}n._sendFromBuffer(f)},s)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(n){dt.debug("configure Analytics",n);var t=n||{};return this._config=Object.assign({},this._config,t),this._setupTimer(),this._config},e.prototype.record=function(n){var t;return V(this,void 0,void 0,function(){var a;return j(this,function(s){switch(s.label){case 0:return[4,this._getCredentials()];case 1:return a=s.sent(),a?(Object.assign(n,{config:this._config,credentials:a}),!((t=n.event)===null||t===void 0)&&t.immediate?(this._sendEvents([n]),[2,Promise.resolve(!0)]):[2,this._putToBuffer(n)]):[2,Promise.resolve(!1)]}})})},e.prototype.updateEndpoint=function(){return dt.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(n){return this._buffer.length<qh?(this._buffer.push(n),Promise.resolve(!0)):(dt.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(n){for(var t=this,a=[],s=null,o=[],f=0;f<n.length;f+=1){var l=n[f].credentials;f===0?(o.push(n[f]),s=l):l.sessionToken===s.sessionToken&&l.identityId===s.identityId?(dt.debug("no change for cred, put event in the same group"),o.push(n[f])):(a.push(o),o=[],o.push(n[f]),s=l)}a.push(o),a.map(function(v){t._sendEvents(v)})},e.prototype._sendEvents=function(n){var t=this;if(n.length!==0){var a=n[0],s=a.config,o=a.credentials,f=this._init(s,o);if(!f)return!1;var l={};n.map(function(v){var u=v.event,h=u.streamName;l[h]===void 0&&(l[h]=[]);var p=u.data&&typeof u.data!="string"?JSON.stringify(u.data):u.data,_=$o(p),w=u.partitionKey||"partition-"+o.identityId,E={Data:_,PartitionKey:w};l[h].push(E)}),Object.keys(l).map(function(v){return V(t,void 0,void 0,function(){var u,h;return j(this,function(p){switch(p.label){case 0:dt.debug("putting records to kinesis with records",l[v]),p.label=1;case 1:return p.trys.push([1,3,,4]),u=new TD({Records:l[v],StreamName:v}),[4,this._kinesis.send(u)];case 2:return p.sent(),dt.debug("Upload records to stream",v),[3,4];case 3:return h=p.sent(),dt.debug("Failed to upload records to Kinesis",h),[3,4];case 4:return[2]}})})})}},e.prototype._init=function(n,t){if(dt.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return dt.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var a=n.region,s=n.endpoint;return this._initKinesis(a,s,t)},e.prototype._initKinesis=function(n,t,a){return dt.debug("initialize kinesis with credentials",a),this._kinesis=new YR({region:n,credentials:a,customUserAgent:Q0(On.Record),endpoint:t}),!0},e.prototype._getCredentials=function(){var n=this;return Zr.get().then(function(t){return t?(dt.debug("set credentials for analytics",n._config.credentials),Zr.shear(t)):null}).catch(function(t){return dt.debug("ensure credentials error",t),null})},e}(),du=function(e,n){return du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},du(e,n)};function fp(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");du(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var T=function(){return T=Object.assign||function(n){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},T.apply(this,arguments)};function fn(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})}function ln(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}const LD="@aws-sdk/client-firehose",PD="AWS SDK for JavaScript Firehose Client for Node.js, Browser and React Native",MD="3.6.1",kD={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},BD="./dist/cjs/index.js",ND="./types/index.d.ts",FD="./dist/es/index.js",UD={"./runtimeConfig":"./runtimeConfig.browser"},zD=!1,$D={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},KD={"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},GD={node:">=10.0.0"},HD={"<4.0":{"types/*":["types/ts3.4/*"]}},WD={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},qD="Apache-2.0",jD="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-firehose",VD={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-firehose"},YD={name:LD,description:PD,version:MD,scripts:kD,main:BD,types:ND,module:FD,browser:UD,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:zD,dependencies:$D,devDependencies:KD,engines:GD,typesVersions:HD,author:WD,license:qD,homepage:jD,repository:VD};var jh="firehose.{region}.amazonaws.com",ZD="firehose.{region}.amazonaws.com.cn",JD="firehose.{region}.c2s.ic.gov",XD="firehose.{region}.sc2s.sgov.gov",QD="firehose.{region}.amazonaws.com",eO=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),tO=new Set(["cn-north-1","cn-northwest-1"]),nO=new Set(["us-iso-east-1"]),rO=new Set(["us-isob-east-1"]),iO=new Set(["us-gov-east-1","us-gov-west-1"]),oO=function(e,n){var t=void 0;switch(e){case"af-south-1":t={hostname:"firehose.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":t={hostname:"firehose.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":t={hostname:"firehose.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":t={hostname:"firehose.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":t={hostname:"firehose.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":t={hostname:"firehose.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":t={hostname:"firehose.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":t={hostname:"firehose.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":t={hostname:"firehose.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":t={hostname:"firehose.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":t={hostname:"firehose.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":t={hostname:"firehose.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":t={hostname:"firehose.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":t={hostname:"firehose.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":t={hostname:"firehose.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":t={hostname:"firehose.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":t={hostname:"firehose-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":t={hostname:"firehose-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-east-1":t={hostname:"firehose-fips.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"fips-us-gov-west-1":t={hostname:"firehose-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-1":t={hostname:"firehose-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":t={hostname:"firehose-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":t={hostname:"firehose.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":t={hostname:"firehose.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":t={hostname:"firehose.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":t={hostname:"firehose.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":t={hostname:"firehose.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":t={hostname:"firehose.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":t={hostname:"firehose.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":t={hostname:"firehose.us-west-2.amazonaws.com",partition:"aws"};break;default:eO.has(e)&&(t={hostname:jh.replace("{region}",e),partition:"aws"}),tO.has(e)&&(t={hostname:ZD.replace("{region}",e),partition:"aws-cn"}),nO.has(e)&&(t={hostname:JD.replace("{region}",e),partition:"aws-iso"}),rO.has(e)&&(t={hostname:XD.replace("{region}",e),partition:"aws-iso-b"}),iO.has(e)&&(t={hostname:QD.replace("{region}",e),partition:"aws-us-gov"}),t===void 0&&(t={hostname:jh.replace("{region}",e),partition:"aws"})}return Promise.resolve(T({signingService:"firehose"},t))},Vh={apiVersion:"2015-08-04",disableHostPrefix:!1,logger:{},regionInfoProvider:oO,serviceId:"Firehose",urlParser:g0},aO=T(T({},Vh),{runtime:"browser",base64Decoder:Mu,base64Encoder:t0,bodyLengthChecker:l0,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:h0({serviceId:Vh.serviceId,clientVersion:YD.version}),maxAttempts:zo,region:r0("Region is missing"),requestHandler:new e0,sha256:Du.Sha256,streamCollector:n0,utf8Decoder:$o,utf8Encoder:v0}),sO=function(e){fp(n,e);function n(t){var a=this,s=T(T({},aO),t),o=y0(s),f=p0(o),l=C0(f),v=f0(l),u=v,h=D0(u);return a=e.call(this,h)||this,a.config=h,a.middlewareStack.use(R0(a.config)),a.middlewareStack.use(i0(a.config)),a.middlewareStack.use(m0(a.config)),a.middlewareStack.use(_0(a.config)),a.middlewareStack.use(b0(a.config)),a.middlewareStack.use(O0(a.config)),a}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(L0),Yh;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Yh||(Yh={}));var Zh;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Zh||(Zh={}));var Jh;(function(e){e.GZIP="GZIP",e.HADOOP_SNAPPY="HADOOP_SNAPPY",e.SNAPPY="Snappy",e.UNCOMPRESSED="UNCOMPRESSED",e.ZIP="ZIP"})(Jh||(Jh={}));var Xh;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Xh||(Xh={}));var Qh;(function(e){e.GZIP="GZIP",e.NONE="NONE"})(Qh||(Qh={}));var ev;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ev||(ev={}));var tv;(function(e){e.AWS_OWNED_CMK="AWS_OWNED_CMK",e.CUSTOMER_MANAGED_CMK="CUSTOMER_MANAGED_CMK"})(tv||(tv={}));var nv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(nv||(nv={}));var rv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(rv||(rv={}));var iv;(function(e){e.BUFFER_INTERVAL_IN_SECONDS="BufferIntervalInSeconds",e.BUFFER_SIZE_IN_MB="BufferSizeInMBs",e.LAMBDA_ARN="LambdaArn",e.LAMBDA_NUMBER_OF_RETRIES="NumberOfRetries",e.ROLE_ARN="RoleArn"})(iv||(iv={}));var ov;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ov||(ov={}));var av;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(av||(av={}));var sv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(sv||(sv={}));var uv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(uv||(uv={}));var cv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(cv||(cv={}));var fv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(fv||(fv={}));var lv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(lv||(lv={}));var dv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(dv||(dv={}));var hv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(hv||(hv={}));var vv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(vv||(vv={}));var gv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(gv||(gv={}));var pv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(pv||(pv={}));var yv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(yv||(yv={}));var mv;(function(e){e.NONE="NONE",e.SNAPPY="SNAPPY",e.ZLIB="ZLIB"})(mv||(mv={}));var _v;(function(e){e.V0_11="V0_11",e.V0_12="V0_12"})(_v||(_v={}));var bv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(bv||(bv={}));var wv;(function(e){e.GZIP="GZIP",e.SNAPPY="SNAPPY",e.UNCOMPRESSED="UNCOMPRESSED"})(wv||(wv={}));var Sv;(function(e){e.V1="V1",e.V2="V2"})(Sv||(Sv={}));var Ev;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Ev||(Ev={}));var xv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(xv||(xv={}));var Av;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Av||(Av={}));var Iv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Iv||(Iv={}));var Tv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Tv||(Tv={}));var Cv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Cv||(Cv={}));var Rv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Rv||(Rv={}));var Eo;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.Url&&{Url:Ot}),n.AccessKey&&{AccessKey:Ot})}})(Eo||(Eo={}));var hu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.AttributeName&&{AttributeName:Ot}),n.AttributeValue&&{AttributeValue:Ot})}})(hu||(hu={}));var Xr;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.CommonAttributes&&{CommonAttributes:n.CommonAttributes.map(function(t){return hu.filterSensitiveLog(t)})})}})(Xr||(Xr={}));var Dv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Dv||(Dv={}));var vu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.EndpointConfiguration&&{EndpointConfiguration:Eo.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Xr.filterSensitiveLog(n.RequestConfiguration)})}})(vu||(vu={}));var Ov;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Ov||(Ov={}));var Lv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Lv||(Lv={}));var gu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.Username&&{Username:Ot}),n.Password&&{Password:Ot})}})(gu||(gu={}));var Pv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Pv||(Pv={}));var Mv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Mv||(Mv={}));var kv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(kv||(kv={}));var Bv;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.RedshiftDestinationConfiguration&&{RedshiftDestinationConfiguration:gu.filterSensitiveLog(n.RedshiftDestinationConfiguration)}),n.HttpEndpointDestinationConfiguration&&{HttpEndpointDestinationConfiguration:vu.filterSensitiveLog(n.HttpEndpointDestinationConfiguration)})}})(Bv||(Bv={}));var Nv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Nv||(Nv={}));var Fv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Fv||(Fv={}));var Uv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Uv||(Uv={}));var zv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(zv||(zv={}));var $v;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})($v||($v={}));var Kv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Kv||(Kv={}));var Gv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Gv||(Gv={}));var Hv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Hv||(Hv={}));var Wv;(function(e){e.CREATE_ENI_FAILED="CREATE_ENI_FAILED",e.CREATE_KMS_GRANT_FAILED="CREATE_KMS_GRANT_FAILED",e.DELETE_ENI_FAILED="DELETE_ENI_FAILED",e.DISABLED_KMS_KEY="DISABLED_KMS_KEY",e.ENI_ACCESS_DENIED="ENI_ACCESS_DENIED",e.INVALID_KMS_KEY="INVALID_KMS_KEY",e.KMS_ACCESS_DENIED="KMS_ACCESS_DENIED",e.KMS_KEY_NOT_FOUND="KMS_KEY_NOT_FOUND",e.KMS_OPT_IN_REQUIRED="KMS_OPT_IN_REQUIRED",e.RETIRE_KMS_GRANT_FAILED="RETIRE_KMS_GRANT_FAILED",e.SECURITY_GROUP_ACCESS_DENIED="SECURITY_GROUP_ACCESS_DENIED",e.SECURITY_GROUP_NOT_FOUND="SECURITY_GROUP_NOT_FOUND",e.SUBNET_ACCESS_DENIED="SUBNET_ACCESS_DENIED",e.SUBNET_NOT_FOUND="SUBNET_NOT_FOUND",e.UNKNOWN_ERROR="UNKNOWN_ERROR"})(Wv||(Wv={}));var qv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(qv||(qv={}));var jv;(function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.DISABLING_FAILED="DISABLING_FAILED",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.ENABLING_FAILED="ENABLING_FAILED"})(jv||(jv={}));var Vv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Vv||(Vv={}));var Yv;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATING_FAILED="CREATING_FAILED",e.DELETING="DELETING",e.DELETING_FAILED="DELETING_FAILED"})(Yv||(Yv={}));var Zv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Zv||(Zv={}));var Jv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Jv||(Jv={}));var Xv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Xv||(Xv={}));var Qv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Qv||(Qv={}));var pu;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.Url&&{Url:Ot})}})(pu||(pu={}));var yu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.EndpointConfiguration&&{EndpointConfiguration:pu.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Xr.filterSensitiveLog(n.RequestConfiguration)})}})(yu||(yu={}));var mu;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.Username&&{Username:Ot})}})(mu||(mu={}));var eg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(eg||(eg={}));var _u;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.RedshiftDestinationDescription&&{RedshiftDestinationDescription:mu.filterSensitiveLog(n.RedshiftDestinationDescription)}),n.HttpEndpointDestinationDescription&&{HttpEndpointDestinationDescription:yu.filterSensitiveLog(n.HttpEndpointDestinationDescription)})}})(_u||(_u={}));var tg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(tg||(tg={}));var ng;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ng||(ng={}));var bu;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.Destinations&&{Destinations:n.Destinations.map(function(t){return _u.filterSensitiveLog(t)})})}})(bu||(bu={}));var rg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(rg||(rg={}));var ig;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.DeliveryStreamDescription&&{DeliveryStreamDescription:bu.filterSensitiveLog(n.DeliveryStreamDescription)})}})(ig||(ig={}));var og;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(og||(og={}));var ag;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ag||(ag={}));var sg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(sg||(sg={}));var ug;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ug||(ug={}));var cg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(cg||(cg={}));var fg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(fg||(fg={}));var lg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(lg||(lg={}));var dg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(dg||(dg={}));var hg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(hg||(hg={}));var vg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(vg||(vg={}));var gg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(gg||(gg={}));var wu;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(wu||(wu={}));var pg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(pg||(pg={}));var Su;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Su||(Su={}));var yg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(yg||(yg={}));var mg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(mg||(mg={}));var _g;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(_g||(_g={}));var bg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(bg||(bg={}));var wg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(wg||(wg={}));var Sg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Sg||(Sg={}));var Eg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Eg||(Eg={}));var xg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(xg||(xg={}));var Eu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.EndpointConfiguration&&{EndpointConfiguration:Eo.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Xr.filterSensitiveLog(n.RequestConfiguration)})}})(Eu||(Eu={}));var xu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.Username&&{Username:Ot}),n.Password&&{Password:Ot})}})(xu||(xu={}));var Ag;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Ag||(Ag={}));var Ig;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.RedshiftDestinationUpdate&&{RedshiftDestinationUpdate:xu.filterSensitiveLog(n.RedshiftDestinationUpdate)}),n.HttpEndpointDestinationUpdate&&{HttpEndpointDestinationUpdate:Eu.filterSensitiveLog(n.HttpEndpointDestinationUpdate)})}})(Ig||(Ig={}));var Tg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Tg||(Tg={}));var uO=function(e,n){return fn(void 0,void 0,void 0,function(){var t,a;return ln(this,function(s){return t={"content-type":"application/x-amz-json-1.1","x-amz-target":"Firehose_20150804.PutRecordBatch"},a=JSON.stringify(gO(e,n)),[2,TO(n,t,"/",void 0,a)]})})},cO=function(e,n){return fn(void 0,void 0,void 0,function(){var t,a,s;return ln(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,fO(e,n)]:[4,lp(e.body,n)];case 1:return t=o.sent(),a={},a=bO(t),s=T({$metadata:Dt(e)},a),[2,Promise.resolve(s)]}})})},fO=function(e,n){return fn(void 0,void 0,void 0,function(){var t,a,s,o,f,l,v,u,h,p,_,w;return ln(this,function(E){switch(E.label){case 0:return a=[T({},e)],w={},[4,lp(e.body,n)];case 1:switch(t=T.apply(void 0,a.concat([(w.body=E.sent(),w)])),o="UnknownError",o=CO(e,t.body),f=o,f){case"InvalidArgumentException":return[3,2];case"com.amazonaws.firehose#InvalidArgumentException":return[3,2];case"InvalidKMSResourceException":return[3,4];case"com.amazonaws.firehose#InvalidKMSResourceException":return[3,4];case"ResourceNotFoundException":return[3,6];case"com.amazonaws.firehose#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":return[3,8];case"com.amazonaws.firehose#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return l=[{}],[4,lO(t)];case 3:return s=T.apply(void 0,[T.apply(void 0,l.concat([E.sent()])),{name:o,$metadata:Dt(e)}]),[3,11];case 4:return v=[{}],[4,dO(t)];case 5:return s=T.apply(void 0,[T.apply(void 0,v.concat([E.sent()])),{name:o,$metadata:Dt(e)}]),[3,11];case 6:return u=[{}],[4,hO(t)];case 7:return s=T.apply(void 0,[T.apply(void 0,u.concat([E.sent()])),{name:o,$metadata:Dt(e)}]),[3,11];case 8:return h=[{}],[4,vO(t)];case 9:return s=T.apply(void 0,[T.apply(void 0,h.concat([E.sent()])),{name:o,$metadata:Dt(e)}]),[3,11];case 10:p=t.body,o=p.code||p.Code||o,s=T(T({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Dt(e)}),E.label=11;case 11:return _=s.message||s.Message||o,s.message=_,delete s.Message,[2,Promise.reject(Object.assign(new Error(_),s))]}})})},lO=function(e,n){return fn(void 0,void 0,void 0,function(){var t,a,s;return ln(this,function(o){return t=e.body,a=mO(t),s=T({name:"InvalidArgumentException",$fault:"client",$metadata:Dt(e)},a),[2,s]})})},dO=function(e,n){return fn(void 0,void 0,void 0,function(){var t,a,s;return ln(this,function(o){return t=e.body,a=_O(t),s=T({name:"InvalidKMSResourceException",$fault:"client",$metadata:Dt(e)},a),[2,s]})})},hO=function(e,n){return fn(void 0,void 0,void 0,function(){var t,a,s;return ln(this,function(o){return t=e.body,a=EO(t),s=T({name:"ResourceNotFoundException",$fault:"client",$metadata:Dt(e)},a),[2,s]})})},vO=function(e,n){return fn(void 0,void 0,void 0,function(){var t,a,s;return ln(this,function(o){return t=e.body,a=xO(t),s=T({name:"ServiceUnavailableException",$fault:"server",$metadata:Dt(e)},a),[2,s]})})},gO=function(e,n){return T(T({},e.DeliveryStreamName!==void 0&&e.DeliveryStreamName!==null&&{DeliveryStreamName:e.DeliveryStreamName}),e.Records!==void 0&&e.Records!==null&&{Records:pO(e.Records,n)})},pO=function(e,n){return e.filter(function(t){return t!=null}).map(function(t){return t===null?null:yO(t,n)})},yO=function(e,n){return T({},e.Data!==void 0&&e.Data!==null&&{Data:n.base64Encoder(e.Data)})},mO=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},_O=function(e,n){return{code:e.code!==void 0&&e.code!==null?e.code:void 0,message:e.message!==void 0&&e.message!==null?e.message:void 0}},bO=function(e,n){return{Encrypted:e.Encrypted!==void 0&&e.Encrypted!==null?e.Encrypted:void 0,FailedPutCount:e.FailedPutCount!==void 0&&e.FailedPutCount!==null?e.FailedPutCount:void 0,RequestResponses:e.RequestResponses!==void 0&&e.RequestResponses!==null?SO(e.RequestResponses):void 0}},wO=function(e,n){return{ErrorCode:e.ErrorCode!==void 0&&e.ErrorCode!==null?e.ErrorCode:void 0,ErrorMessage:e.ErrorMessage!==void 0&&e.ErrorMessage!==null?e.ErrorMessage:void 0,RecordId:e.RecordId!==void 0&&e.RecordId!==null?e.RecordId:void 0}},SO=function(e,n){return(e||[]).filter(function(t){return t!=null}).map(function(t){return t===null?null:wO(t)})},EO=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},xO=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Dt=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},AO=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},IO=function(e,n){return AO(e,n).then(function(t){return n.utf8Encoder(t)})},TO=function(e,n,t,a,s){return fn(void 0,void 0,void 0,function(){var o,f,l,v,u,h;return ln(this,function(p){switch(p.label){case 0:return[4,e.endpoint()];case 1:return o=p.sent(),f=o.hostname,l=o.protocol,v=l===void 0?"https":l,u=o.port,h={protocol:v,hostname:f,port:u,method:"POST",path:t,headers:n},a!==void 0&&(h.hostname=a),s!==void 0&&(h.body=s),[2,new sn(h)]}})})},lp=function(e,n){return IO(e,n).then(function(t){return t.length?JSON.parse(t):{}})},CO=function(e,n){var t=function(o,f){return Object.keys(o).find(function(l){return l.toLowerCase()===f.toLowerCase()})},a=function(o){var f=o;return f.indexOf(":")>=0&&(f=f.split(":")[0]),f.indexOf("#")>=0&&(f=f.split("#")[1]),f},s=t(e.headers,"x-amzn-errortype");return s!==void 0?a(e.headers[s]):n.code!==void 0?a(n.code):n.__type!==void 0?a(n.__type):""},RO=function(e){fp(n,e);function n(t){var a=e.call(this)||this;return a.input=t,a}return n.prototype.resolveMiddleware=function(t,a,s){this.middlewareStack.use(M0(a,this.serialize,this.deserialize));var o=t.concat(this.middlewareStack),f=a.logger,l="FirehoseClient",v="PutRecordBatchCommand",u={logger:f,clientName:l,commandName:v,inputFilterSensitiveLog:wu.filterSensitiveLog,outputFilterSensitiveLog:Su.filterSensitiveLog},h=a.requestHandler;return o.resolve(function(p){return h.handle(p.request,s||{})},u)},n.prototype.serialize=function(t,a){return uO(t,a)},n.prototype.deserialize=function(t,a){return cO(t,a)},n}(P0),Qn=new Ie("AWSKineisFirehoseProvider"),DO=function(e){To(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getProviderName=function(){return"AWSKinesisFirehose"},n.prototype._sendEvents=function(t){var a=this;if(t.length!==0){var s=t[0],o=s.config,f=s.credentials,l=this._init(o,f);if(!l)return!1;var v={};t.map(function(u){var h=u.event,p=h.streamName,_=h.data;v[p]===void 0&&(v[p]=[]);var w=_&&typeof _!="string"?JSON.stringify(_):_,E=$o(w),I={Data:E};v[p].push(I)}),Object.keys(v).map(function(u){Qn.debug("putting records to kinesis",u,"with records",v[u]),a._kinesisFirehose.send(new RO({Records:v[u],DeliveryStreamName:u})).then(function(h){return Qn.debug("Upload records to stream",u)}).catch(function(h){return Qn.debug("Failed to upload records to Kinesis",h)})})}},n.prototype._init=function(t,a){if(Qn.debug("init clients"),this._kinesisFirehose&&this._config.credentials&&this._config.credentials.sessionToken===a.sessionToken&&this._config.credentials.identityId===a.identityId)return Qn.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=a;var s=t.region;return this._initFirehose(s,a)},n.prototype._initFirehose=function(t,a){return Qn.debug("initialize kinesis firehose with credentials",a),this._kinesisFirehose=new sO({apiVersion:"2015-08-04",region:t,credentials:a,customUserAgent:Q0(On.Record)}),!0},n}(OD),xo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */xo.exports;(function(e,n){(function(){var t,a="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",l="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",u=500,h="__lodash_placeholder__",p=1,_=2,w=4,E=1,I=2,R=1,B=2,z=4,N=8,G=16,Y=32,ve=64,le=128,Se=256,xt=512,ri=30,Wt="...",hp=800,vp=16,Ku=1,gp=2,pp=3,dn=1/0,qt=9007199254740991,yp=17976931348623157e292,ii=0/0,At=4294967295,mp=At-1,_p=At>>>1,bp=[["ary",le],["bind",R],["bindKey",B],["curry",N],["curryRight",G],["flip",xt],["partial",Y],["partialRight",ve],["rearg",Se]],Pn="[object Arguments]",oi="[object Array]",wp="[object AsyncFunction]",fr="[object Boolean]",lr="[object Date]",Sp="[object DOMException]",ai="[object Error]",si="[object Function]",Gu="[object GeneratorFunction]",vt="[object Map]",dr="[object Number]",Ep="[object Null]",Lt="[object Object]",Hu="[object Promise]",xp="[object Proxy]",hr="[object RegExp]",gt="[object Set]",vr="[object String]",ui="[object Symbol]",Ap="[object Undefined]",gr="[object WeakMap]",Ip="[object WeakSet]",pr="[object ArrayBuffer]",Mn="[object DataView]",jo="[object Float32Array]",Vo="[object Float64Array]",Yo="[object Int8Array]",Zo="[object Int16Array]",Jo="[object Int32Array]",Xo="[object Uint8Array]",Qo="[object Uint8ClampedArray]",ea="[object Uint16Array]",ta="[object Uint32Array]",Tp=/\b__p \+= '';/g,Cp=/\b(__p \+=) '' \+/g,Rp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wu=/&(?:amp|lt|gt|quot|#39);/g,qu=/[&<>"']/g,Dp=RegExp(Wu.source),Op=RegExp(qu.source),Lp=/<%-([\s\S]+?)%>/g,Pp=/<%([\s\S]+?)%>/g,ju=/<%=([\s\S]+?)%>/g,Mp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kp=/^\w*$/,Bp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,na=/[\\^$.*+?()[\]{}|]/g,Np=RegExp(na.source),ra=/^\s+/,Fp=/\s/,Up=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zp=/\{\n\/\* \[wrapped with (.+)\] \*/,$p=/,? & /,Kp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gp=/[()=,{}\[\]\/\s]/,Hp=/\\(\\)?/g,Wp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vu=/\w*$/,qp=/^[-+]0x[0-9a-f]+$/i,jp=/^0b[01]+$/i,Vp=/^\[object .+?Constructor\]$/,Yp=/^0o[0-7]+$/i,Zp=/^(?:0|[1-9]\d*)$/,Jp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ci=/($^)/,Xp=/['\n\r\u2028\u2029\\]/g,fi="\\ud800-\\udfff",Qp="\\u0300-\\u036f",ey="\\ufe20-\\ufe2f",ty="\\u20d0-\\u20ff",Yu=Qp+ey+ty,Zu="\\u2700-\\u27bf",Ju="a-z\\xdf-\\xf6\\xf8-\\xff",ny="\\xac\\xb1\\xd7\\xf7",ry="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",iy="\\u2000-\\u206f",oy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xu="A-Z\\xc0-\\xd6\\xd8-\\xde",Qu="\\ufe0e\\ufe0f",ec=ny+ry+iy+oy,ia="[']",ay="["+fi+"]",tc="["+ec+"]",li="["+Yu+"]",nc="\\d+",sy="["+Zu+"]",rc="["+Ju+"]",ic="[^"+fi+ec+nc+Zu+Ju+Xu+"]",oa="\\ud83c[\\udffb-\\udfff]",uy="(?:"+li+"|"+oa+")",oc="[^"+fi+"]",aa="(?:\\ud83c[\\udde6-\\uddff]){2}",sa="[\\ud800-\\udbff][\\udc00-\\udfff]",kn="["+Xu+"]",ac="\\u200d",sc="(?:"+rc+"|"+ic+")",cy="(?:"+kn+"|"+ic+")",uc="(?:"+ia+"(?:d|ll|m|re|s|t|ve))?",cc="(?:"+ia+"(?:D|LL|M|RE|S|T|VE))?",fc=uy+"?",lc="["+Qu+"]?",fy="(?:"+ac+"(?:"+[oc,aa,sa].join("|")+")"+lc+fc+")*",ly="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dc=lc+fc+fy,hy="(?:"+[sy,aa,sa].join("|")+")"+dc,vy="(?:"+[oc+li+"?",li,aa,sa,ay].join("|")+")",gy=RegExp(ia,"g"),py=RegExp(li,"g"),ua=RegExp(oa+"(?="+oa+")|"+vy+dc,"g"),yy=RegExp([kn+"?"+rc+"+"+uc+"(?="+[tc,kn,"$"].join("|")+")",cy+"+"+cc+"(?="+[tc,kn+sc,"$"].join("|")+")",kn+"?"+sc+"+"+uc,kn+"+"+cc,dy,ly,nc,hy].join("|"),"g"),my=RegExp("["+ac+fi+Yu+Qu+"]"),_y=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,by=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wy=-1,de={};de[jo]=de[Vo]=de[Yo]=de[Zo]=de[Jo]=de[Xo]=de[Qo]=de[ea]=de[ta]=!0,de[Pn]=de[oi]=de[pr]=de[fr]=de[Mn]=de[lr]=de[ai]=de[si]=de[vt]=de[dr]=de[Lt]=de[hr]=de[gt]=de[vr]=de[gr]=!1;var fe={};fe[Pn]=fe[oi]=fe[pr]=fe[Mn]=fe[fr]=fe[lr]=fe[jo]=fe[Vo]=fe[Yo]=fe[Zo]=fe[Jo]=fe[vt]=fe[dr]=fe[Lt]=fe[hr]=fe[gt]=fe[vr]=fe[ui]=fe[Xo]=fe[Qo]=fe[ea]=fe[ta]=!0,fe[ai]=fe[si]=fe[gr]=!1;var Sy={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ey={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ay={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Iy=parseFloat,Ty=parseInt,hc=typeof Lr=="object"&&Lr&&Lr.Object===Object&&Lr,Cy=typeof self=="object"&&self&&self.Object===Object&&self,Ce=hc||Cy||Function("return this")(),ca=n&&!n.nodeType&&n,hn=ca&&!0&&e&&!e.nodeType&&e,vc=hn&&hn.exports===ca,fa=vc&&hc.process,rt=function(){try{var x=hn&&hn.require&&hn.require("util").types;return x||fa&&fa.binding&&fa.binding("util")}catch{}}(),gc=rt&&rt.isArrayBuffer,pc=rt&&rt.isDate,yc=rt&&rt.isMap,mc=rt&&rt.isRegExp,_c=rt&&rt.isSet,bc=rt&&rt.isTypedArray;function qe(x,D,C){switch(C.length){case 0:return x.call(D);case 1:return x.call(D,C[0]);case 2:return x.call(D,C[0],C[1]);case 3:return x.call(D,C[0],C[1],C[2])}return x.apply(D,C)}function Ry(x,D,C,U){for(var Z=-1,oe=x==null?0:x.length;++Z<oe;){var xe=x[Z];D(U,xe,C(xe),x)}return U}function it(x,D){for(var C=-1,U=x==null?0:x.length;++C<U&&D(x[C],C,x)!==!1;);return x}function Dy(x,D){for(var C=x==null?0:x.length;C--&&D(x[C],C,x)!==!1;);return x}function wc(x,D){for(var C=-1,U=x==null?0:x.length;++C<U;)if(!D(x[C],C,x))return!1;return!0}function jt(x,D){for(var C=-1,U=x==null?0:x.length,Z=0,oe=[];++C<U;){var xe=x[C];D(xe,C,x)&&(oe[Z++]=xe)}return oe}function di(x,D){var C=x==null?0:x.length;return!!C&&Bn(x,D,0)>-1}function la(x,D,C){for(var U=-1,Z=x==null?0:x.length;++U<Z;)if(C(D,x[U]))return!0;return!1}function he(x,D){for(var C=-1,U=x==null?0:x.length,Z=Array(U);++C<U;)Z[C]=D(x[C],C,x);return Z}function Vt(x,D){for(var C=-1,U=D.length,Z=x.length;++C<U;)x[Z+C]=D[C];return x}function da(x,D,C,U){var Z=-1,oe=x==null?0:x.length;for(U&&oe&&(C=x[++Z]);++Z<oe;)C=D(C,x[Z],Z,x);return C}function Oy(x,D,C,U){var Z=x==null?0:x.length;for(U&&Z&&(C=x[--Z]);Z--;)C=D(C,x[Z],Z,x);return C}function ha(x,D){for(var C=-1,U=x==null?0:x.length;++C<U;)if(D(x[C],C,x))return!0;return!1}var Ly=va("length");function Py(x){return x.split("")}function My(x){return x.match(Kp)||[]}function Sc(x,D,C){var U;return C(x,function(Z,oe,xe){if(D(Z,oe,xe))return U=oe,!1}),U}function hi(x,D,C,U){for(var Z=x.length,oe=C+(U?1:-1);U?oe--:++oe<Z;)if(D(x[oe],oe,x))return oe;return-1}function Bn(x,D,C){return D===D?qy(x,D,C):hi(x,Ec,C)}function ky(x,D,C,U){for(var Z=C-1,oe=x.length;++Z<oe;)if(U(x[Z],D))return Z;return-1}function Ec(x){return x!==x}function xc(x,D){var C=x==null?0:x.length;return C?pa(x,D)/C:ii}function va(x){return function(D){return D==null?t:D[x]}}function ga(x){return function(D){return x==null?t:x[D]}}function Ac(x,D,C,U,Z){return Z(x,function(oe,xe,ue){C=U?(U=!1,oe):D(C,oe,xe,ue)}),C}function By(x,D){var C=x.length;for(x.sort(D);C--;)x[C]=x[C].value;return x}function pa(x,D){for(var C,U=-1,Z=x.length;++U<Z;){var oe=D(x[U]);oe!==t&&(C=C===t?oe:C+oe)}return C}function ya(x,D){for(var C=-1,U=Array(x);++C<x;)U[C]=D(C);return U}function Ny(x,D){return he(D,function(C){return[C,x[C]]})}function Ic(x){return x&&x.slice(0,Dc(x)+1).replace(ra,"")}function je(x){return function(D){return x(D)}}function ma(x,D){return he(D,function(C){return x[C]})}function yr(x,D){return x.has(D)}function Tc(x,D){for(var C=-1,U=x.length;++C<U&&Bn(D,x[C],0)>-1;);return C}function Cc(x,D){for(var C=x.length;C--&&Bn(D,x[C],0)>-1;);return C}function Fy(x,D){for(var C=x.length,U=0;C--;)x[C]===D&&++U;return U}var Uy=ga(Sy),zy=ga(Ey);function $y(x){return"\\"+Ay[x]}function Ky(x,D){return x==null?t:x[D]}function Nn(x){return my.test(x)}function Gy(x){return _y.test(x)}function Hy(x){for(var D,C=[];!(D=x.next()).done;)C.push(D.value);return C}function _a(x){var D=-1,C=Array(x.size);return x.forEach(function(U,Z){C[++D]=[Z,U]}),C}function Rc(x,D){return function(C){return x(D(C))}}function Yt(x,D){for(var C=-1,U=x.length,Z=0,oe=[];++C<U;){var xe=x[C];(xe===D||xe===h)&&(x[C]=h,oe[Z++]=C)}return oe}function vi(x){var D=-1,C=Array(x.size);return x.forEach(function(U){C[++D]=U}),C}function Wy(x){var D=-1,C=Array(x.size);return x.forEach(function(U){C[++D]=[U,U]}),C}function qy(x,D,C){for(var U=C-1,Z=x.length;++U<Z;)if(x[U]===D)return U;return-1}function jy(x,D,C){for(var U=C+1;U--;)if(x[U]===D)return U;return U}function Fn(x){return Nn(x)?Yy(x):Ly(x)}function pt(x){return Nn(x)?Zy(x):Py(x)}function Dc(x){for(var D=x.length;D--&&Fp.test(x.charAt(D)););return D}var Vy=ga(xy);function Yy(x){for(var D=ua.lastIndex=0;ua.test(x);)++D;return D}function Zy(x){return x.match(ua)||[]}function Jy(x){return x.match(yy)||[]}var Xy=function x(D){D=D==null?Ce:Un.defaults(Ce.Object(),D,Un.pick(Ce,by));var C=D.Array,U=D.Date,Z=D.Error,oe=D.Function,xe=D.Math,ue=D.Object,ba=D.RegExp,Qy=D.String,ot=D.TypeError,gi=C.prototype,em=oe.prototype,zn=ue.prototype,pi=D["__core-js_shared__"],yi=em.toString,se=zn.hasOwnProperty,tm=0,Oc=function(){var r=/[^.]+$/.exec(pi&&pi.keys&&pi.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),mi=zn.toString,nm=yi.call(ue),rm=Ce._,im=ba("^"+yi.call(se).replace(na,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_i=vc?D.Buffer:t,Zt=D.Symbol,bi=D.Uint8Array,Lc=_i?_i.allocUnsafe:t,wi=Rc(ue.getPrototypeOf,ue),Pc=ue.create,Mc=zn.propertyIsEnumerable,Si=gi.splice,kc=Zt?Zt.isConcatSpreadable:t,mr=Zt?Zt.iterator:t,vn=Zt?Zt.toStringTag:t,Ei=function(){try{var r=_n(ue,"defineProperty");return r({},"",{}),r}catch{}}(),om=D.clearTimeout!==Ce.clearTimeout&&D.clearTimeout,am=U&&U.now!==Ce.Date.now&&U.now,sm=D.setTimeout!==Ce.setTimeout&&D.setTimeout,xi=xe.ceil,Ai=xe.floor,wa=ue.getOwnPropertySymbols,um=_i?_i.isBuffer:t,Bc=D.isFinite,cm=gi.join,fm=Rc(ue.keys,ue),Ae=xe.max,Le=xe.min,lm=U.now,dm=D.parseInt,Nc=xe.random,hm=gi.reverse,Sa=_n(D,"DataView"),_r=_n(D,"Map"),Ea=_n(D,"Promise"),$n=_n(D,"Set"),br=_n(D,"WeakMap"),wr=_n(ue,"create"),Ii=br&&new br,Kn={},vm=bn(Sa),gm=bn(_r),pm=bn(Ea),ym=bn($n),mm=bn(br),Ti=Zt?Zt.prototype:t,Sr=Ti?Ti.valueOf:t,Fc=Ti?Ti.toString:t;function y(r){if(ye(r)&&!J(r)&&!(r instanceof re)){if(r instanceof at)return r;if(se.call(r,"__wrapped__"))return zf(r)}return new at(r)}var Gn=function(){function r(){}return function(i){if(!ge(i))return{};if(Pc)return Pc(i);r.prototype=i;var c=new r;return r.prototype=t,c}}();function Ci(){}function at(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=t}y.templateSettings={escape:Lp,evaluate:Pp,interpolate:ju,variable:"",imports:{_:y}},y.prototype=Ci.prototype,y.prototype.constructor=y,at.prototype=Gn(Ci.prototype),at.prototype.constructor=at;function re(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=At,this.__views__=[]}function _m(){var r=new re(this.__wrapped__);return r.__actions__=Ke(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Ke(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Ke(this.__views__),r}function bm(){if(this.__filtered__){var r=new re(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function wm(){var r=this.__wrapped__.value(),i=this.__dir__,c=J(r),d=i<0,g=c?r.length:0,m=P1(0,g,this.__views__),b=m.start,S=m.end,A=S-b,L=d?S:b-1,P=this.__iteratees__,k=P.length,F=0,K=Le(A,this.__takeCount__);if(!c||!d&&g==A&&K==A)return cf(r,this.__actions__);var W=[];e:for(;A--&&F<K;){L+=i;for(var Q=-1,q=r[L];++Q<k;){var ne=P[Q],ie=ne.iteratee,Ze=ne.type,Ue=ie(q);if(Ze==gp)q=Ue;else if(!Ue){if(Ze==Ku)continue e;break e}}W[F++]=q}return W}re.prototype=Gn(Ci.prototype),re.prototype.constructor=re;function gn(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function Sm(){this.__data__=wr?wr(null):{},this.size=0}function Em(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function xm(r){var i=this.__data__;if(wr){var c=i[r];return c===v?t:c}return se.call(i,r)?i[r]:t}function Am(r){var i=this.__data__;return wr?i[r]!==t:se.call(i,r)}function Im(r,i){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=wr&&i===t?v:i,this}gn.prototype.clear=Sm,gn.prototype.delete=Em,gn.prototype.get=xm,gn.prototype.has=Am,gn.prototype.set=Im;function Pt(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function Tm(){this.__data__=[],this.size=0}function Cm(r){var i=this.__data__,c=Ri(i,r);if(c<0)return!1;var d=i.length-1;return c==d?i.pop():Si.call(i,c,1),--this.size,!0}function Rm(r){var i=this.__data__,c=Ri(i,r);return c<0?t:i[c][1]}function Dm(r){return Ri(this.__data__,r)>-1}function Om(r,i){var c=this.__data__,d=Ri(c,r);return d<0?(++this.size,c.push([r,i])):c[d][1]=i,this}Pt.prototype.clear=Tm,Pt.prototype.delete=Cm,Pt.prototype.get=Rm,Pt.prototype.has=Dm,Pt.prototype.set=Om;function Mt(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function Lm(){this.size=0,this.__data__={hash:new gn,map:new(_r||Pt),string:new gn}}function Pm(r){var i=$i(this,r).delete(r);return this.size-=i?1:0,i}function Mm(r){return $i(this,r).get(r)}function km(r){return $i(this,r).has(r)}function Bm(r,i){var c=$i(this,r),d=c.size;return c.set(r,i),this.size+=c.size==d?0:1,this}Mt.prototype.clear=Lm,Mt.prototype.delete=Pm,Mt.prototype.get=Mm,Mt.prototype.has=km,Mt.prototype.set=Bm;function pn(r){var i=-1,c=r==null?0:r.length;for(this.__data__=new Mt;++i<c;)this.add(r[i])}function Nm(r){return this.__data__.set(r,v),this}function Fm(r){return this.__data__.has(r)}pn.prototype.add=pn.prototype.push=Nm,pn.prototype.has=Fm;function yt(r){var i=this.__data__=new Pt(r);this.size=i.size}function Um(){this.__data__=new Pt,this.size=0}function zm(r){var i=this.__data__,c=i.delete(r);return this.size=i.size,c}function $m(r){return this.__data__.get(r)}function Km(r){return this.__data__.has(r)}function Gm(r,i){var c=this.__data__;if(c instanceof Pt){var d=c.__data__;if(!_r||d.length<s-1)return d.push([r,i]),this.size=++c.size,this;c=this.__data__=new Mt(d)}return c.set(r,i),this.size=c.size,this}yt.prototype.clear=Um,yt.prototype.delete=zm,yt.prototype.get=$m,yt.prototype.has=Km,yt.prototype.set=Gm;function Uc(r,i){var c=J(r),d=!c&&wn(r),g=!c&&!d&&tn(r),m=!c&&!d&&!g&&jn(r),b=c||d||g||m,S=b?ya(r.length,Qy):[],A=S.length;for(var L in r)(i||se.call(r,L))&&!(b&&(L=="length"||g&&(L=="offset"||L=="parent")||m&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||Ft(L,A)))&&S.push(L);return S}function zc(r){var i=r.length;return i?r[Ma(0,i-1)]:t}function Hm(r,i){return Ki(Ke(r),yn(i,0,r.length))}function Wm(r){return Ki(Ke(r))}function xa(r,i,c){(c!==t&&!mt(r[i],c)||c===t&&!(i in r))&&kt(r,i,c)}function Er(r,i,c){var d=r[i];(!(se.call(r,i)&&mt(d,c))||c===t&&!(i in r))&&kt(r,i,c)}function Ri(r,i){for(var c=r.length;c--;)if(mt(r[c][0],i))return c;return-1}function qm(r,i,c,d){return Jt(r,function(g,m,b){i(d,g,c(g),b)}),d}function $c(r,i){return r&&Tt(i,Te(i),r)}function jm(r,i){return r&&Tt(i,He(i),r)}function kt(r,i,c){i=="__proto__"&&Ei?Ei(r,i,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[i]=c}function Aa(r,i){for(var c=-1,d=i.length,g=C(d),m=r==null;++c<d;)g[c]=m?t:os(r,i[c]);return g}function yn(r,i,c){return r===r&&(c!==t&&(r=r<=c?r:c),i!==t&&(r=r>=i?r:i)),r}function st(r,i,c,d,g,m){var b,S=i&p,A=i&_,L=i&w;if(c&&(b=g?c(r,d,g,m):c(r)),b!==t)return b;if(!ge(r))return r;var P=J(r);if(P){if(b=k1(r),!S)return Ke(r,b)}else{var k=Pe(r),F=k==si||k==Gu;if(tn(r))return df(r,S);if(k==Lt||k==Pn||F&&!g){if(b=A||F?{}:Of(r),!S)return A?x1(r,jm(b,r)):E1(r,$c(b,r))}else{if(!fe[k])return g?r:{};b=B1(r,k,S)}}m||(m=new yt);var K=m.get(r);if(K)return K;m.set(r,b),al(r)?r.forEach(function(q){b.add(st(q,i,c,q,r,m))}):il(r)&&r.forEach(function(q,ne){b.set(ne,st(q,i,c,ne,r,m))});var W=L?A?Wa:Ha:A?He:Te,Q=P?t:W(r);return it(Q||r,function(q,ne){Q&&(ne=q,q=r[ne]),Er(b,ne,st(q,i,c,ne,r,m))}),b}function Vm(r){var i=Te(r);return function(c){return Kc(c,r,i)}}function Kc(r,i,c){var d=c.length;if(r==null)return!d;for(r=ue(r);d--;){var g=c[d],m=i[g],b=r[g];if(b===t&&!(g in r)||!m(b))return!1}return!0}function Gc(r,i,c){if(typeof r!="function")throw new ot(f);return Dr(function(){r.apply(t,c)},i)}function xr(r,i,c,d){var g=-1,m=di,b=!0,S=r.length,A=[],L=i.length;if(!S)return A;c&&(i=he(i,je(c))),d?(m=la,b=!1):i.length>=s&&(m=yr,b=!1,i=new pn(i));e:for(;++g<S;){var P=r[g],k=c==null?P:c(P);if(P=d||P!==0?P:0,b&&k===k){for(var F=L;F--;)if(i[F]===k)continue e;A.push(P)}else m(i,k,d)||A.push(P)}return A}var Jt=yf(It),Hc=yf(Ta,!0);function Ym(r,i){var c=!0;return Jt(r,function(d,g,m){return c=!!i(d,g,m),c}),c}function Di(r,i,c){for(var d=-1,g=r.length;++d<g;){var m=r[d],b=i(m);if(b!=null&&(S===t?b===b&&!Ye(b):c(b,S)))var S=b,A=m}return A}function Zm(r,i,c,d){var g=r.length;for(c=X(c),c<0&&(c=-c>g?0:g+c),d=d===t||d>g?g:X(d),d<0&&(d+=g),d=c>d?0:ul(d);c<d;)r[c++]=i;return r}function Wc(r,i){var c=[];return Jt(r,function(d,g,m){i(d,g,m)&&c.push(d)}),c}function Re(r,i,c,d,g){var m=-1,b=r.length;for(c||(c=F1),g||(g=[]);++m<b;){var S=r[m];i>0&&c(S)?i>1?Re(S,i-1,c,d,g):Vt(g,S):d||(g[g.length]=S)}return g}var Ia=mf(),qc=mf(!0);function It(r,i){return r&&Ia(r,i,Te)}function Ta(r,i){return r&&qc(r,i,Te)}function Oi(r,i){return jt(i,function(c){return Ut(r[c])})}function mn(r,i){i=Qt(i,r);for(var c=0,d=i.length;r!=null&&c<d;)r=r[Ct(i[c++])];return c&&c==d?r:t}function jc(r,i,c){var d=i(r);return J(r)?d:Vt(d,c(r))}function Ne(r){return r==null?r===t?Ap:Ep:vn&&vn in ue(r)?L1(r):W1(r)}function Ca(r,i){return r>i}function Jm(r,i){return r!=null&&se.call(r,i)}function Xm(r,i){return r!=null&&i in ue(r)}function Qm(r,i,c){return r>=Le(i,c)&&r<Ae(i,c)}function Ra(r,i,c){for(var d=c?la:di,g=r[0].length,m=r.length,b=m,S=C(m),A=1/0,L=[];b--;){var P=r[b];b&&i&&(P=he(P,je(i))),A=Le(P.length,A),S[b]=!c&&(i||g>=120&&P.length>=120)?new pn(b&&P):t}P=r[0];var k=-1,F=S[0];e:for(;++k<g&&L.length<A;){var K=P[k],W=i?i(K):K;if(K=c||K!==0?K:0,!(F?yr(F,W):d(L,W,c))){for(b=m;--b;){var Q=S[b];if(!(Q?yr(Q,W):d(r[b],W,c)))continue e}F&&F.push(W),L.push(K)}}return L}function e1(r,i,c,d){return It(r,function(g,m,b){i(d,c(g),m,b)}),d}function Ar(r,i,c){i=Qt(i,r),r=kf(r,i);var d=r==null?r:r[Ct(ct(i))];return d==null?t:qe(d,r,c)}function Vc(r){return ye(r)&&Ne(r)==Pn}function t1(r){return ye(r)&&Ne(r)==pr}function n1(r){return ye(r)&&Ne(r)==lr}function Ir(r,i,c,d,g){return r===i?!0:r==null||i==null||!ye(r)&&!ye(i)?r!==r&&i!==i:r1(r,i,c,d,Ir,g)}function r1(r,i,c,d,g,m){var b=J(r),S=J(i),A=b?oi:Pe(r),L=S?oi:Pe(i);A=A==Pn?Lt:A,L=L==Pn?Lt:L;var P=A==Lt,k=L==Lt,F=A==L;if(F&&tn(r)){if(!tn(i))return!1;b=!0,P=!1}if(F&&!P)return m||(m=new yt),b||jn(r)?Cf(r,i,c,d,g,m):D1(r,i,A,c,d,g,m);if(!(c&E)){var K=P&&se.call(r,"__wrapped__"),W=k&&se.call(i,"__wrapped__");if(K||W){var Q=K?r.value():r,q=W?i.value():i;return m||(m=new yt),g(Q,q,c,d,m)}}return F?(m||(m=new yt),O1(r,i,c,d,g,m)):!1}function i1(r){return ye(r)&&Pe(r)==vt}function Da(r,i,c,d){var g=c.length,m=g,b=!d;if(r==null)return!m;for(r=ue(r);g--;){var S=c[g];if(b&&S[2]?S[1]!==r[S[0]]:!(S[0]in r))return!1}for(;++g<m;){S=c[g];var A=S[0],L=r[A],P=S[1];if(b&&S[2]){if(L===t&&!(A in r))return!1}else{var k=new yt;if(d)var F=d(L,P,A,r,i,k);if(!(F===t?Ir(P,L,E|I,d,k):F))return!1}}return!0}function Yc(r){if(!ge(r)||z1(r))return!1;var i=Ut(r)?im:Vp;return i.test(bn(r))}function o1(r){return ye(r)&&Ne(r)==hr}function a1(r){return ye(r)&&Pe(r)==gt}function s1(r){return ye(r)&&Vi(r.length)&&!!de[Ne(r)]}function Zc(r){return typeof r=="function"?r:r==null?We:typeof r=="object"?J(r)?Qc(r[0],r[1]):Xc(r):_l(r)}function Oa(r){if(!Rr(r))return fm(r);var i=[];for(var c in ue(r))se.call(r,c)&&c!="constructor"&&i.push(c);return i}function u1(r){if(!ge(r))return H1(r);var i=Rr(r),c=[];for(var d in r)d=="constructor"&&(i||!se.call(r,d))||c.push(d);return c}function La(r,i){return r<i}function Jc(r,i){var c=-1,d=Ge(r)?C(r.length):[];return Jt(r,function(g,m,b){d[++c]=i(g,m,b)}),d}function Xc(r){var i=ja(r);return i.length==1&&i[0][2]?Pf(i[0][0],i[0][1]):function(c){return c===r||Da(c,r,i)}}function Qc(r,i){return Ya(r)&&Lf(i)?Pf(Ct(r),i):function(c){var d=os(c,r);return d===t&&d===i?as(c,r):Ir(i,d,E|I)}}function Li(r,i,c,d,g){r!==i&&Ia(i,function(m,b){if(g||(g=new yt),ge(m))c1(r,i,b,c,Li,d,g);else{var S=d?d(Ja(r,b),m,b+"",r,i,g):t;S===t&&(S=m),xa(r,b,S)}},He)}function c1(r,i,c,d,g,m,b){var S=Ja(r,c),A=Ja(i,c),L=b.get(A);if(L){xa(r,c,L);return}var P=m?m(S,A,c+"",r,i,b):t,k=P===t;if(k){var F=J(A),K=!F&&tn(A),W=!F&&!K&&jn(A);P=A,F||K||W?J(S)?P=S:_e(S)?P=Ke(S):K?(k=!1,P=df(A,!0)):W?(k=!1,P=hf(A,!0)):P=[]:Or(A)||wn(A)?(P=S,wn(S)?P=cl(S):(!ge(S)||Ut(S))&&(P=Of(A))):k=!1}k&&(b.set(A,P),g(P,A,d,m,b),b.delete(A)),xa(r,c,P)}function ef(r,i){var c=r.length;if(c)return i+=i<0?c:0,Ft(i,c)?r[i]:t}function tf(r,i,c){i.length?i=he(i,function(m){return J(m)?function(b){return mn(b,m.length===1?m[0]:m)}:m}):i=[We];var d=-1;i=he(i,je(H()));var g=Jc(r,function(m,b,S){var A=he(i,function(L){return L(m)});return{criteria:A,index:++d,value:m}});return By(g,function(m,b){return S1(m,b,c)})}function f1(r,i){return nf(r,i,function(c,d){return as(r,d)})}function nf(r,i,c){for(var d=-1,g=i.length,m={};++d<g;){var b=i[d],S=mn(r,b);c(S,b)&&Tr(m,Qt(b,r),S)}return m}function l1(r){return function(i){return mn(i,r)}}function Pa(r,i,c,d){var g=d?ky:Bn,m=-1,b=i.length,S=r;for(r===i&&(i=Ke(i)),c&&(S=he(r,je(c)));++m<b;)for(var A=0,L=i[m],P=c?c(L):L;(A=g(S,P,A,d))>-1;)S!==r&&Si.call(S,A,1),Si.call(r,A,1);return r}function rf(r,i){for(var c=r?i.length:0,d=c-1;c--;){var g=i[c];if(c==d||g!==m){var m=g;Ft(g)?Si.call(r,g,1):Na(r,g)}}return r}function Ma(r,i){return r+Ai(Nc()*(i-r+1))}function d1(r,i,c,d){for(var g=-1,m=Ae(xi((i-r)/(c||1)),0),b=C(m);m--;)b[d?m:++g]=r,r+=c;return b}function ka(r,i){var c="";if(!r||i<1||i>qt)return c;do i%2&&(c+=r),i=Ai(i/2),i&&(r+=r);while(i);return c}function ee(r,i){return Xa(Mf(r,i,We),r+"")}function h1(r){return zc(Vn(r))}function v1(r,i){var c=Vn(r);return Ki(c,yn(i,0,c.length))}function Tr(r,i,c,d){if(!ge(r))return r;i=Qt(i,r);for(var g=-1,m=i.length,b=m-1,S=r;S!=null&&++g<m;){var A=Ct(i[g]),L=c;if(A==="__proto__"||A==="constructor"||A==="prototype")return r;if(g!=b){var P=S[A];L=d?d(P,A,S):t,L===t&&(L=ge(P)?P:Ft(i[g+1])?[]:{})}Er(S,A,L),S=S[A]}return r}var of=Ii?function(r,i){return Ii.set(r,i),r}:We,g1=Ei?function(r,i){return Ei(r,"toString",{configurable:!0,enumerable:!1,value:us(i),writable:!0})}:We;function p1(r){return Ki(Vn(r))}function ut(r,i,c){var d=-1,g=r.length;i<0&&(i=-i>g?0:g+i),c=c>g?g:c,c<0&&(c+=g),g=i>c?0:c-i>>>0,i>>>=0;for(var m=C(g);++d<g;)m[d]=r[d+i];return m}function y1(r,i){var c;return Jt(r,function(d,g,m){return c=i(d,g,m),!c}),!!c}function Pi(r,i,c){var d=0,g=r==null?d:r.length;if(typeof i=="number"&&i===i&&g<=_p){for(;d<g;){var m=d+g>>>1,b=r[m];b!==null&&!Ye(b)&&(c?b<=i:b<i)?d=m+1:g=m}return g}return Ba(r,i,We,c)}function Ba(r,i,c,d){var g=0,m=r==null?0:r.length;if(m===0)return 0;i=c(i);for(var b=i!==i,S=i===null,A=Ye(i),L=i===t;g<m;){var P=Ai((g+m)/2),k=c(r[P]),F=k!==t,K=k===null,W=k===k,Q=Ye(k);if(b)var q=d||W;else L?q=W&&(d||F):S?q=W&&F&&(d||!K):A?q=W&&F&&!K&&(d||!Q):K||Q?q=!1:q=d?k<=i:k<i;q?g=P+1:m=P}return Le(m,mp)}function af(r,i){for(var c=-1,d=r.length,g=0,m=[];++c<d;){var b=r[c],S=i?i(b):b;if(!c||!mt(S,A)){var A=S;m[g++]=b===0?0:b}}return m}function sf(r){return typeof r=="number"?r:Ye(r)?ii:+r}function Ve(r){if(typeof r=="string")return r;if(J(r))return he(r,Ve)+"";if(Ye(r))return Fc?Fc.call(r):"";var i=r+"";return i=="0"&&1/r==-dn?"-0":i}function Xt(r,i,c){var d=-1,g=di,m=r.length,b=!0,S=[],A=S;if(c)b=!1,g=la;else if(m>=s){var L=i?null:C1(r);if(L)return vi(L);b=!1,g=yr,A=new pn}else A=i?[]:S;e:for(;++d<m;){var P=r[d],k=i?i(P):P;if(P=c||P!==0?P:0,b&&k===k){for(var F=A.length;F--;)if(A[F]===k)continue e;i&&A.push(k),S.push(P)}else g(A,k,c)||(A!==S&&A.push(k),S.push(P))}return S}function Na(r,i){return i=Qt(i,r),r=kf(r,i),r==null||delete r[Ct(ct(i))]}function uf(r,i,c,d){return Tr(r,i,c(mn(r,i)),d)}function Mi(r,i,c,d){for(var g=r.length,m=d?g:-1;(d?m--:++m<g)&&i(r[m],m,r););return c?ut(r,d?0:m,d?m+1:g):ut(r,d?m+1:0,d?g:m)}function cf(r,i){var c=r;return c instanceof re&&(c=c.value()),da(i,function(d,g){return g.func.apply(g.thisArg,Vt([d],g.args))},c)}function Fa(r,i,c){var d=r.length;if(d<2)return d?Xt(r[0]):[];for(var g=-1,m=C(d);++g<d;)for(var b=r[g],S=-1;++S<d;)S!=g&&(m[g]=xr(m[g]||b,r[S],i,c));return Xt(Re(m,1),i,c)}function ff(r,i,c){for(var d=-1,g=r.length,m=i.length,b={};++d<g;){var S=d<m?i[d]:t;c(b,r[d],S)}return b}function Ua(r){return _e(r)?r:[]}function za(r){return typeof r=="function"?r:We}function Qt(r,i){return J(r)?r:Ya(r,i)?[r]:Uf(ae(r))}var m1=ee;function en(r,i,c){var d=r.length;return c=c===t?d:c,!i&&c>=d?r:ut(r,i,c)}var lf=om||function(r){return Ce.clearTimeout(r)};function df(r,i){if(i)return r.slice();var c=r.length,d=Lc?Lc(c):new r.constructor(c);return r.copy(d),d}function $a(r){var i=new r.constructor(r.byteLength);return new bi(i).set(new bi(r)),i}function _1(r,i){var c=i?$a(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function b1(r){var i=new r.constructor(r.source,Vu.exec(r));return i.lastIndex=r.lastIndex,i}function w1(r){return Sr?ue(Sr.call(r)):{}}function hf(r,i){var c=i?$a(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function vf(r,i){if(r!==i){var c=r!==t,d=r===null,g=r===r,m=Ye(r),b=i!==t,S=i===null,A=i===i,L=Ye(i);if(!S&&!L&&!m&&r>i||m&&b&&A&&!S&&!L||d&&b&&A||!c&&A||!g)return 1;if(!d&&!m&&!L&&r<i||L&&c&&g&&!d&&!m||S&&c&&g||!b&&g||!A)return-1}return 0}function S1(r,i,c){for(var d=-1,g=r.criteria,m=i.criteria,b=g.length,S=c.length;++d<b;){var A=vf(g[d],m[d]);if(A){if(d>=S)return A;var L=c[d];return A*(L=="desc"?-1:1)}}return r.index-i.index}function gf(r,i,c,d){for(var g=-1,m=r.length,b=c.length,S=-1,A=i.length,L=Ae(m-b,0),P=C(A+L),k=!d;++S<A;)P[S]=i[S];for(;++g<b;)(k||g<m)&&(P[c[g]]=r[g]);for(;L--;)P[S++]=r[g++];return P}function pf(r,i,c,d){for(var g=-1,m=r.length,b=-1,S=c.length,A=-1,L=i.length,P=Ae(m-S,0),k=C(P+L),F=!d;++g<P;)k[g]=r[g];for(var K=g;++A<L;)k[K+A]=i[A];for(;++b<S;)(F||g<m)&&(k[K+c[b]]=r[g++]);return k}function Ke(r,i){var c=-1,d=r.length;for(i||(i=C(d));++c<d;)i[c]=r[c];return i}function Tt(r,i,c,d){var g=!c;c||(c={});for(var m=-1,b=i.length;++m<b;){var S=i[m],A=d?d(c[S],r[S],S,c,r):t;A===t&&(A=r[S]),g?kt(c,S,A):Er(c,S,A)}return c}function E1(r,i){return Tt(r,Va(r),i)}function x1(r,i){return Tt(r,Rf(r),i)}function ki(r,i){return function(c,d){var g=J(c)?Ry:qm,m=i?i():{};return g(c,r,H(d,2),m)}}function Hn(r){return ee(function(i,c){var d=-1,g=c.length,m=g>1?c[g-1]:t,b=g>2?c[2]:t;for(m=r.length>3&&typeof m=="function"?(g--,m):t,b&&Fe(c[0],c[1],b)&&(m=g<3?t:m,g=1),i=ue(i);++d<g;){var S=c[d];S&&r(i,S,d,m)}return i})}function yf(r,i){return function(c,d){if(c==null)return c;if(!Ge(c))return r(c,d);for(var g=c.length,m=i?g:-1,b=ue(c);(i?m--:++m<g)&&d(b[m],m,b)!==!1;);return c}}function mf(r){return function(i,c,d){for(var g=-1,m=ue(i),b=d(i),S=b.length;S--;){var A=b[r?S:++g];if(c(m[A],A,m)===!1)break}return i}}function A1(r,i,c){var d=i&R,g=Cr(r);function m(){var b=this&&this!==Ce&&this instanceof m?g:r;return b.apply(d?c:this,arguments)}return m}function _f(r){return function(i){i=ae(i);var c=Nn(i)?pt(i):t,d=c?c[0]:i.charAt(0),g=c?en(c,1).join(""):i.slice(1);return d[r]()+g}}function Wn(r){return function(i){return da(yl(pl(i).replace(gy,"")),r,"")}}function Cr(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var c=Gn(r.prototype),d=r.apply(c,i);return ge(d)?d:c}}function I1(r,i,c){var d=Cr(r);function g(){for(var m=arguments.length,b=C(m),S=m,A=qn(g);S--;)b[S]=arguments[S];var L=m<3&&b[0]!==A&&b[m-1]!==A?[]:Yt(b,A);if(m-=L.length,m<c)return xf(r,i,Bi,g.placeholder,t,b,L,t,t,c-m);var P=this&&this!==Ce&&this instanceof g?d:r;return qe(P,this,b)}return g}function bf(r){return function(i,c,d){var g=ue(i);if(!Ge(i)){var m=H(c,3);i=Te(i),c=function(S){return m(g[S],S,g)}}var b=r(i,c,d);return b>-1?g[m?i[b]:b]:t}}function wf(r){return Nt(function(i){var c=i.length,d=c,g=at.prototype.thru;for(r&&i.reverse();d--;){var m=i[d];if(typeof m!="function")throw new ot(f);if(g&&!b&&zi(m)=="wrapper")var b=new at([],!0)}for(d=b?d:c;++d<c;){m=i[d];var S=zi(m),A=S=="wrapper"?qa(m):t;A&&Za(A[0])&&A[1]==(le|N|Y|Se)&&!A[4].length&&A[9]==1?b=b[zi(A[0])].apply(b,A[3]):b=m.length==1&&Za(m)?b[S]():b.thru(m)}return function(){var L=arguments,P=L[0];if(b&&L.length==1&&J(P))return b.plant(P).value();for(var k=0,F=c?i[k].apply(this,L):P;++k<c;)F=i[k].call(this,F);return F}})}function Bi(r,i,c,d,g,m,b,S,A,L){var P=i&le,k=i&R,F=i&B,K=i&(N|G),W=i&xt,Q=F?t:Cr(r);function q(){for(var ne=arguments.length,ie=C(ne),Ze=ne;Ze--;)ie[Ze]=arguments[Ze];if(K)var Ue=qn(q),Je=Fy(ie,Ue);if(d&&(ie=gf(ie,d,g,K)),m&&(ie=pf(ie,m,b,K)),ne-=Je,K&&ne<L){var be=Yt(ie,Ue);return xf(r,i,Bi,q.placeholder,c,ie,be,S,A,L-ne)}var _t=k?c:this,$t=F?_t[r]:r;return ne=ie.length,S?ie=q1(ie,S):W&&ne>1&&ie.reverse(),P&&A<ne&&(ie.length=A),this&&this!==Ce&&this instanceof q&&($t=Q||Cr($t)),$t.apply(_t,ie)}return q}function Sf(r,i){return function(c,d){return e1(c,r,i(d),{})}}function Ni(r,i){return function(c,d){var g;if(c===t&&d===t)return i;if(c!==t&&(g=c),d!==t){if(g===t)return d;typeof c=="string"||typeof d=="string"?(c=Ve(c),d=Ve(d)):(c=sf(c),d=sf(d)),g=r(c,d)}return g}}function Ka(r){return Nt(function(i){return i=he(i,je(H())),ee(function(c){var d=this;return r(i,function(g){return qe(g,d,c)})})})}function Fi(r,i){i=i===t?" ":Ve(i);var c=i.length;if(c<2)return c?ka(i,r):i;var d=ka(i,xi(r/Fn(i)));return Nn(i)?en(pt(d),0,r).join(""):d.slice(0,r)}function T1(r,i,c,d){var g=i&R,m=Cr(r);function b(){for(var S=-1,A=arguments.length,L=-1,P=d.length,k=C(P+A),F=this&&this!==Ce&&this instanceof b?m:r;++L<P;)k[L]=d[L];for(;A--;)k[L++]=arguments[++S];return qe(F,g?c:this,k)}return b}function Ef(r){return function(i,c,d){return d&&typeof d!="number"&&Fe(i,c,d)&&(c=d=t),i=zt(i),c===t?(c=i,i=0):c=zt(c),d=d===t?i<c?1:-1:zt(d),d1(i,c,d,r)}}function Ui(r){return function(i,c){return typeof i=="string"&&typeof c=="string"||(i=ft(i),c=ft(c)),r(i,c)}}function xf(r,i,c,d,g,m,b,S,A,L){var P=i&N,k=P?b:t,F=P?t:b,K=P?m:t,W=P?t:m;i|=P?Y:ve,i&=~(P?ve:Y),i&z||(i&=~(R|B));var Q=[r,i,g,K,k,W,F,S,A,L],q=c.apply(t,Q);return Za(r)&&Bf(q,Q),q.placeholder=d,Nf(q,r,i)}function Ga(r){var i=xe[r];return function(c,d){if(c=ft(c),d=d==null?0:Le(X(d),292),d&&Bc(c)){var g=(ae(c)+"e").split("e"),m=i(g[0]+"e"+(+g[1]+d));return g=(ae(m)+"e").split("e"),+(g[0]+"e"+(+g[1]-d))}return i(c)}}var C1=$n&&1/vi(new $n([,-0]))[1]==dn?function(r){return new $n(r)}:ls;function Af(r){return function(i){var c=Pe(i);return c==vt?_a(i):c==gt?Wy(i):Ny(i,r(i))}}function Bt(r,i,c,d,g,m,b,S){var A=i&B;if(!A&&typeof r!="function")throw new ot(f);var L=d?d.length:0;if(L||(i&=~(Y|ve),d=g=t),b=b===t?b:Ae(X(b),0),S=S===t?S:X(S),L-=g?g.length:0,i&ve){var P=d,k=g;d=g=t}var F=A?t:qa(r),K=[r,i,c,d,g,P,k,m,b,S];if(F&&G1(K,F),r=K[0],i=K[1],c=K[2],d=K[3],g=K[4],S=K[9]=K[9]===t?A?0:r.length:Ae(K[9]-L,0),!S&&i&(N|G)&&(i&=~(N|G)),!i||i==R)var W=A1(r,i,c);else i==N||i==G?W=I1(r,i,S):(i==Y||i==(R|Y))&&!g.length?W=T1(r,i,c,d):W=Bi.apply(t,K);var Q=F?of:Bf;return Nf(Q(W,K),r,i)}function If(r,i,c,d){return r===t||mt(r,zn[c])&&!se.call(d,c)?i:r}function Tf(r,i,c,d,g,m){return ge(r)&&ge(i)&&(m.set(i,r),Li(r,i,t,Tf,m),m.delete(i)),r}function R1(r){return Or(r)?t:r}function Cf(r,i,c,d,g,m){var b=c&E,S=r.length,A=i.length;if(S!=A&&!(b&&A>S))return!1;var L=m.get(r),P=m.get(i);if(L&&P)return L==i&&P==r;var k=-1,F=!0,K=c&I?new pn:t;for(m.set(r,i),m.set(i,r);++k<S;){var W=r[k],Q=i[k];if(d)var q=b?d(Q,W,k,i,r,m):d(W,Q,k,r,i,m);if(q!==t){if(q)continue;F=!1;break}if(K){if(!ha(i,function(ne,ie){if(!yr(K,ie)&&(W===ne||g(W,ne,c,d,m)))return K.push(ie)})){F=!1;break}}else if(!(W===Q||g(W,Q,c,d,m))){F=!1;break}}return m.delete(r),m.delete(i),F}function D1(r,i,c,d,g,m,b){switch(c){case Mn:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case pr:return!(r.byteLength!=i.byteLength||!m(new bi(r),new bi(i)));case fr:case lr:case dr:return mt(+r,+i);case ai:return r.name==i.name&&r.message==i.message;case hr:case vr:return r==i+"";case vt:var S=_a;case gt:var A=d&E;if(S||(S=vi),r.size!=i.size&&!A)return!1;var L=b.get(r);if(L)return L==i;d|=I,b.set(r,i);var P=Cf(S(r),S(i),d,g,m,b);return b.delete(r),P;case ui:if(Sr)return Sr.call(r)==Sr.call(i)}return!1}function O1(r,i,c,d,g,m){var b=c&E,S=Ha(r),A=S.length,L=Ha(i),P=L.length;if(A!=P&&!b)return!1;for(var k=A;k--;){var F=S[k];if(!(b?F in i:se.call(i,F)))return!1}var K=m.get(r),W=m.get(i);if(K&&W)return K==i&&W==r;var Q=!0;m.set(r,i),m.set(i,r);for(var q=b;++k<A;){F=S[k];var ne=r[F],ie=i[F];if(d)var Ze=b?d(ie,ne,F,i,r,m):d(ne,ie,F,r,i,m);if(!(Ze===t?ne===ie||g(ne,ie,c,d,m):Ze)){Q=!1;break}q||(q=F=="constructor")}if(Q&&!q){var Ue=r.constructor,Je=i.constructor;Ue!=Je&&"constructor"in r&&"constructor"in i&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof Je=="function"&&Je instanceof Je)&&(Q=!1)}return m.delete(r),m.delete(i),Q}function Nt(r){return Xa(Mf(r,t,Gf),r+"")}function Ha(r){return jc(r,Te,Va)}function Wa(r){return jc(r,He,Rf)}var qa=Ii?function(r){return Ii.get(r)}:ls;function zi(r){for(var i=r.name+"",c=Kn[i],d=se.call(Kn,i)?c.length:0;d--;){var g=c[d],m=g.func;if(m==null||m==r)return g.name}return i}function qn(r){var i=se.call(y,"placeholder")?y:r;return i.placeholder}function H(){var r=y.iteratee||cs;return r=r===cs?Zc:r,arguments.length?r(arguments[0],arguments[1]):r}function $i(r,i){var c=r.__data__;return U1(i)?c[typeof i=="string"?"string":"hash"]:c.map}function ja(r){for(var i=Te(r),c=i.length;c--;){var d=i[c],g=r[d];i[c]=[d,g,Lf(g)]}return i}function _n(r,i){var c=Ky(r,i);return Yc(c)?c:t}function L1(r){var i=se.call(r,vn),c=r[vn];try{r[vn]=t;var d=!0}catch{}var g=mi.call(r);return d&&(i?r[vn]=c:delete r[vn]),g}var Va=wa?function(r){return r==null?[]:(r=ue(r),jt(wa(r),function(i){return Mc.call(r,i)}))}:ds,Rf=wa?function(r){for(var i=[];r;)Vt(i,Va(r)),r=wi(r);return i}:ds,Pe=Ne;(Sa&&Pe(new Sa(new ArrayBuffer(1)))!=Mn||_r&&Pe(new _r)!=vt||Ea&&Pe(Ea.resolve())!=Hu||$n&&Pe(new $n)!=gt||br&&Pe(new br)!=gr)&&(Pe=function(r){var i=Ne(r),c=i==Lt?r.constructor:t,d=c?bn(c):"";if(d)switch(d){case vm:return Mn;case gm:return vt;case pm:return Hu;case ym:return gt;case mm:return gr}return i});function P1(r,i,c){for(var d=-1,g=c.length;++d<g;){var m=c[d],b=m.size;switch(m.type){case"drop":r+=b;break;case"dropRight":i-=b;break;case"take":i=Le(i,r+b);break;case"takeRight":r=Ae(r,i-b);break}}return{start:r,end:i}}function M1(r){var i=r.match(zp);return i?i[1].split($p):[]}function Df(r,i,c){i=Qt(i,r);for(var d=-1,g=i.length,m=!1;++d<g;){var b=Ct(i[d]);if(!(m=r!=null&&c(r,b)))break;r=r[b]}return m||++d!=g?m:(g=r==null?0:r.length,!!g&&Vi(g)&&Ft(b,g)&&(J(r)||wn(r)))}function k1(r){var i=r.length,c=new r.constructor(i);return i&&typeof r[0]=="string"&&se.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Of(r){return typeof r.constructor=="function"&&!Rr(r)?Gn(wi(r)):{}}function B1(r,i,c){var d=r.constructor;switch(i){case pr:return $a(r);case fr:case lr:return new d(+r);case Mn:return _1(r,c);case jo:case Vo:case Yo:case Zo:case Jo:case Xo:case Qo:case ea:case ta:return hf(r,c);case vt:return new d;case dr:case vr:return new d(r);case hr:return b1(r);case gt:return new d;case ui:return w1(r)}}function N1(r,i){var c=i.length;if(!c)return r;var d=c-1;return i[d]=(c>1?"& ":"")+i[d],i=i.join(c>2?", ":" "),r.replace(Up,`{
/* [wrapped with `+i+`] */
`)}function F1(r){return J(r)||wn(r)||!!(kc&&r&&r[kc])}function Ft(r,i){var c=typeof r;return i=i??qt,!!i&&(c=="number"||c!="symbol"&&Zp.test(r))&&r>-1&&r%1==0&&r<i}function Fe(r,i,c){if(!ge(c))return!1;var d=typeof i;return(d=="number"?Ge(c)&&Ft(i,c.length):d=="string"&&i in c)?mt(c[i],r):!1}function Ya(r,i){if(J(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||Ye(r)?!0:kp.test(r)||!Mp.test(r)||i!=null&&r in ue(i)}function U1(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function Za(r){var i=zi(r),c=y[i];if(typeof c!="function"||!(i in re.prototype))return!1;if(r===c)return!0;var d=qa(c);return!!d&&r===d[0]}function z1(r){return!!Oc&&Oc in r}var $1=pi?Ut:hs;function Rr(r){var i=r&&r.constructor,c=typeof i=="function"&&i.prototype||zn;return r===c}function Lf(r){return r===r&&!ge(r)}function Pf(r,i){return function(c){return c==null?!1:c[r]===i&&(i!==t||r in ue(c))}}function K1(r){var i=qi(r,function(d){return c.size===u&&c.clear(),d}),c=i.cache;return i}function G1(r,i){var c=r[1],d=i[1],g=c|d,m=g<(R|B|le),b=d==le&&c==N||d==le&&c==Se&&r[7].length<=i[8]||d==(le|Se)&&i[7].length<=i[8]&&c==N;if(!(m||b))return r;d&R&&(r[2]=i[2],g|=c&R?0:z);var S=i[3];if(S){var A=r[3];r[3]=A?gf(A,S,i[4]):S,r[4]=A?Yt(r[3],h):i[4]}return S=i[5],S&&(A=r[5],r[5]=A?pf(A,S,i[6]):S,r[6]=A?Yt(r[5],h):i[6]),S=i[7],S&&(r[7]=S),d&le&&(r[8]=r[8]==null?i[8]:Le(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=g,r}function H1(r){var i=[];if(r!=null)for(var c in ue(r))i.push(c);return i}function W1(r){return mi.call(r)}function Mf(r,i,c){return i=Ae(i===t?r.length-1:i,0),function(){for(var d=arguments,g=-1,m=Ae(d.length-i,0),b=C(m);++g<m;)b[g]=d[i+g];g=-1;for(var S=C(i+1);++g<i;)S[g]=d[g];return S[i]=c(b),qe(r,this,S)}}function kf(r,i){return i.length<2?r:mn(r,ut(i,0,-1))}function q1(r,i){for(var c=r.length,d=Le(i.length,c),g=Ke(r);d--;){var m=i[d];r[d]=Ft(m,c)?g[m]:t}return r}function Ja(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var Bf=Ff(of),Dr=sm||function(r,i){return Ce.setTimeout(r,i)},Xa=Ff(g1);function Nf(r,i,c){var d=i+"";return Xa(r,N1(d,j1(M1(d),c)))}function Ff(r){var i=0,c=0;return function(){var d=lm(),g=vp-(d-c);if(c=d,g>0){if(++i>=hp)return arguments[0]}else i=0;return r.apply(t,arguments)}}function Ki(r,i){var c=-1,d=r.length,g=d-1;for(i=i===t?d:i;++c<i;){var m=Ma(c,g),b=r[m];r[m]=r[c],r[c]=b}return r.length=i,r}var Uf=K1(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(Bp,function(c,d,g,m){i.push(g?m.replace(Hp,"$1"):d||c)}),i});function Ct(r){if(typeof r=="string"||Ye(r))return r;var i=r+"";return i=="0"&&1/r==-dn?"-0":i}function bn(r){if(r!=null){try{return yi.call(r)}catch{}try{return r+""}catch{}}return""}function j1(r,i){return it(bp,function(c){var d="_."+c[0];i&c[1]&&!di(r,d)&&r.push(d)}),r.sort()}function zf(r){if(r instanceof re)return r.clone();var i=new at(r.__wrapped__,r.__chain__);return i.__actions__=Ke(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function V1(r,i,c){(c?Fe(r,i,c):i===t)?i=1:i=Ae(X(i),0);var d=r==null?0:r.length;if(!d||i<1)return[];for(var g=0,m=0,b=C(xi(d/i));g<d;)b[m++]=ut(r,g,g+=i);return b}function Y1(r){for(var i=-1,c=r==null?0:r.length,d=0,g=[];++i<c;){var m=r[i];m&&(g[d++]=m)}return g}function Z1(){var r=arguments.length;if(!r)return[];for(var i=C(r-1),c=arguments[0],d=r;d--;)i[d-1]=arguments[d];return Vt(J(c)?Ke(c):[c],Re(i,1))}var J1=ee(function(r,i){return _e(r)?xr(r,Re(i,1,_e,!0)):[]}),X1=ee(function(r,i){var c=ct(i);return _e(c)&&(c=t),_e(r)?xr(r,Re(i,1,_e,!0),H(c,2)):[]}),Q1=ee(function(r,i){var c=ct(i);return _e(c)&&(c=t),_e(r)?xr(r,Re(i,1,_e,!0),t,c):[]});function e_(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===t?1:X(i),ut(r,i<0?0:i,d)):[]}function t_(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===t?1:X(i),i=d-i,ut(r,0,i<0?0:i)):[]}function n_(r,i){return r&&r.length?Mi(r,H(i,3),!0,!0):[]}function r_(r,i){return r&&r.length?Mi(r,H(i,3),!0):[]}function i_(r,i,c,d){var g=r==null?0:r.length;return g?(c&&typeof c!="number"&&Fe(r,i,c)&&(c=0,d=g),Zm(r,i,c,d)):[]}function $f(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=c==null?0:X(c);return g<0&&(g=Ae(d+g,0)),hi(r,H(i,3),g)}function Kf(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=d-1;return c!==t&&(g=X(c),g=c<0?Ae(d+g,0):Le(g,d-1)),hi(r,H(i,3),g,!0)}function Gf(r){var i=r==null?0:r.length;return i?Re(r,1):[]}function o_(r){var i=r==null?0:r.length;return i?Re(r,dn):[]}function a_(r,i){var c=r==null?0:r.length;return c?(i=i===t?1:X(i),Re(r,i)):[]}function s_(r){for(var i=-1,c=r==null?0:r.length,d={};++i<c;){var g=r[i];d[g[0]]=g[1]}return d}function Hf(r){return r&&r.length?r[0]:t}function u_(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=c==null?0:X(c);return g<0&&(g=Ae(d+g,0)),Bn(r,i,g)}function c_(r){var i=r==null?0:r.length;return i?ut(r,0,-1):[]}var f_=ee(function(r){var i=he(r,Ua);return i.length&&i[0]===r[0]?Ra(i):[]}),l_=ee(function(r){var i=ct(r),c=he(r,Ua);return i===ct(c)?i=t:c.pop(),c.length&&c[0]===r[0]?Ra(c,H(i,2)):[]}),d_=ee(function(r){var i=ct(r),c=he(r,Ua);return i=typeof i=="function"?i:t,i&&c.pop(),c.length&&c[0]===r[0]?Ra(c,t,i):[]});function h_(r,i){return r==null?"":cm.call(r,i)}function ct(r){var i=r==null?0:r.length;return i?r[i-1]:t}function v_(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=d;return c!==t&&(g=X(c),g=g<0?Ae(d+g,0):Le(g,d-1)),i===i?jy(r,i,g):hi(r,Ec,g,!0)}function g_(r,i){return r&&r.length?ef(r,X(i)):t}var p_=ee(Wf);function Wf(r,i){return r&&r.length&&i&&i.length?Pa(r,i):r}function y_(r,i,c){return r&&r.length&&i&&i.length?Pa(r,i,H(c,2)):r}function m_(r,i,c){return r&&r.length&&i&&i.length?Pa(r,i,t,c):r}var __=Nt(function(r,i){var c=r==null?0:r.length,d=Aa(r,i);return rf(r,he(i,function(g){return Ft(g,c)?+g:g}).sort(vf)),d});function b_(r,i){var c=[];if(!(r&&r.length))return c;var d=-1,g=[],m=r.length;for(i=H(i,3);++d<m;){var b=r[d];i(b,d,r)&&(c.push(b),g.push(d))}return rf(r,g),c}function Qa(r){return r==null?r:hm.call(r)}function w_(r,i,c){var d=r==null?0:r.length;return d?(c&&typeof c!="number"&&Fe(r,i,c)?(i=0,c=d):(i=i==null?0:X(i),c=c===t?d:X(c)),ut(r,i,c)):[]}function S_(r,i){return Pi(r,i)}function E_(r,i,c){return Ba(r,i,H(c,2))}function x_(r,i){var c=r==null?0:r.length;if(c){var d=Pi(r,i);if(d<c&&mt(r[d],i))return d}return-1}function A_(r,i){return Pi(r,i,!0)}function I_(r,i,c){return Ba(r,i,H(c,2),!0)}function T_(r,i){var c=r==null?0:r.length;if(c){var d=Pi(r,i,!0)-1;if(mt(r[d],i))return d}return-1}function C_(r){return r&&r.length?af(r):[]}function R_(r,i){return r&&r.length?af(r,H(i,2)):[]}function D_(r){var i=r==null?0:r.length;return i?ut(r,1,i):[]}function O_(r,i,c){return r&&r.length?(i=c||i===t?1:X(i),ut(r,0,i<0?0:i)):[]}function L_(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===t?1:X(i),i=d-i,ut(r,i<0?0:i,d)):[]}function P_(r,i){return r&&r.length?Mi(r,H(i,3),!1,!0):[]}function M_(r,i){return r&&r.length?Mi(r,H(i,3)):[]}var k_=ee(function(r){return Xt(Re(r,1,_e,!0))}),B_=ee(function(r){var i=ct(r);return _e(i)&&(i=t),Xt(Re(r,1,_e,!0),H(i,2))}),N_=ee(function(r){var i=ct(r);return i=typeof i=="function"?i:t,Xt(Re(r,1,_e,!0),t,i)});function F_(r){return r&&r.length?Xt(r):[]}function U_(r,i){return r&&r.length?Xt(r,H(i,2)):[]}function z_(r,i){return i=typeof i=="function"?i:t,r&&r.length?Xt(r,t,i):[]}function es(r){if(!(r&&r.length))return[];var i=0;return r=jt(r,function(c){if(_e(c))return i=Ae(c.length,i),!0}),ya(i,function(c){return he(r,va(c))})}function qf(r,i){if(!(r&&r.length))return[];var c=es(r);return i==null?c:he(c,function(d){return qe(i,t,d)})}var $_=ee(function(r,i){return _e(r)?xr(r,i):[]}),K_=ee(function(r){return Fa(jt(r,_e))}),G_=ee(function(r){var i=ct(r);return _e(i)&&(i=t),Fa(jt(r,_e),H(i,2))}),H_=ee(function(r){var i=ct(r);return i=typeof i=="function"?i:t,Fa(jt(r,_e),t,i)}),W_=ee(es);function q_(r,i){return ff(r||[],i||[],Er)}function j_(r,i){return ff(r||[],i||[],Tr)}var V_=ee(function(r){var i=r.length,c=i>1?r[i-1]:t;return c=typeof c=="function"?(r.pop(),c):t,qf(r,c)});function jf(r){var i=y(r);return i.__chain__=!0,i}function Y_(r,i){return i(r),r}function Gi(r,i){return i(r)}var Z_=Nt(function(r){var i=r.length,c=i?r[0]:0,d=this.__wrapped__,g=function(m){return Aa(m,r)};return i>1||this.__actions__.length||!(d instanceof re)||!Ft(c)?this.thru(g):(d=d.slice(c,+c+(i?1:0)),d.__actions__.push({func:Gi,args:[g],thisArg:t}),new at(d,this.__chain__).thru(function(m){return i&&!m.length&&m.push(t),m}))});function J_(){return jf(this)}function X_(){return new at(this.value(),this.__chain__)}function Q_(){this.__values__===t&&(this.__values__=sl(this.value()));var r=this.__index__>=this.__values__.length,i=r?t:this.__values__[this.__index__++];return{done:r,value:i}}function eb(){return this}function tb(r){for(var i,c=this;c instanceof Ci;){var d=zf(c);d.__index__=0,d.__values__=t,i?g.__wrapped__=d:i=d;var g=d;c=c.__wrapped__}return g.__wrapped__=r,i}function nb(){var r=this.__wrapped__;if(r instanceof re){var i=r;return this.__actions__.length&&(i=new re(this)),i=i.reverse(),i.__actions__.push({func:Gi,args:[Qa],thisArg:t}),new at(i,this.__chain__)}return this.thru(Qa)}function rb(){return cf(this.__wrapped__,this.__actions__)}var ib=ki(function(r,i,c){se.call(r,c)?++r[c]:kt(r,c,1)});function ob(r,i,c){var d=J(r)?wc:Ym;return c&&Fe(r,i,c)&&(i=t),d(r,H(i,3))}function ab(r,i){var c=J(r)?jt:Wc;return c(r,H(i,3))}var sb=bf($f),ub=bf(Kf);function cb(r,i){return Re(Hi(r,i),1)}function fb(r,i){return Re(Hi(r,i),dn)}function lb(r,i,c){return c=c===t?1:X(c),Re(Hi(r,i),c)}function Vf(r,i){var c=J(r)?it:Jt;return c(r,H(i,3))}function Yf(r,i){var c=J(r)?Dy:Hc;return c(r,H(i,3))}var db=ki(function(r,i,c){se.call(r,c)?r[c].push(i):kt(r,c,[i])});function hb(r,i,c,d){r=Ge(r)?r:Vn(r),c=c&&!d?X(c):0;var g=r.length;return c<0&&(c=Ae(g+c,0)),Yi(r)?c<=g&&r.indexOf(i,c)>-1:!!g&&Bn(r,i,c)>-1}var vb=ee(function(r,i,c){var d=-1,g=typeof i=="function",m=Ge(r)?C(r.length):[];return Jt(r,function(b){m[++d]=g?qe(i,b,c):Ar(b,i,c)}),m}),gb=ki(function(r,i,c){kt(r,c,i)});function Hi(r,i){var c=J(r)?he:Jc;return c(r,H(i,3))}function pb(r,i,c,d){return r==null?[]:(J(i)||(i=i==null?[]:[i]),c=d?t:c,J(c)||(c=c==null?[]:[c]),tf(r,i,c))}var yb=ki(function(r,i,c){r[c?0:1].push(i)},function(){return[[],[]]});function mb(r,i,c){var d=J(r)?da:Ac,g=arguments.length<3;return d(r,H(i,4),c,g,Jt)}function _b(r,i,c){var d=J(r)?Oy:Ac,g=arguments.length<3;return d(r,H(i,4),c,g,Hc)}function bb(r,i){var c=J(r)?jt:Wc;return c(r,ji(H(i,3)))}function wb(r){var i=J(r)?zc:h1;return i(r)}function Sb(r,i,c){(c?Fe(r,i,c):i===t)?i=1:i=X(i);var d=J(r)?Hm:v1;return d(r,i)}function Eb(r){var i=J(r)?Wm:p1;return i(r)}function xb(r){if(r==null)return 0;if(Ge(r))return Yi(r)?Fn(r):r.length;var i=Pe(r);return i==vt||i==gt?r.size:Oa(r).length}function Ab(r,i,c){var d=J(r)?ha:y1;return c&&Fe(r,i,c)&&(i=t),d(r,H(i,3))}var Ib=ee(function(r,i){if(r==null)return[];var c=i.length;return c>1&&Fe(r,i[0],i[1])?i=[]:c>2&&Fe(i[0],i[1],i[2])&&(i=[i[0]]),tf(r,Re(i,1),[])}),Wi=am||function(){return Ce.Date.now()};function Tb(r,i){if(typeof i!="function")throw new ot(f);return r=X(r),function(){if(--r<1)return i.apply(this,arguments)}}function Zf(r,i,c){return i=c?t:i,i=r&&i==null?r.length:i,Bt(r,le,t,t,t,t,i)}function Jf(r,i){var c;if(typeof i!="function")throw new ot(f);return r=X(r),function(){return--r>0&&(c=i.apply(this,arguments)),r<=1&&(i=t),c}}var ts=ee(function(r,i,c){var d=R;if(c.length){var g=Yt(c,qn(ts));d|=Y}return Bt(r,d,i,c,g)}),Xf=ee(function(r,i,c){var d=R|B;if(c.length){var g=Yt(c,qn(Xf));d|=Y}return Bt(i,d,r,c,g)});function Qf(r,i,c){i=c?t:i;var d=Bt(r,N,t,t,t,t,t,i);return d.placeholder=Qf.placeholder,d}function el(r,i,c){i=c?t:i;var d=Bt(r,G,t,t,t,t,t,i);return d.placeholder=el.placeholder,d}function tl(r,i,c){var d,g,m,b,S,A,L=0,P=!1,k=!1,F=!0;if(typeof r!="function")throw new ot(f);i=ft(i)||0,ge(c)&&(P=!!c.leading,k="maxWait"in c,m=k?Ae(ft(c.maxWait)||0,i):m,F="trailing"in c?!!c.trailing:F);function K(be){var _t=d,$t=g;return d=g=t,L=be,b=r.apply($t,_t),b}function W(be){return L=be,S=Dr(ne,i),P?K(be):b}function Q(be){var _t=be-A,$t=be-L,bl=i-_t;return k?Le(bl,m-$t):bl}function q(be){var _t=be-A,$t=be-L;return A===t||_t>=i||_t<0||k&&$t>=m}function ne(){var be=Wi();if(q(be))return ie(be);S=Dr(ne,Q(be))}function ie(be){return S=t,F&&d?K(be):(d=g=t,b)}function Ze(){S!==t&&lf(S),L=0,d=A=g=S=t}function Ue(){return S===t?b:ie(Wi())}function Je(){var be=Wi(),_t=q(be);if(d=arguments,g=this,A=be,_t){if(S===t)return W(A);if(k)return lf(S),S=Dr(ne,i),K(A)}return S===t&&(S=Dr(ne,i)),b}return Je.cancel=Ze,Je.flush=Ue,Je}var Cb=ee(function(r,i){return Gc(r,1,i)}),Rb=ee(function(r,i,c){return Gc(r,ft(i)||0,c)});function Db(r){return Bt(r,xt)}function qi(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new ot(f);var c=function(){var d=arguments,g=i?i.apply(this,d):d[0],m=c.cache;if(m.has(g))return m.get(g);var b=r.apply(this,d);return c.cache=m.set(g,b)||m,b};return c.cache=new(qi.Cache||Mt),c}qi.Cache=Mt;function ji(r){if(typeof r!="function")throw new ot(f);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function Ob(r){return Jf(2,r)}var Lb=m1(function(r,i){i=i.length==1&&J(i[0])?he(i[0],je(H())):he(Re(i,1),je(H()));var c=i.length;return ee(function(d){for(var g=-1,m=Le(d.length,c);++g<m;)d[g]=i[g].call(this,d[g]);return qe(r,this,d)})}),ns=ee(function(r,i){var c=Yt(i,qn(ns));return Bt(r,Y,t,i,c)}),nl=ee(function(r,i){var c=Yt(i,qn(nl));return Bt(r,ve,t,i,c)}),Pb=Nt(function(r,i){return Bt(r,Se,t,t,t,i)});function Mb(r,i){if(typeof r!="function")throw new ot(f);return i=i===t?i:X(i),ee(r,i)}function kb(r,i){if(typeof r!="function")throw new ot(f);return i=i==null?0:Ae(X(i),0),ee(function(c){var d=c[i],g=en(c,0,i);return d&&Vt(g,d),qe(r,this,g)})}function Bb(r,i,c){var d=!0,g=!0;if(typeof r!="function")throw new ot(f);return ge(c)&&(d="leading"in c?!!c.leading:d,g="trailing"in c?!!c.trailing:g),tl(r,i,{leading:d,maxWait:i,trailing:g})}function Nb(r){return Zf(r,1)}function Fb(r,i){return ns(za(i),r)}function Ub(){if(!arguments.length)return[];var r=arguments[0];return J(r)?r:[r]}function zb(r){return st(r,w)}function $b(r,i){return i=typeof i=="function"?i:t,st(r,w,i)}function Kb(r){return st(r,p|w)}function Gb(r,i){return i=typeof i=="function"?i:t,st(r,p|w,i)}function Hb(r,i){return i==null||Kc(r,i,Te(i))}function mt(r,i){return r===i||r!==r&&i!==i}var Wb=Ui(Ca),qb=Ui(function(r,i){return r>=i}),wn=Vc(function(){return arguments}())?Vc:function(r){return ye(r)&&se.call(r,"callee")&&!Mc.call(r,"callee")},J=C.isArray,jb=gc?je(gc):t1;function Ge(r){return r!=null&&Vi(r.length)&&!Ut(r)}function _e(r){return ye(r)&&Ge(r)}function Vb(r){return r===!0||r===!1||ye(r)&&Ne(r)==fr}var tn=um||hs,Yb=pc?je(pc):n1;function Zb(r){return ye(r)&&r.nodeType===1&&!Or(r)}function Jb(r){if(r==null)return!0;if(Ge(r)&&(J(r)||typeof r=="string"||typeof r.splice=="function"||tn(r)||jn(r)||wn(r)))return!r.length;var i=Pe(r);if(i==vt||i==gt)return!r.size;if(Rr(r))return!Oa(r).length;for(var c in r)if(se.call(r,c))return!1;return!0}function Xb(r,i){return Ir(r,i)}function Qb(r,i,c){c=typeof c=="function"?c:t;var d=c?c(r,i):t;return d===t?Ir(r,i,t,c):!!d}function rs(r){if(!ye(r))return!1;var i=Ne(r);return i==ai||i==Sp||typeof r.message=="string"&&typeof r.name=="string"&&!Or(r)}function ew(r){return typeof r=="number"&&Bc(r)}function Ut(r){if(!ge(r))return!1;var i=Ne(r);return i==si||i==Gu||i==wp||i==xp}function rl(r){return typeof r=="number"&&r==X(r)}function Vi(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=qt}function ge(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function ye(r){return r!=null&&typeof r=="object"}var il=yc?je(yc):i1;function tw(r,i){return r===i||Da(r,i,ja(i))}function nw(r,i,c){return c=typeof c=="function"?c:t,Da(r,i,ja(i),c)}function rw(r){return ol(r)&&r!=+r}function iw(r){if($1(r))throw new Z(o);return Yc(r)}function ow(r){return r===null}function aw(r){return r==null}function ol(r){return typeof r=="number"||ye(r)&&Ne(r)==dr}function Or(r){if(!ye(r)||Ne(r)!=Lt)return!1;var i=wi(r);if(i===null)return!0;var c=se.call(i,"constructor")&&i.constructor;return typeof c=="function"&&c instanceof c&&yi.call(c)==nm}var is=mc?je(mc):o1;function sw(r){return rl(r)&&r>=-qt&&r<=qt}var al=_c?je(_c):a1;function Yi(r){return typeof r=="string"||!J(r)&&ye(r)&&Ne(r)==vr}function Ye(r){return typeof r=="symbol"||ye(r)&&Ne(r)==ui}var jn=bc?je(bc):s1;function uw(r){return r===t}function cw(r){return ye(r)&&Pe(r)==gr}function fw(r){return ye(r)&&Ne(r)==Ip}var lw=Ui(La),dw=Ui(function(r,i){return r<=i});function sl(r){if(!r)return[];if(Ge(r))return Yi(r)?pt(r):Ke(r);if(mr&&r[mr])return Hy(r[mr]());var i=Pe(r),c=i==vt?_a:i==gt?vi:Vn;return c(r)}function zt(r){if(!r)return r===0?r:0;if(r=ft(r),r===dn||r===-dn){var i=r<0?-1:1;return i*yp}return r===r?r:0}function X(r){var i=zt(r),c=i%1;return i===i?c?i-c:i:0}function ul(r){return r?yn(X(r),0,At):0}function ft(r){if(typeof r=="number")return r;if(Ye(r))return ii;if(ge(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=ge(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=Ic(r);var c=jp.test(r);return c||Yp.test(r)?Ty(r.slice(2),c?2:8):qp.test(r)?ii:+r}function cl(r){return Tt(r,He(r))}function hw(r){return r?yn(X(r),-qt,qt):r===0?r:0}function ae(r){return r==null?"":Ve(r)}var vw=Hn(function(r,i){if(Rr(i)||Ge(i)){Tt(i,Te(i),r);return}for(var c in i)se.call(i,c)&&Er(r,c,i[c])}),fl=Hn(function(r,i){Tt(i,He(i),r)}),Zi=Hn(function(r,i,c,d){Tt(i,He(i),r,d)}),gw=Hn(function(r,i,c,d){Tt(i,Te(i),r,d)}),pw=Nt(Aa);function yw(r,i){var c=Gn(r);return i==null?c:$c(c,i)}var mw=ee(function(r,i){r=ue(r);var c=-1,d=i.length,g=d>2?i[2]:t;for(g&&Fe(i[0],i[1],g)&&(d=1);++c<d;)for(var m=i[c],b=He(m),S=-1,A=b.length;++S<A;){var L=b[S],P=r[L];(P===t||mt(P,zn[L])&&!se.call(r,L))&&(r[L]=m[L])}return r}),_w=ee(function(r){return r.push(t,Tf),qe(ll,t,r)});function bw(r,i){return Sc(r,H(i,3),It)}function ww(r,i){return Sc(r,H(i,3),Ta)}function Sw(r,i){return r==null?r:Ia(r,H(i,3),He)}function Ew(r,i){return r==null?r:qc(r,H(i,3),He)}function xw(r,i){return r&&It(r,H(i,3))}function Aw(r,i){return r&&Ta(r,H(i,3))}function Iw(r){return r==null?[]:Oi(r,Te(r))}function Tw(r){return r==null?[]:Oi(r,He(r))}function os(r,i,c){var d=r==null?t:mn(r,i);return d===t?c:d}function Cw(r,i){return r!=null&&Df(r,i,Jm)}function as(r,i){return r!=null&&Df(r,i,Xm)}var Rw=Sf(function(r,i,c){i!=null&&typeof i.toString!="function"&&(i=mi.call(i)),r[i]=c},us(We)),Dw=Sf(function(r,i,c){i!=null&&typeof i.toString!="function"&&(i=mi.call(i)),se.call(r,i)?r[i].push(c):r[i]=[c]},H),Ow=ee(Ar);function Te(r){return Ge(r)?Uc(r):Oa(r)}function He(r){return Ge(r)?Uc(r,!0):u1(r)}function Lw(r,i){var c={};return i=H(i,3),It(r,function(d,g,m){kt(c,i(d,g,m),d)}),c}function Pw(r,i){var c={};return i=H(i,3),It(r,function(d,g,m){kt(c,g,i(d,g,m))}),c}var Mw=Hn(function(r,i,c){Li(r,i,c)}),ll=Hn(function(r,i,c,d){Li(r,i,c,d)}),kw=Nt(function(r,i){var c={};if(r==null)return c;var d=!1;i=he(i,function(m){return m=Qt(m,r),d||(d=m.length>1),m}),Tt(r,Wa(r),c),d&&(c=st(c,p|_|w,R1));for(var g=i.length;g--;)Na(c,i[g]);return c});function Bw(r,i){return dl(r,ji(H(i)))}var Nw=Nt(function(r,i){return r==null?{}:f1(r,i)});function dl(r,i){if(r==null)return{};var c=he(Wa(r),function(d){return[d]});return i=H(i),nf(r,c,function(d,g){return i(d,g[0])})}function Fw(r,i,c){i=Qt(i,r);var d=-1,g=i.length;for(g||(g=1,r=t);++d<g;){var m=r==null?t:r[Ct(i[d])];m===t&&(d=g,m=c),r=Ut(m)?m.call(r):m}return r}function Uw(r,i,c){return r==null?r:Tr(r,i,c)}function zw(r,i,c,d){return d=typeof d=="function"?d:t,r==null?r:Tr(r,i,c,d)}var hl=Af(Te),vl=Af(He);function $w(r,i,c){var d=J(r),g=d||tn(r)||jn(r);if(i=H(i,4),c==null){var m=r&&r.constructor;g?c=d?new m:[]:ge(r)?c=Ut(m)?Gn(wi(r)):{}:c={}}return(g?it:It)(r,function(b,S,A){return i(c,b,S,A)}),c}function Kw(r,i){return r==null?!0:Na(r,i)}function Gw(r,i,c){return r==null?r:uf(r,i,za(c))}function Hw(r,i,c,d){return d=typeof d=="function"?d:t,r==null?r:uf(r,i,za(c),d)}function Vn(r){return r==null?[]:ma(r,Te(r))}function Ww(r){return r==null?[]:ma(r,He(r))}function qw(r,i,c){return c===t&&(c=i,i=t),c!==t&&(c=ft(c),c=c===c?c:0),i!==t&&(i=ft(i),i=i===i?i:0),yn(ft(r),i,c)}function jw(r,i,c){return i=zt(i),c===t?(c=i,i=0):c=zt(c),r=ft(r),Qm(r,i,c)}function Vw(r,i,c){if(c&&typeof c!="boolean"&&Fe(r,i,c)&&(i=c=t),c===t&&(typeof i=="boolean"?(c=i,i=t):typeof r=="boolean"&&(c=r,r=t)),r===t&&i===t?(r=0,i=1):(r=zt(r),i===t?(i=r,r=0):i=zt(i)),r>i){var d=r;r=i,i=d}if(c||r%1||i%1){var g=Nc();return Le(r+g*(i-r+Iy("1e-"+((g+"").length-1))),i)}return Ma(r,i)}var Yw=Wn(function(r,i,c){return i=i.toLowerCase(),r+(c?gl(i):i)});function gl(r){return ss(ae(r).toLowerCase())}function pl(r){return r=ae(r),r&&r.replace(Jp,Uy).replace(py,"")}function Zw(r,i,c){r=ae(r),i=Ve(i);var d=r.length;c=c===t?d:yn(X(c),0,d);var g=c;return c-=i.length,c>=0&&r.slice(c,g)==i}function Jw(r){return r=ae(r),r&&Op.test(r)?r.replace(qu,zy):r}function Xw(r){return r=ae(r),r&&Np.test(r)?r.replace(na,"\\$&"):r}var Qw=Wn(function(r,i,c){return r+(c?"-":"")+i.toLowerCase()}),eS=Wn(function(r,i,c){return r+(c?" ":"")+i.toLowerCase()}),tS=_f("toLowerCase");function nS(r,i,c){r=ae(r),i=X(i);var d=i?Fn(r):0;if(!i||d>=i)return r;var g=(i-d)/2;return Fi(Ai(g),c)+r+Fi(xi(g),c)}function rS(r,i,c){r=ae(r),i=X(i);var d=i?Fn(r):0;return i&&d<i?r+Fi(i-d,c):r}function iS(r,i,c){r=ae(r),i=X(i);var d=i?Fn(r):0;return i&&d<i?Fi(i-d,c)+r:r}function oS(r,i,c){return c||i==null?i=0:i&&(i=+i),dm(ae(r).replace(ra,""),i||0)}function aS(r,i,c){return(c?Fe(r,i,c):i===t)?i=1:i=X(i),ka(ae(r),i)}function sS(){var r=arguments,i=ae(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var uS=Wn(function(r,i,c){return r+(c?"_":"")+i.toLowerCase()});function cS(r,i,c){return c&&typeof c!="number"&&Fe(r,i,c)&&(i=c=t),c=c===t?At:c>>>0,c?(r=ae(r),r&&(typeof i=="string"||i!=null&&!is(i))&&(i=Ve(i),!i&&Nn(r))?en(pt(r),0,c):r.split(i,c)):[]}var fS=Wn(function(r,i,c){return r+(c?" ":"")+ss(i)});function lS(r,i,c){return r=ae(r),c=c==null?0:yn(X(c),0,r.length),i=Ve(i),r.slice(c,c+i.length)==i}function dS(r,i,c){var d=y.templateSettings;c&&Fe(r,i,c)&&(i=t),r=ae(r),i=Zi({},i,d,If);var g=Zi({},i.imports,d.imports,If),m=Te(g),b=ma(g,m),S,A,L=0,P=i.interpolate||ci,k="__p += '",F=ba((i.escape||ci).source+"|"+P.source+"|"+(P===ju?Wp:ci).source+"|"+(i.evaluate||ci).source+"|$","g"),K="//# sourceURL="+(se.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wy+"]")+`
`;r.replace(F,function(q,ne,ie,Ze,Ue,Je){return ie||(ie=Ze),k+=r.slice(L,Je).replace(Xp,$y),ne&&(S=!0,k+=`' +
__e(`+ne+`) +
'`),Ue&&(A=!0,k+=`';
`+Ue+`;
__p += '`),ie&&(k+=`' +
((__t = (`+ie+`)) == null ? '' : __t) +
'`),L=Je+q.length,q}),k+=`';
`;var W=se.call(i,"variable")&&i.variable;if(!W)k=`with (obj) {
`+k+`
}
`;else if(Gp.test(W))throw new Z(l);k=(A?k.replace(Tp,""):k).replace(Cp,"$1").replace(Rp,"$1;"),k="function("+(W||"obj")+`) {
`+(W?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+k+`return __p
}`;var Q=ml(function(){return oe(m,K+"return "+k).apply(t,b)});if(Q.source=k,rs(Q))throw Q;return Q}function hS(r){return ae(r).toLowerCase()}function vS(r){return ae(r).toUpperCase()}function gS(r,i,c){if(r=ae(r),r&&(c||i===t))return Ic(r);if(!r||!(i=Ve(i)))return r;var d=pt(r),g=pt(i),m=Tc(d,g),b=Cc(d,g)+1;return en(d,m,b).join("")}function pS(r,i,c){if(r=ae(r),r&&(c||i===t))return r.slice(0,Dc(r)+1);if(!r||!(i=Ve(i)))return r;var d=pt(r),g=Cc(d,pt(i))+1;return en(d,0,g).join("")}function yS(r,i,c){if(r=ae(r),r&&(c||i===t))return r.replace(ra,"");if(!r||!(i=Ve(i)))return r;var d=pt(r),g=Tc(d,pt(i));return en(d,g).join("")}function mS(r,i){var c=ri,d=Wt;if(ge(i)){var g="separator"in i?i.separator:g;c="length"in i?X(i.length):c,d="omission"in i?Ve(i.omission):d}r=ae(r);var m=r.length;if(Nn(r)){var b=pt(r);m=b.length}if(c>=m)return r;var S=c-Fn(d);if(S<1)return d;var A=b?en(b,0,S).join(""):r.slice(0,S);if(g===t)return A+d;if(b&&(S+=A.length-S),is(g)){if(r.slice(S).search(g)){var L,P=A;for(g.global||(g=ba(g.source,ae(Vu.exec(g))+"g")),g.lastIndex=0;L=g.exec(P);)var k=L.index;A=A.slice(0,k===t?S:k)}}else if(r.indexOf(Ve(g),S)!=S){var F=A.lastIndexOf(g);F>-1&&(A=A.slice(0,F))}return A+d}function _S(r){return r=ae(r),r&&Dp.test(r)?r.replace(Wu,Vy):r}var bS=Wn(function(r,i,c){return r+(c?" ":"")+i.toUpperCase()}),ss=_f("toUpperCase");function yl(r,i,c){return r=ae(r),i=c?t:i,i===t?Gy(r)?Jy(r):My(r):r.match(i)||[]}var ml=ee(function(r,i){try{return qe(r,t,i)}catch(c){return rs(c)?c:new Z(c)}}),wS=Nt(function(r,i){return it(i,function(c){c=Ct(c),kt(r,c,ts(r[c],r))}),r});function SS(r){var i=r==null?0:r.length,c=H();return r=i?he(r,function(d){if(typeof d[1]!="function")throw new ot(f);return[c(d[0]),d[1]]}):[],ee(function(d){for(var g=-1;++g<i;){var m=r[g];if(qe(m[0],this,d))return qe(m[1],this,d)}})}function ES(r){return Vm(st(r,p))}function us(r){return function(){return r}}function xS(r,i){return r==null||r!==r?i:r}var AS=wf(),IS=wf(!0);function We(r){return r}function cs(r){return Zc(typeof r=="function"?r:st(r,p))}function TS(r){return Xc(st(r,p))}function CS(r,i){return Qc(r,st(i,p))}var RS=ee(function(r,i){return function(c){return Ar(c,r,i)}}),DS=ee(function(r,i){return function(c){return Ar(r,c,i)}});function fs(r,i,c){var d=Te(i),g=Oi(i,d);c==null&&!(ge(i)&&(g.length||!d.length))&&(c=i,i=r,r=this,g=Oi(i,Te(i)));var m=!(ge(c)&&"chain"in c)||!!c.chain,b=Ut(r);return it(g,function(S){var A=i[S];r[S]=A,b&&(r.prototype[S]=function(){var L=this.__chain__;if(m||L){var P=r(this.__wrapped__),k=P.__actions__=Ke(this.__actions__);return k.push({func:A,args:arguments,thisArg:r}),P.__chain__=L,P}return A.apply(r,Vt([this.value()],arguments))})}),r}function OS(){return Ce._===this&&(Ce._=rm),this}function ls(){}function LS(r){return r=X(r),ee(function(i){return ef(i,r)})}var PS=Ka(he),MS=Ka(wc),kS=Ka(ha);function _l(r){return Ya(r)?va(Ct(r)):l1(r)}function BS(r){return function(i){return r==null?t:mn(r,i)}}var NS=Ef(),FS=Ef(!0);function ds(){return[]}function hs(){return!1}function US(){return{}}function zS(){return""}function $S(){return!0}function KS(r,i){if(r=X(r),r<1||r>qt)return[];var c=At,d=Le(r,At);i=H(i),r-=At;for(var g=ya(d,i);++c<r;)i(c);return g}function GS(r){return J(r)?he(r,Ct):Ye(r)?[r]:Ke(Uf(ae(r)))}function HS(r){var i=++tm;return ae(r)+i}var WS=Ni(function(r,i){return r+i},0),qS=Ga("ceil"),jS=Ni(function(r,i){return r/i},1),VS=Ga("floor");function YS(r){return r&&r.length?Di(r,We,Ca):t}function ZS(r,i){return r&&r.length?Di(r,H(i,2),Ca):t}function JS(r){return xc(r,We)}function XS(r,i){return xc(r,H(i,2))}function QS(r){return r&&r.length?Di(r,We,La):t}function eE(r,i){return r&&r.length?Di(r,H(i,2),La):t}var tE=Ni(function(r,i){return r*i},1),nE=Ga("round"),rE=Ni(function(r,i){return r-i},0);function iE(r){return r&&r.length?pa(r,We):0}function oE(r,i){return r&&r.length?pa(r,H(i,2)):0}return y.after=Tb,y.ary=Zf,y.assign=vw,y.assignIn=fl,y.assignInWith=Zi,y.assignWith=gw,y.at=pw,y.before=Jf,y.bind=ts,y.bindAll=wS,y.bindKey=Xf,y.castArray=Ub,y.chain=jf,y.chunk=V1,y.compact=Y1,y.concat=Z1,y.cond=SS,y.conforms=ES,y.constant=us,y.countBy=ib,y.create=yw,y.curry=Qf,y.curryRight=el,y.debounce=tl,y.defaults=mw,y.defaultsDeep=_w,y.defer=Cb,y.delay=Rb,y.difference=J1,y.differenceBy=X1,y.differenceWith=Q1,y.drop=e_,y.dropRight=t_,y.dropRightWhile=n_,y.dropWhile=r_,y.fill=i_,y.filter=ab,y.flatMap=cb,y.flatMapDeep=fb,y.flatMapDepth=lb,y.flatten=Gf,y.flattenDeep=o_,y.flattenDepth=a_,y.flip=Db,y.flow=AS,y.flowRight=IS,y.fromPairs=s_,y.functions=Iw,y.functionsIn=Tw,y.groupBy=db,y.initial=c_,y.intersection=f_,y.intersectionBy=l_,y.intersectionWith=d_,y.invert=Rw,y.invertBy=Dw,y.invokeMap=vb,y.iteratee=cs,y.keyBy=gb,y.keys=Te,y.keysIn=He,y.map=Hi,y.mapKeys=Lw,y.mapValues=Pw,y.matches=TS,y.matchesProperty=CS,y.memoize=qi,y.merge=Mw,y.mergeWith=ll,y.method=RS,y.methodOf=DS,y.mixin=fs,y.negate=ji,y.nthArg=LS,y.omit=kw,y.omitBy=Bw,y.once=Ob,y.orderBy=pb,y.over=PS,y.overArgs=Lb,y.overEvery=MS,y.overSome=kS,y.partial=ns,y.partialRight=nl,y.partition=yb,y.pick=Nw,y.pickBy=dl,y.property=_l,y.propertyOf=BS,y.pull=p_,y.pullAll=Wf,y.pullAllBy=y_,y.pullAllWith=m_,y.pullAt=__,y.range=NS,y.rangeRight=FS,y.rearg=Pb,y.reject=bb,y.remove=b_,y.rest=Mb,y.reverse=Qa,y.sampleSize=Sb,y.set=Uw,y.setWith=zw,y.shuffle=Eb,y.slice=w_,y.sortBy=Ib,y.sortedUniq=C_,y.sortedUniqBy=R_,y.split=cS,y.spread=kb,y.tail=D_,y.take=O_,y.takeRight=L_,y.takeRightWhile=P_,y.takeWhile=M_,y.tap=Y_,y.throttle=Bb,y.thru=Gi,y.toArray=sl,y.toPairs=hl,y.toPairsIn=vl,y.toPath=GS,y.toPlainObject=cl,y.transform=$w,y.unary=Nb,y.union=k_,y.unionBy=B_,y.unionWith=N_,y.uniq=F_,y.uniqBy=U_,y.uniqWith=z_,y.unset=Kw,y.unzip=es,y.unzipWith=qf,y.update=Gw,y.updateWith=Hw,y.values=Vn,y.valuesIn=Ww,y.without=$_,y.words=yl,y.wrap=Fb,y.xor=K_,y.xorBy=G_,y.xorWith=H_,y.zip=W_,y.zipObject=q_,y.zipObjectDeep=j_,y.zipWith=V_,y.entries=hl,y.entriesIn=vl,y.extend=fl,y.extendWith=Zi,fs(y,y),y.add=WS,y.attempt=ml,y.camelCase=Yw,y.capitalize=gl,y.ceil=qS,y.clamp=qw,y.clone=zb,y.cloneDeep=Kb,y.cloneDeepWith=Gb,y.cloneWith=$b,y.conformsTo=Hb,y.deburr=pl,y.defaultTo=xS,y.divide=jS,y.endsWith=Zw,y.eq=mt,y.escape=Jw,y.escapeRegExp=Xw,y.every=ob,y.find=sb,y.findIndex=$f,y.findKey=bw,y.findLast=ub,y.findLastIndex=Kf,y.findLastKey=ww,y.floor=VS,y.forEach=Vf,y.forEachRight=Yf,y.forIn=Sw,y.forInRight=Ew,y.forOwn=xw,y.forOwnRight=Aw,y.get=os,y.gt=Wb,y.gte=qb,y.has=Cw,y.hasIn=as,y.head=Hf,y.identity=We,y.includes=hb,y.indexOf=u_,y.inRange=jw,y.invoke=Ow,y.isArguments=wn,y.isArray=J,y.isArrayBuffer=jb,y.isArrayLike=Ge,y.isArrayLikeObject=_e,y.isBoolean=Vb,y.isBuffer=tn,y.isDate=Yb,y.isElement=Zb,y.isEmpty=Jb,y.isEqual=Xb,y.isEqualWith=Qb,y.isError=rs,y.isFinite=ew,y.isFunction=Ut,y.isInteger=rl,y.isLength=Vi,y.isMap=il,y.isMatch=tw,y.isMatchWith=nw,y.isNaN=rw,y.isNative=iw,y.isNil=aw,y.isNull=ow,y.isNumber=ol,y.isObject=ge,y.isObjectLike=ye,y.isPlainObject=Or,y.isRegExp=is,y.isSafeInteger=sw,y.isSet=al,y.isString=Yi,y.isSymbol=Ye,y.isTypedArray=jn,y.isUndefined=uw,y.isWeakMap=cw,y.isWeakSet=fw,y.join=h_,y.kebabCase=Qw,y.last=ct,y.lastIndexOf=v_,y.lowerCase=eS,y.lowerFirst=tS,y.lt=lw,y.lte=dw,y.max=YS,y.maxBy=ZS,y.mean=JS,y.meanBy=XS,y.min=QS,y.minBy=eE,y.stubArray=ds,y.stubFalse=hs,y.stubObject=US,y.stubString=zS,y.stubTrue=$S,y.multiply=tE,y.nth=g_,y.noConflict=OS,y.noop=ls,y.now=Wi,y.pad=nS,y.padEnd=rS,y.padStart=iS,y.parseInt=oS,y.random=Vw,y.reduce=mb,y.reduceRight=_b,y.repeat=aS,y.replace=sS,y.result=Fw,y.round=nE,y.runInContext=x,y.sample=wb,y.size=xb,y.snakeCase=uS,y.some=Ab,y.sortedIndex=S_,y.sortedIndexBy=E_,y.sortedIndexOf=x_,y.sortedLastIndex=A_,y.sortedLastIndexBy=I_,y.sortedLastIndexOf=T_,y.startCase=fS,y.startsWith=lS,y.subtract=rE,y.sum=iE,y.sumBy=oE,y.template=dS,y.times=KS,y.toFinite=zt,y.toInteger=X,y.toLength=ul,y.toLower=hS,y.toNumber=ft,y.toSafeInteger=hw,y.toString=ae,y.toUpper=vS,y.trim=gS,y.trimEnd=pS,y.trimStart=yS,y.truncate=mS,y.unescape=_S,y.uniqueId=HS,y.upperCase=bS,y.upperFirst=ss,y.each=Vf,y.eachRight=Yf,y.first=Hf,fs(y,function(){var r={};return It(y,function(i,c){se.call(y.prototype,c)||(r[c]=i)}),r}(),{chain:!1}),y.VERSION=a,it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),it(["drop","take"],function(r,i){re.prototype[r]=function(c){c=c===t?1:Ae(X(c),0);var d=this.__filtered__&&!i?new re(this):this.clone();return d.__filtered__?d.__takeCount__=Le(c,d.__takeCount__):d.__views__.push({size:Le(c,At),type:r+(d.__dir__<0?"Right":"")}),d},re.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),it(["filter","map","takeWhile"],function(r,i){var c=i+1,d=c==Ku||c==pp;re.prototype[r]=function(g){var m=this.clone();return m.__iteratees__.push({iteratee:H(g,3),type:c}),m.__filtered__=m.__filtered__||d,m}}),it(["head","last"],function(r,i){var c="take"+(i?"Right":"");re.prototype[r]=function(){return this[c](1).value()[0]}}),it(["initial","tail"],function(r,i){var c="drop"+(i?"":"Right");re.prototype[r]=function(){return this.__filtered__?new re(this):this[c](1)}}),re.prototype.compact=function(){return this.filter(We)},re.prototype.find=function(r){return this.filter(r).head()},re.prototype.findLast=function(r){return this.reverse().find(r)},re.prototype.invokeMap=ee(function(r,i){return typeof r=="function"?new re(this):this.map(function(c){return Ar(c,r,i)})}),re.prototype.reject=function(r){return this.filter(ji(H(r)))},re.prototype.slice=function(r,i){r=X(r);var c=this;return c.__filtered__&&(r>0||i<0)?new re(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),i!==t&&(i=X(i),c=i<0?c.dropRight(-i):c.take(i-r)),c)},re.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},re.prototype.toArray=function(){return this.take(At)},It(re.prototype,function(r,i){var c=/^(?:filter|find|map|reject)|While$/.test(i),d=/^(?:head|last)$/.test(i),g=y[d?"take"+(i=="last"?"Right":""):i],m=d||/^find/.test(i);g&&(y.prototype[i]=function(){var b=this.__wrapped__,S=d?[1]:arguments,A=b instanceof re,L=S[0],P=A||J(b),k=function(ne){var ie=g.apply(y,Vt([ne],S));return d&&F?ie[0]:ie};P&&c&&typeof L=="function"&&L.length!=1&&(A=P=!1);var F=this.__chain__,K=!!this.__actions__.length,W=m&&!F,Q=A&&!K;if(!m&&P){b=Q?b:new re(this);var q=r.apply(b,S);return q.__actions__.push({func:Gi,args:[k],thisArg:t}),new at(q,F)}return W&&Q?r.apply(this,S):(q=this.thru(k),W?d?q.value()[0]:q.value():q)})}),it(["pop","push","shift","sort","splice","unshift"],function(r){var i=gi[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var g=arguments;if(d&&!this.__chain__){var m=this.value();return i.apply(J(m)?m:[],g)}return this[c](function(b){return i.apply(J(b)?b:[],g)})}}),It(re.prototype,function(r,i){var c=y[i];if(c){var d=c.name+"";se.call(Kn,d)||(Kn[d]=[]),Kn[d].push({name:i,func:c})}}),Kn[Bi(t,B).name]=[{name:"wrapper",func:t}],re.prototype.clone=_m,re.prototype.reverse=bm,re.prototype.value=wm,y.prototype.at=Z_,y.prototype.chain=J_,y.prototype.commit=X_,y.prototype.next=Q_,y.prototype.plant=tb,y.prototype.reverse=nb,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=rb,y.prototype.first=y.prototype.head,mr&&(y.prototype[mr]=eb),y},Un=Xy();hn?((hn.exports=Un)._=Un,ca._=Un):Ce._=Un}).call(Lr)})(xo,xo.exports);var OO=xo.exports;Hr.addPluggable(new DO);Qr.configure({Auth:{region:"us-east-1",identityPoolId:"us-east-1:bbcf54d3-1bed-4b71-86b9-d670f0346c3d",identityPoolRegion:"us-east-1",userPoolId:"us-east-1_wDJUjjmlk",userPoolWebClientId:"7poa48vl616o5tduesisuuceh4"},Analytics:{AWSKinesisFirehose:{region:"us-east-1"}}});const LO=e=>{const n=document.getElementsByClassName(e)[0];return n==null?void 0:n.textContent},Fs={email:LO("hook5")||Math.random().toString(36).slice(2)},Xe=videojs("html-player-0"),dp=e=>{const n=function(){const t=document.querySelector("#amazon-ivs-videojs");t.addEventListener("click",()=>{Xe.paused()?t.classList.remove("vjs-has-started"):t.classList.add("vjs-has-started")}),Xe.volume(.5),Xe.src(e.videoSrc),Xe.poster(e.videoPoster),Xe.one("play",()=>{console.log("first play"),Hr.record({data:{event:"first-play",secondsWatched:"0",when:Date.now(),userId:Fs.email},partitionKey:"noop",streamName:"pesummit-0728-vod"},"AWSKinesisFirehose")});let a=0,s=0,o=null;const f=OO.throttle(()=>{const l=`${s.toFixed(2)}`;Hr.record({data:{event:"track",secondsWatched:l,when:Date.now(),userId:Fs.email},partitionKey:"noop",streamName:"pesummit-0728-vod"},"AWSKinesisFirehose")},10*1e3,{leading:!1,trailing:!0});Xe.on("timeupdate",function(){a=s,s=Xe.currentTime(),f()}),Xe.on("seeking",function(){o===null&&(o=a)}),Xe.on("seeked",function(){o=null,Hr.record({data:{event:"seeked",seekedFrom:`${(o||0).toFixed(2)}`,seekedTo:`${s.toFixed(2)}`,when:Date.now(),userId:Fs.email},partitionKey:"noop",streamName:"pesummit-0728-vod"},"AWSKinesisFirehose")})};Xe.ready(n)};dp({videoSrc:Xe.currentSrc(),videoPoster:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Big_Buck_Bunny_thumbnail_vlc.png/1200px-Big_Buck_Bunny_thumbnail_vlc.png"});const PO=document.querySelectorAll(".carousel video");PO.forEach(e=>{e.addEventListener("click",()=>{const n=Xe.currentSrc(),t=Xe.poster();dp({videoSrc:e.currentSrc,videoPoster:e.poster}),e.src=n,e.poster=t})});setInterval(()=>{let e=document.querySelector(".vjs-menu-item.vjs-captions-menu-item > span.vjs-menu-item-text");e&&(e.innerHTML=e.innerHTML.replace("cc1","English"))},30*1e3);
