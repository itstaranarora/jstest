(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();window.global||(window.global=window);var oE="Logging",aE=globalThis&&globalThis.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Vn=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Yn=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,s=n.length,o;a<s;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))},bl={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},bt;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"})(bt||(bt={}));var Ie=function(){function e(n,t){t===void 0&&(t=bt.WARN),this.name=n,this.level=t,this._pluggables=[]}return e.prototype._padding=function(n){return n<10?"0"+n:""+n},e.prototype._ts=function(){var n=new Date;return[this._padding(n.getMinutes()),this._padding(n.getSeconds())].join(":")+"."+n.getMilliseconds()},e.prototype.configure=function(n){return n?(this._config=n,this._config):this._config},e.prototype._log=function(n){for(var t,a,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var f=this.level;e.LOG_LEVEL&&(f=e.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(f=window.LOG_LEVEL);var l=bl[f],v=bl[n];if(v>=l){var u=console.log.bind(console);n===bt.ERROR&&console.error&&(u=console.error.bind(console)),n===bt.WARN&&console.warn&&(u=console.warn.bind(console));var h="[".concat(n,"] ").concat(this._ts()," ").concat(this.name),p="";if(s.length===1&&typeof s[0]=="string")p="".concat(h," - ").concat(s[0]),u(p);else if(s.length===1)p="".concat(h," ").concat(s[0]),u(h,s[0]);else if(typeof s[0]=="string"){var _=s.slice(1);_.length===1&&(_=_[0]),p="".concat(h," - ").concat(s[0]," ").concat(_),u("".concat(h," - ").concat(s[0]),_)}else p="".concat(h," ").concat(s),u(h,s);try{for(var w=aE(this._pluggables),E=w.next();!E.done;E=w.next()){var I=E.value,R={message:p,timestamp:Date.now()};I.pushLogs([R])}}catch(B){t={error:B}}finally{try{E&&!E.done&&(a=w.return)&&a.call(w)}finally{if(t)throw t.error}}}},e.prototype.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Yn([bt.INFO],Vn(n),!1))},e.prototype.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Yn([bt.INFO],Vn(n),!1))},e.prototype.warn=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Yn([bt.WARN],Vn(n),!1))},e.prototype.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Yn([bt.ERROR],Vn(n),!1))},e.prototype.debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Yn([bt.DEBUG],Vn(n),!1))},e.prototype.verbose=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._log.apply(this,Yn([bt.VERBOSE],Vn(n),!1))},e.prototype.addPluggable=function(n){n&&n.getCategoryName()===oE&&(this._pluggables.push(n),n.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),sE=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},hs=new Ie("Amplify"),uE=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=Ie,this.ServiceWorker=null}return e.prototype.register=function(n){hs.debug("component registered in amplify",n),this._components.push(n),typeof n.getModuleName=="function"?(this._modules[n.getModuleName()]=n,this[n.getModuleName()]=n):hs.debug("no getModuleName method for component",n),n.configure(this._config)},e.prototype.configure=function(n){var t=this;return n?(this._config=Object.assign(this._config,n),hs.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(a){var s=sE(a,2);s[0];var o=s[1];Object.keys(o).forEach(function(f){t._modules[f]&&(o[f]=t._modules[f])})}),this._components.map(function(a){a.configure(t._config)}),this._config):this._config},e.prototype.addPluggable=function(n){n&&n.getCategory&&typeof n.getCategory=="function"&&this._components.map(function(t){t.addPluggable&&typeof t.addPluggable=="function"&&t.addPluggable(n)})},e}(),Xr=new uE,me;(function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"})(me||(me={}));var co;(function(e){e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"})(co||(co={}));var Dn;(function(e){e.Record="1",e.UpdateEndpoint="2"})(Dn||(Dn={}));var wl;(function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"})(wl||(wl={}));var Sl;(function(e){e.FederatedSignIn="30"})(Sl||(Sl={}));var El;(function(e){e.Subscribe="1",e.GraphQl="2"})(El||(El={}));var xl;(function(e){e.None="0"})(xl||(xl={}));var Al;(function(e){e.None="0"})(Al||(Al={}));var Il;(function(e){e.None="0"})(Il||(Il={}));var Tl;(function(e){e.Convert="1",e.Identify="2",e.Interpret="3"})(Tl||(Tl={}));var Cl;(function(e){e.Subscribe="1"})(Cl||(Cl={}));var Rl;(function(e){e.None="0"})(Rl||(Rl={}));var Dl;(function(e){e.Put="1",e.Get="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6"})(Dl||(Dl={}));var Cg="5.3.11",xo=function(){return typeof global<"u"},ir=function(){return typeof window<"u"},Rg=function(){return typeof document<"u"},xu=function(){return typeof process<"u"},Hr=function(e,n){return!!Object.keys(e).find(function(t){return t.startsWith(n)})};function cE(){var e=function(a){return a.startsWith("_react")||a.startsWith("__react")},n=function(a){return Object.keys(a).find(e)},t=function(){return Array.from(document.querySelectorAll("[id]"))};return Rg()&&t().some(n)}function fE(){return xu()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(e){return e.includes("react")})}function lE(){return ir()&&Hr(window,"__VUE")}function dE(){return xo()&&Hr(global,"__VUE")}function hE(){return ir()&&Hr(window,"__SVELTE")}function vE(){return xu()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(e){return e.includes("svelte")})}function gE(){return ir()&&window.next&&typeof window.next=="object"}function pE(){return xo()&&(Hr(global,"__next")||Hr(global,"__NEXT"))}function yE(){return ir()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function mE(){return xo()&&typeof global.__NUXT_PATHS__<"u"}function _E(){var e=!!(Rg()&&document.querySelector("[ng-version]")),n=!!(ir()&&typeof window.ng<"u");return e||n}function bE(){var e;return xu()&&typeof process.env=="object"&&((e=process.env.npm_lifecycle_script)===null||e===void 0?void 0:e.startsWith("ng "))||!1}function wE(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function SE(){return xo()&&typeof global.expo<"u"}function EE(){return ir()}var xE=[{platform:me.Expo,detectionMethod:SE},{platform:me.ReactNative,detectionMethod:wE},{platform:me.NextJs,detectionMethod:gE},{platform:me.Nuxt,detectionMethod:yE},{platform:me.Angular,detectionMethod:_E},{platform:me.React,detectionMethod:cE},{platform:me.VueJs,detectionMethod:lE},{platform:me.Svelte,detectionMethod:hE},{platform:me.WebUnknown,detectionMethod:EE},{platform:me.NextJsSSR,detectionMethod:pE},{platform:me.NuxtSSR,detectionMethod:mE},{platform:me.ReactSSR,detectionMethod:fE},{platform:me.VueJsSSR,detectionMethod:dE},{platform:me.AngularSSR,detectionMethod:bE},{platform:me.SvelteSSR,detectionMethod:vE}];function AE(){var e;return((e=xE.find(function(n){return n.detectionMethod()}))===null||e===void 0?void 0:e.platform)||me.ServerSideUnknown}var Fr,uo=[],fo=!1,IE=10,TE=10,CE=1e3,Au=function(){if(!Fr){if(Fr=AE(),fo)for(;uo.length;)uo.pop()();else uo.forEach(function(e){return e()});Ol(me.ServerSideUnknown,IE),Ol(me.WebUnknown,TE)}return Fr},Dg=function(e){fo||uo.push(e)};function RE(){Fr=void 0}function Ol(e,n){Fr===e&&!fo&&setTimeout(function(){RE(),fo=!0,setTimeout(Au,CE)},n)}var DE=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Og="aws-amplify";(function(){function e(){this.userAgent="".concat(Og,"/").concat(Cg)}return Object.defineProperty(e.prototype,"framework",{get:function(){return Au()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReactNative",{get:function(){return this.framework===me.ReactNative||this.framework===me.Expo},enumerable:!1,configurable:!0}),e.prototype.observeFrameworkChanges=function(n){Dg(n)},e})();var Lg=function(e){var n=e===void 0?{}:e,t=n.category,a=n.action;n.framework;var s=[[Og,Cg]];return t&&s.push([t,a]),s.push(["framework",Au()]),s},Ao=function(e){var n=Lg(e),t=n.map(function(a){var s=DE(a,2),o=s[0],f=s[1];return"".concat(o,"/").concat(f)}).join(" ");return t},Fs=new Ie("ClientDevice_Browser");function OE(){return typeof window>"u"?{}:LE()}function LE(){if(typeof window>"u")return Fs.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return Fs.warn("No navigator object available to get browser client info"),{};var n=e.platform,t=e.product,a=e.vendor,s=e.userAgent,o=e.language,f=kE(s),l=ME();return{platform:n,make:t||a,model:f.type,version:f.version,appVersion:[f.type,f.version].join("/"),language:o,timezone:l}}function PE(){return typeof window>"u"?(Fs.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}}function ME(){var e=/\(([A-Za-z\s].*)\)/.exec(new Date().toString());return e&&e[1]||""}function kE(e){var n=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var t=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var a=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(a)return{type:a[1],version:a[2]};var s=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(s)return{type:s[1],version:s[2]};var o=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(o)return{type:o[1],version:o[2]};var f=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);return f?{type:f[1],version:f[2]}:{type:"",version:""}}var BE=function(){function e(){}return e.clientInfo=function(){return OE()},e.dimension=function(){return PE()},e}(),Ur=globalThis&&globalThis.__assign||function(){return Ur=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ur.apply(this,arguments)},vs=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Ll=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,s=n.length,o;a<s;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))},$t=new Ie("Hub"),NE=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function FE(e){return e.onHubCapsule!==void 0}var UE=function(){function e(n){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=n}return e.prototype._remove=function(n,t){if(n instanceof RegExp){var a=this.patterns.find(function(o){var f=o.pattern;return f.source===n.source});if(!a){$t.warn("No listeners for ".concat(n));return}this.patterns=Ll([],vs(this.patterns.filter(function(o){return o!==a})),!1)}else{var s=this.listeners[n];if(!s){$t.warn("No listeners for ".concat(n));return}this.listeners[n]=Ll([],vs(s.filter(function(o){var f=o.callback;return f!==t})),!1)}},e.prototype.remove=function(n,t){this._remove(n,t)},e.prototype.dispatch=function(n,t,a,s){if(a===void 0&&(a=""),this.protectedChannels.indexOf(n)>-1){var o=s===NE;o||$t.warn("WARNING: ".concat(n," is protected and dispatching on it can have unintended consequences"))}var f={channel:n,payload:Ur({},t),source:a,patternInfo:[]};try{this._toListeners(f)}catch(l){$t.error(l)}},e.prototype.listen=function(n,t,a){var s=this;a===void 0&&(a="noname");var o;if(FE(t))$t.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),o=t.onHubCapsule.bind(t);else{if(typeof t!="function")throw new Error("No callback supplied to Hub");o=t}if(n instanceof RegExp)this.patterns.push({pattern:n,callback:o});else{var f=this.listeners[n];f||(f=[],this.listeners[n]=f),f.push({name:a,callback:o})}return function(){s._remove(n,o)}},e.prototype._toListeners=function(n){var t=n.channel,a=n.payload,s=this.listeners[t];if(s&&s.forEach(function(f){$t.debug("Dispatching to ".concat(t," with "),a);try{f.callback(n)}catch(l){$t.error(l)}}),this.patterns.length>0){if(!a.message){$t.warn("Cannot perform pattern matching without a message key");return}var o=a.message;this.patterns.forEach(function(f){var l=o.match(f.pattern);if(l){var v=vs(l),u=v.slice(1),h=Ur(Ur({},n),{patternInfo:u});try{f.callback(h)}catch(p){$t.error(p)}}})}},e}(),Cn=new UE("__default__"),zE=function(e){if(e.isResolved)return e;var n=!0,t=!1,a=!1,s=e.then(function(o){return a=!0,n=!1,o},function(o){throw t=!0,n=!1,o});return s.isFullfilled=function(){return a},s.isPending=function(){return n},s.isRejected=function(){return t},s},St=function(){var e=typeof window<"u"&&typeof window.document<"u",n=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:e,isNode:n}},Pg=function(e,n,t){if(n===void 0&&(n=[]),t===void 0&&(t=[]),!kg(e))return e;var a={};for(var s in e)if(e.hasOwnProperty(s)){var o=n.includes(s)?s:s[0].toLowerCase()+s.slice(1);a[o]=t.includes(s)?e[s]:Pg(e[s],n,t)}return a},Mg=function(e,n,t){if(n===void 0&&(n=[]),t===void 0&&(t=[]),!kg(e))return e;var a={};for(var s in e)if(e.hasOwnProperty(s)){var o=n.includes(s)?s:s[0].toUpperCase()+s.slice(1);a[o]=t.includes(s)?e[s]:Mg(e[s],n,t)}return a},kg=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},$E=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function a(){this.constructor=n}n.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Pl=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},gs=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},KE=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},GE=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,s=n.length,o;a<s;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))},Zi=new Ie("Util"),Rn=function(e){$E(n,e);function n(t){var a=e.call(this,t)||this;return a.nonRetryable=!0,a}return n}(Error),HE=function(e){var n="nonRetryable";return e&&e[n]};function WE(e,n,t,a){return Pl(this,void 0,void 0,function(){var s=this;return gs(this,function(o){if(typeof e!="function")throw Error("functionToRetry must be a function");return[2,new Promise(function(f,l){return Pl(s,void 0,void 0,function(){var v,u,h,p,_,w,E;return gs(this,function(I){switch(I.label){case 0:v=0,u=!1,p=function(){},a&&a.then(function(){u=!0,clearTimeout(h),p()}),w=function(){var R,B,z,N;return gs(this,function(G){switch(G.label){case 0:v++,Zi.debug("".concat(e.name," attempt #").concat(v," with this vars: ").concat(JSON.stringify(n))),G.label=1;case 1:return G.trys.push([1,3,,7]),R={},B=f,[4,e.apply(void 0,GE([],KE(n),!1))];case 2:return[2,(R.value=B.apply(void 0,[G.sent()]),R)];case 3:return z=G.sent(),_=z,Zi.debug("error on ".concat(e.name),z),HE(z)?(Zi.debug("".concat(e.name," non retryable error"),z),[2,{value:l(z)}]):(N=t(v,n,z),Zi.debug("".concat(e.name," retrying in ").concat(N," ms")),N===!1||u?[2,{value:l(z)}]:[3,4]);case 4:return[4,new Promise(function(Y){p=Y,h=setTimeout(p,N)})];case 5:G.sent(),G.label=6;case 6:return[3,7];case 7:return[2]}})},I.label=1;case 1:return u?[3,3]:[5,w()];case 2:return E=I.sent(),typeof E=="object"?[2,E.value]:[3,1];case 3:return l(_),[2]}})})})]})})}var Bg=5*60*1e3;function Ng(e){e===void 0&&(e=Bg);var n=100,t=100;return function(a){var s=Math.pow(2,a)*n+t*Math.random();return s>e?!1:s}}var qE=function(e,n,t,a){return t===void 0&&(t=Bg),WE(e,n,Ng(t),a)},Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function or(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),t}var jE=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},VE=1e3*60*5,An={clockOffset:0,getDateWithClockOffset:function(){return An.clockOffset?new Date(new Date().getTime()+An.clockOffset):new Date},getClockOffset:function(){return An.clockOffset},getHeaderStringFromDate:function(e){return e===void 0&&(e=An.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var n=jE(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),t=n[1],a=n[2],s=n[3],o=n[4],f=n[5],l=n[6];return new Date(Date.UTC(Number(t),Number(a)-1,Number(s),Number(o),Number(f),Number(l)))},isClockSkewed:function(e){return Math.abs(e.getTime()-An.getDateWithClockOffset().getTime())>=VE},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var n=e.response.headers;return!!(["BadRequestException","InvalidSignatureException"].includes(n["x-amzn-errortype"])&&(n.date||n.Date))},setClockOffset:function(e){An.clockOffset=e}},Fg=function(e){return Object.keys(e).map(function(n){return n.toLowerCase()}).sort().join(";")},YE="X-Amz-Algorithm",Ug="X-Amz-Date",ZE="X-Amz-Credential",JE="X-Amz-Expires",XE="X-Amz-Signature",QE="X-Amz-SignedHeaders",Iu="X-Amz-Security-Token",ex="authorization",Us="host",tx=Ug.toLowerCase(),nx=Iu.toLowerCase(),zg="aws4_request",Tu="AWS4-HMAC-SHA256",rx="AWS4",ix="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",ox="UNSIGNED-PAYLOAD",ax=function(e,n,t){return"".concat(e,"/").concat(n,"/").concat(t,"/").concat(zg)},sx=function(e){var n=e.toISOString().replace(/[:\-]|\.\d{3}/g,"");return{longDate:n,shortDate:n.slice(0,8)}},$g=function(e){var n=e.credentials,t=e.signingDate,a=t===void 0?new Date:t,s=e.signingRegion,o=e.signingService,f=e.uriEscapePath,l=f===void 0?!0:f,v=n.accessKeyId,u=n.secretAccessKey,h=n.sessionToken,p=sx(a),_=p.longDate,w=p.shortDate,E=ax(w,s,o);return{accessKeyId:v,credentialScope:E,longDate:_,secretAccessKey:u,sessionToken:h,shortDate:w,signingRegion:s,signingService:o,uriEscapePath:l}},Cu={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zs=function(e,n){return zs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)a.hasOwnProperty(s)&&(t[s]=a[s])},zs(e,n)};function Io(e,n){zs(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var $=function(){return $=Object.assign||function(n){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},$.apply(this,arguments)};function Wr(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t}function ux(e,n,t,a){var s=arguments.length,o=s<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,t):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,n,t,a);else for(var l=e.length-1;l>=0;l--)(f=e[l])&&(o=(s<3?f(o):s>3?f(n,t,o):f(n,t))||o);return s>3&&o&&Object.defineProperty(n,t,o),o}function cx(e,n){return function(t,a){n(t,a,e)}}function fx(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function V(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})}function j(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function lx(e,n,t,a){a===void 0&&(a=t),e[a]=n[t]}function dx(e,n){for(var t in e)t!=="default"&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Be(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o}function dt(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Gt(arguments[n]));return e}function hx(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var a=Array(e),s=0,n=0;n<t;n++)for(var o=arguments[n],f=0,l=o.length;f<l;f++,s++)a[s]=o[f];return a}function qr(e){return this instanceof qr?(this.v=e,this):new qr(e)}function vx(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t.apply(e,n||[]),s,o=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(_){a[_]&&(s[_]=function(w){return new Promise(function(E,I){o.push([_,w,E,I])>1||l(_,w)})})}function l(_,w){try{v(a[_](w))}catch(E){p(o[0][3],E)}}function v(_){_.value instanceof qr?Promise.resolve(_.value.v).then(u,h):p(o[0][2],_)}function u(_){l("next",_)}function h(_){l("throw",_)}function p(_,w){_(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function gx(e){var n,t;return n={},a("next"),a("throw",function(s){throw s}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(s,o){n[s]=e[s]?function(f){return(t=!t)?{value:qr(e[s](f)),done:s==="return"}:o?o(f):f}:o}}function px(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Be=="function"?Be(e):e[Symbol.iterator](),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(o){t[o]=e[o]&&function(f){return new Promise(function(l,v){f=e[o](f),s(l,v,f.done,f.value)})}}function s(o,f,l,v){Promise.resolve(v).then(function(u){o({value:u,done:l})},f)}}function yx(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function mx(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function _x(e){return e&&e.__esModule?e:{default:e}}function bx(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function wx(e,n,t){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,t),t}const Sx=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return $},__asyncDelegator:gx,__asyncGenerator:vx,__asyncValues:px,__await:qr,__awaiter:V,__classPrivateFieldGet:bx,__classPrivateFieldSet:wx,__createBinding:lx,__decorate:ux,__exportStar:dx,__extends:Io,__generator:j,__importDefault:_x,__importStar:mx,__makeTemplateObject:yx,__metadata:fx,__param:cx,__read:Gt,__rest:Wr,__spread:dt,__spreadArrays:hx,__values:Be},Symbol.toStringTag,{value:"Module"})),un=or(Sx);var To={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.MAX_HASHABLE_LENGTH=Xe.INIT=Xe.KEY=Xe.DIGEST_LENGTH=Xe.BLOCK_SIZE=void 0;Xe.BLOCK_SIZE=64;Xe.DIGEST_LENGTH=32;Xe.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Xe.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Xe.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.RawSha256=void 0;var ft=Xe,Ex=function(){function e(){this.state=Int32Array.from(ft.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,a=n.byteLength;if(this.bytesHashed+=a,this.bytesHashed*8>ft.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;a>0;)this.buffer[this.bufferLength++]=n[t++],a--,this.bufferLength===ft.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),a=this.bufferLength;if(t.setUint8(this.bufferLength++,128),a%ft.BLOCK_SIZE>=ft.BLOCK_SIZE-8){for(var s=this.bufferLength;s<ft.BLOCK_SIZE;s++)t.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<ft.BLOCK_SIZE-8;s++)t.setUint8(s,0);t.setUint32(ft.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),t.setUint32(ft.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(ft.DIGEST_LENGTH),s=0;s<8;s++)o[s*4]=this.state[s]>>>24&255,o[s*4+1]=this.state[s]>>>16&255,o[s*4+2]=this.state[s]>>>8&255,o[s*4+3]=this.state[s]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var n=this,t=n.buffer,a=n.state,s=a[0],o=a[1],f=a[2],l=a[3],v=a[4],u=a[5],h=a[6],p=a[7],_=0;_<ft.BLOCK_SIZE;_++){if(_<16)this.temp[_]=(t[_*4]&255)<<24|(t[_*4+1]&255)<<16|(t[_*4+2]&255)<<8|t[_*4+3]&255;else{var w=this.temp[_-2],E=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10;w=this.temp[_-15];var I=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3;this.temp[_]=(E+this.temp[_-7]|0)+(I+this.temp[_-16]|0)}var R=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&u^~v&h)|0)+(p+(ft.KEY[_]+this.temp[_]|0)|0)|0,B=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&f^o&f)|0;p=h,h=u,u=v,v=l+R|0,l=f,f=o,o=s,s=R+B|0}a[0]+=s,a[1]+=o,a[2]+=f,a[3]+=l,a[4]+=v,a[5]+=u,a[6]+=h,a[7]+=p},e}();Co.RawSha256=Ex;var Kg={},Ro={};const xx=e=>{const n=[];for(let t=0,a=e.length;t<a;t++){const s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){const o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(n)},Ax=e=>{let n="";for(let t=0,a=e.length;t<a;t++){const s=e[t];if(s<128)n+=String.fromCharCode(s);else if(192<=s&&s<224){const o=e[++t];n+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){const f="%"+[s,e[++t],e[++t],e[++t]].map(l=>l.toString(16)).join("%");n+=decodeURIComponent(f)}else n+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return n};function Ix(e){return new TextEncoder().encode(e)}function Tx(e){return new TextDecoder("utf-8").decode(e)}const Cx=e=>typeof TextEncoder=="function"?Ix(e):xx(e),Rx=e=>typeof TextDecoder=="function"?Tx(e):Ax(e),Dx=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Cx,toUtf8:Rx},Symbol.toStringTag,{value:"Module"})),Ox=or(Dx);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.convertToBuffer=void 0;var Lx=Ox,Px=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Lx.fromUtf8;function Mx(e){return e instanceof Uint8Array?e:typeof e=="string"?Px(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Ro.convertToBuffer=Mx;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.isEmptyData=void 0;function kx(e){return typeof e=="string"?e.length===0:e.byteLength===0}Do.isEmptyData=kx;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.numToUint8=void 0;function Bx(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Oo.numToUint8=Bx;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.uint32ArrayFrom=void 0;function Nx(e){if(!Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t];return n}return Uint32Array.from(e)}Lo.uint32ArrayFrom=Nx;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var n=Ro;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var t=Do;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return t.isEmptyData}});var a=Oo;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var s=Lo;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})})(Kg);Object.defineProperty(To,"__esModule",{value:!0});To.Sha256=void 0;var Ml=un,lo=Xe,$s=Co,Ks=Kg,Fx=function(){function e(n){if(this.hash=new $s.RawSha256,n){this.outer=new $s.RawSha256;var t=Ux(n),a=new Uint8Array(lo.BLOCK_SIZE);a.set(t);for(var s=0;s<lo.BLOCK_SIZE;s++)t[s]^=54,a[s]^=92;this.hash.update(t),this.outer.update(a);for(var s=0;s<t.byteLength;s++)t[s]=0}}return e.prototype.update=function(n){if(!((0,Ks.isEmptyData)(n)||this.error))try{this.hash.update((0,Ks.convertToBuffer)(n))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,Ml.__awaiter)(this,void 0,void 0,function(){return(0,Ml.__generator)(this,function(n){return[2,this.digestSync()]})})},e}();To.Sha256=Fx;function Ux(e){var n=(0,Ks.convertToBuffer)(e);if(n.byteLength>lo.BLOCK_SIZE){var t=new $s.RawSha256;t.update(n),n=t.digest()}var a=new Uint8Array(lo.BLOCK_SIZE);return a.set(n),a}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=un;(0,n.__exportStar)(To,e)})(Cu);var Gg={},Gs={};for(var Lr=0;Lr<256;Lr++){var Pr=Lr.toString(16).toLowerCase();Pr.length===1&&(Pr="0"+Pr),Gg[Lr]=Pr,Gs[Pr]=Lr}function zx(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var n=new Uint8Array(e.length/2),t=0;t<e.length;t+=2){var a=e.substr(t,2).toLowerCase();if(a in Gs)n[t/2]=Gs[a];else throw new Error("Cannot decode unrecognized sequence "+a+" as hexadecimal")}return n}function Qe(e){for(var n="",t=0;t<e.byteLength;t++)n+=Gg[e[t]];return n}var Br=function(e,n){var t=new Cu.Sha256(e);t.update(n);var a=t.digestSync();return a},Hs=function(e,n){var t=Br(e,n);return Qe(t)},$x=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Kx=function(e){return Object.entries(e).map(function(n){var t,a=$x(n,2),s=a[0],o=a[1];return{key:s.toLowerCase(),value:(t=o==null?void 0:o.trim().replace(/\s+/g," "))!==null&&t!==void 0?t:""}}).sort(function(n,t){return n.key<t.key?-1:1}).map(function(n){return"".concat(n.key,":").concat(n.value,`
`)}).join("")},ps=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},Gx=function(e){return Array.from(e).sort(function(n,t){var a=ps(n,2),s=a[0],o=a[1],f=ps(t,2),l=f[0],v=f[1];return s===l?o<v?-1:1:s<l?-1:1}).map(function(n){var t=ps(n,2),a=t[0],s=t[1];return"".concat(kl(a),"=").concat(kl(s))}).join("&")},kl=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Hx)},Hx=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},Wx=function(e,n){return n===void 0&&(n=!0),e?n?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/"},qx=function(e){if(e==null)return ix;if(jx(e)){var n=Hs(null,e);return n}return ox},jx=function(e){return typeof e=="string"||ArrayBuffer.isView(e)||Vx(e)},Vx=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"},Yx=function(e,n){var t=e.body,a=e.headers,s=e.method,o=e.url;return n===void 0&&(n=!0),[s,Wx(o.pathname,n),Gx(o.searchParams),Kx(a),Fg(a),qx(t)].join(`
`)},Zx=function(e,n,t,a){var s="".concat(rx).concat(e),o=Br(s,n),f=Br(o,t),l=Br(f,a),v=Br(l,zg);return v},Jx=function(e,n,t){return[Tu,e,n,t].join(`
`)},Hg=function(e,n){var t=n.credentialScope,a=n.longDate,s=n.secretAccessKey,o=n.shortDate,f=n.signingRegion,l=n.signingService,v=n.uriEscapePath,u=Yx(e,v),h=Hs(null,u),p=Jx(a,t,h),_=Hs(Zx(s,o,f,l),p);return _},zr=globalThis&&globalThis.__assign||function(){return zr=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zr.apply(this,arguments)},Wg=function(e,n){var t=$g(n),a=t.accessKeyId,s=t.credentialScope,o=t.longDate,f=t.sessionToken,l=zr({},e.headers);l[Us]=e.url.host,l[tx]=o,f&&(l[nx]=f);var v=zr(zr({},e),{headers:l}),u=Hg(v,t),h="Credential=".concat(a,"/").concat(s),p="SignedHeaders=".concat(Fg(l)),_="Signature=".concat(u);return l[ex]="".concat(Tu," ").concat(h,", ").concat(p,", ").concat(_),v},ho=globalThis&&globalThis.__assign||function(){return ho=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ho.apply(this,arguments)},Xx=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t},Qx=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},eA=function(e,n){var t,a,s,o,f=e.body,l=e.method,v=l===void 0?"GET":l,u=e.url,h=n.expiration,p=Xx(n,["expiration"]),_=$g(p),w=_.accessKeyId,E=_.credentialScope,I=_.longDate,R=_.sessionToken,B=new URL(u);Object.entries(ho(ho((t={},t[YE]=Tu,t[ZE]="".concat(w,"/").concat(E),t[Ug]=I,t[QE]=Us,t),h&&(a={},a[JE]=h.toString(),a)),R&&(s={},s[Iu]=R,s))).forEach(function(G){var Y=Qx(G,2),ve=Y[0],le=Y[1];B.searchParams.append(ve,le)});var z={body:f,headers:(o={},o[Us]=u.host,o),method:v,url:B},N=Hg(z,_);return B.searchParams.append(XE,N),B},rr=globalThis&&globalThis.__assign||function(){return rr=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rr.apply(this,arguments)},tA="iotdevicegateway",nA=/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com(.cn)?$/,rA=function(){function e(){}return e.sign=function(n,t,a){if(n.headers=n.headers||{},n.body&&!n.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var s=rr(rr({},n),{body:n.data,url:new URL(n.url)}),o=Bl(s,t,a),f=Wg(s,o);return f.url=f.url.toString(),f.headers.Authorization=f.headers.authorization,f.headers["X-Amz-Security-Token"]=f.headers["x-amz-security-token"],delete f.headers.authorization,delete f.headers["x-amz-security-token"],f},e.signUrl=function(n,t,a,s){var o=typeof n=="object"?n.url:n,f=typeof n=="object"?n.method:"GET",l=typeof n=="object"?n.body:void 0,v={body:l,method:f,url:new URL(o)},u=Bl(v,t,a,s),h=eA(v,u);return t.session_token&&!qg(u.signingService)&&h.searchParams.append(Iu,t.session_token),h.toString()},e}(),Bl=function(e,n,t,a){var s=n??{},o=s.access_key,f=s.secret_key,l=s.session_token,v=iA(e.url),u=v.region,h=v.service,p=t??{},_=p.region,w=_===void 0?u:_,E=p.service,I=E===void 0?h:E,R=rr({accessKeyId:o,secretAccessKey:f},qg(I)?{sessionToken:l}:{});return rr({credentials:R,signingDate:An.getDateWithClockOffset(),signingRegion:w,signingService:I},a&&{expiration:a})},iA=function(e){var n,t=e.host,a=(n=t.match(nA))!==null&&n!==void 0?n:[],s=a.slice(1,3);return s[1]==="es"&&(s=s.reverse()),{service:s[0],region:s[1]}},qg=function(e){return e!==tA},vo=globalThis&&globalThis.__assign||function(){return vo=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vo.apply(this,arguments)},oA=new Ie("Parser"),jg=function(e){var n={};if(e.aws_mobile_analytics_app_id){var t={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=t}(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:e.aws_mandatory_sign_in==="enable",signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"});var a;return e.aws_user_files_s3_bucket?a={AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:a=e?e.Storage||e:{},e.Logging&&(n.Logging=vo(vo({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},a),n.Logging=Object.assign({},n.Logging,e.Logging),oA.debug("parse config",e,"to amplifyconfig",n),n},Ru={},Po={},Qr={},Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.isEmptyData=void 0;function aA(e){return typeof e=="string"?e.length===0:e.byteLength===0}Mo.isEmptyData=aA;var Du={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})(Du);const sA=e=>{const n=[];for(let t=0,a=e.length;t<a;t++){const s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){const o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(n)},uA=e=>{let n="";for(let t=0,a=e.length;t<a;t++){const s=e[t];if(s<128)n+=String.fromCharCode(s);else if(192<=s&&s<224){const o=e[++t];n+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){const f="%"+[s,e[++t],e[++t],e[++t]].map(l=>l.toString(16)).join("%");n+=decodeURIComponent(f)}else n+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return n};function cA(e){return new TextEncoder().encode(e)}function fA(e){return new TextDecoder("utf-8").decode(e)}const lA=e=>typeof TextEncoder=="function"?cA(e):sA(e),dA=e=>typeof TextDecoder=="function"?fA(e):uA(e),hA=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:lA,toUtf8:dA},Symbol.toStringTag,{value:"Module"})),Vg=or(hA),vA={};function gA(){return typeof window<"u"?window:typeof self<"u"?self:vA}const pA=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:gA},Symbol.toStringTag,{value:"Module"})),Ou=or(pA);Object.defineProperty(Qr,"__esModule",{value:!0});Qr.Sha256=void 0;var yA=Mo,Yg=Du,mA=Vg,Ws=Ou,_A=function(){function e(n){n?(this.operation=bA(n).then(function(t){return(0,Ws.locateWindow)().msCrypto.subtle.sign(Yg.SHA_256_HMAC_ALGO,t)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,Ws.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(n){var t=this;(0,yA.isEmptyData)(n)||(this.operation=this.operation.then(function(a){return a.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},a.process(Zg(n)),a}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(n){return new Promise(function(t,a){n.onerror=function(){a(new Error("Error encountered finalizing hash"))},n.oncomplete=function(){n.result&&t(new Uint8Array(n.result)),a(new Error("Error encountered finalizing hash"))},n.finish()})})},e}();Qr.Sha256=_A;function bA(e){return new Promise(function(n,t){var a=(0,Ws.locateWindow)().msCrypto.subtle.importKey("raw",Zg(e),Yg.SHA_256_HMAC_ALGO,!1,["sign"]);a.oncomplete=function(){a.result&&n(a.result),t(new Error("ImportKey completed without importing key."))},a.onerror=function(){t(new Error("ImportKey failed to import key."))}})}function Zg(e){return typeof e=="string"?(0,mA.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var ei={},Jg={},ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.convertToBuffer=void 0;var wA=Vg,SA=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:wA.fromUtf8;function EA(e){return e instanceof Uint8Array?e:typeof e=="string"?SA(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}ko.convertToBuffer=EA;var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.isEmptyData=void 0;function xA(e){return typeof e=="string"?e.length===0:e.byteLength===0}Bo.isEmptyData=xA;var No={};Object.defineProperty(No,"__esModule",{value:!0});No.numToUint8=void 0;function AA(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}No.numToUint8=AA;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.uint32ArrayFrom=void 0;function IA(e){if(!Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t];return n}return Uint32Array.from(e)}Fo.uint32ArrayFrom=IA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var n=ko;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var t=Bo;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return t.isEmptyData}});var a=No;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var s=Fo;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})})(Jg);Object.defineProperty(ei,"__esModule",{value:!0});ei.Sha256=void 0;var Ji=Jg,Xi=Du,ys=Ou,TA=function(){function e(n){this.toHash=new Uint8Array(0),n!==void 0&&(this.key=new Promise(function(t,a){(0,ys.locateWindow)().crypto.subtle.importKey("raw",(0,Ji.convertToBuffer)(n),Xi.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,a)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!(0,Ji.isEmptyData)(n)){var t=(0,Ji.convertToBuffer)(n),a=new Uint8Array(this.toHash.byteLength+t.byteLength);a.set(this.toHash,0),a.set(t,this.toHash.byteLength),this.toHash=a}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return(0,ys.locateWindow)().crypto.subtle.sign(Xi.SHA_256_HMAC_ALGO,t,n.toHash).then(function(a){return new Uint8Array(a)})}):(0,Ji.isEmptyData)(this.toHash)?Promise.resolve(Xi.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,ys.locateWindow)().crypto.subtle.digest(Xi.SHA_256_HASH,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e}();ei.Sha256=TA;var Xg={},_t={},Nl;function CA(){if(Nl)return _t;Nl=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.supportsZeroByteGCM=_t.supportsSubtleCrypto=_t.supportsSecureRandom=_t.supportsWebCrypto=void 0;var e=un,n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(f){if(a(f)&&typeof f.crypto.subtle=="object"){var l=f.crypto.subtle;return s(l)}return!1}_t.supportsWebCrypto=t;function a(f){if(typeof f=="object"&&typeof f.crypto=="object"){var l=f.crypto.getRandomValues;return typeof l=="function"}return!1}_t.supportsSecureRandom=a;function s(f){return f&&n.every(function(l){return typeof f[l]=="function"})}_t.supportsSubtleCrypto=s;function o(f){return e.__awaiter(this,void 0,void 0,function(){var l,v;return e.__generator(this,function(u){switch(u.label){case 0:if(!s(f))return[2,!1];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,f.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return l=u.sent(),[4,f.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},l,new Uint8Array(0))];case 3:return v=u.sent(),[2,v.byteLength===16];case 4:return u.sent(),[2,!1];case 5:return[2]}})})}return _t.supportsZeroByteGCM=o,_t}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=un;n.__exportStar(CA(),e)})(Xg);var Qg={},ms={},Fl;function RA(){return Fl||(Fl=1,Object.defineProperty(ms,"__esModule",{value:!0})),ms}var _s={},Ul;function DA(){return Ul||(Ul=1,Object.defineProperty(_s,"__esModule",{value:!0})),_s}var bs={},zl;function OA(){return zl||(zl=1,Object.defineProperty(bs,"__esModule",{value:!0})),bs}var ws={},$l;function LA(){return $l||($l=1,Object.defineProperty(ws,"__esModule",{value:!0})),ws}var Mr={},Kl;function PA(){if(Kl)return Mr;Kl=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function n(a){return"MSInputMethodContext"in a&&"msCrypto"in a}function t(a){if(n(a)&&a.msCrypto.subtle!==void 0){var s=a.msCrypto,o=s.getRandomValues,f=s.subtle;return e.map(function(l){return f[l]}).concat(o).every(function(l){return typeof l=="function"})}return!1}return Mr.isMsWindow=t,Mr}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=un;n.__exportStar(RA(),e),n.__exportStar(DA(),e),n.__exportStar(OA(),e),n.__exportStar(LA(),e),n.__exportStar(PA(),e)})(Qg);Object.defineProperty(Po,"__esModule",{value:!0});Po.Sha256=void 0;var MA=Qr,kA=ei,BA=Cu,NA=Xg,FA=Qg,Gl=Ou,UA=function(){function e(n){(0,NA.supportsWebCrypto)((0,Gl.locateWindow)())?this.hash=new kA.Sha256(n):(0,FA.isMsWindow)((0,Gl.locateWindow)())?this.hash=new MA.Sha256(n):this.hash=new BA.Sha256(n)}return e.prototype.update=function(n,t){this.hash.update(n,t)},e.prototype.digest=function(){return this.hash.digest()},e}();Po.Sha256=UA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var n=un;(0,n.__exportStar)(Po,e);var t=Qr;Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return t.Sha256}});var a=ei;Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return a.Sha256}})})(Ru);var Hl=function(){function e(n){this.statusCode=n.statusCode,this.headers=n.headers||{},this.body=n.body}return e.isInstance=function(n){if(!n)return!1;var t=n;return typeof t.statusCode=="number"&&typeof t.headers=="object"},e}(),an=function(){function e(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.substr(-1)!==":"?n.protocol+":":n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?"/"+n.path:n.path:"/"}return e.isInstance=function(n){if(!n)return!1;var t=n;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"},e.prototype.clone=function(){var n=new e($($({},this),{headers:$({},this.headers)}));return n.query&&(n.query=zA(n.query)),n},e}();function zA(e){return Object.keys(e).reduce(function(n,t){var a,s=e[t];return $($({},n),(a={},a[t]=Array.isArray(s)?dt(s):s,a))},{})}var Ss=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,$A)},$A=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function KA(e){var n,t,a=[];try{for(var s=Be(Object.keys(e).sort()),o=s.next();!o.done;o=s.next()){var f=o.value,l=e[f];if(f=Ss(f),Array.isArray(l))for(var v=0,u=l.length;v<u;v++)a.push(f+"="+Ss(l[v]));else{var h=f;(l||typeof l=="string")&&(h+="="+Ss(l)),a.push(h)}}}catch(p){n={error:p}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return a.join("&")}function GA(e){return e===void 0&&(e=0),new Promise(function(n,t){e&&setTimeout(function(){var a=new Error("Request did not complete within "+e+" ms");a.name="TimeoutError",t(a)},e)})}var e0=function(){function e(n){var t=n===void 0?{}:n,a=t.requestTimeout;this.requestTimeout=a}return e.prototype.destroy=function(){},e.prototype.handle=function(n,t){var a=t===void 0?{}:t,s=a.abortSignal,o=this.requestTimeout;if(s!=null&&s.aborted){var f=new Error("Request aborted");return f.name="AbortError",Promise.reject(f)}var l=n.path;if(n.query){var v=KA(n.query);v&&(l+="?"+v)}var u=n.port,h=n.method,p=n.protocol+"//"+n.hostname+(u?":"+u:"")+l,_=h==="GET"||h==="HEAD"?void 0:n.body,w={body:_,headers:new Headers(n.headers),method:h};typeof AbortController<"u"&&(w.signal=s);var E=new Request(p,w),I=[fetch(E).then(function(R){var B,z,N=R.headers,G={};try{for(var Y=Be(N.entries()),ve=Y.next();!ve.done;ve=Y.next()){var le=ve.value;G[le[0]]=le[1]}}catch(Et){B={error:Et}}finally{try{ve&&!ve.done&&(z=Y.return)&&z.call(Y)}finally{if(B)throw B.error}}var Se=R.body!==void 0;return Se?{response:new Hl({headers:G,statusCode:R.status,body:R.body})}:R.blob().then(function(Et){return{response:new Hl({headers:G,statusCode:R.status,body:Et})}})}),GA(o)];return s&&I.push(new Promise(function(R,B){s.onabort=function(){var z=new Error("Request aborted");z.name="AbortError",B(z)}})),Promise.race(I)},e}(),On={},ar=new Array(64);for(var De=0,jr="A".charCodeAt(0),Lu="Z".charCodeAt(0);De+jr<=Lu;De++){var sn=String.fromCharCode(De+jr);On[sn]=De,ar[De]=sn}for(var De=0,jr="a".charCodeAt(0),Lu="z".charCodeAt(0);De+jr<=Lu;De++){var sn=String.fromCharCode(De+jr),Vr=De+26;On[sn]=Vr,ar[Vr]=sn}for(var De=0;De<10;De++){On[De.toString(10)]=De+52;var sn=De.toString(10),Vr=De+52;On[sn]=Vr,ar[Vr]=sn}On["+"]=62;ar[62]="+";On["/"]=63;ar[63]="/";var er=6,$r=8,HA=63;function Pu(e){var n=e.length/4*3;e.substr(-2)==="=="?n-=2:e.substr(-1)==="="&&n--;for(var t=new ArrayBuffer(n),a=new DataView(t),s=0;s<e.length;s+=4){for(var o=0,f=0,l=s,v=s+3;l<=v;l++)e[l]!=="="?(o|=On[e[l]]<<(v-l)*er,f+=er):o>>=er;var u=s/4*3;o>>=f%$r;for(var h=Math.floor(f/$r),p=0;p<h;p++){var _=(h-p-1)*$r;a.setUint8(u+p,(o&255<<_)>>_)}}return new Uint8Array(t)}function t0(e){for(var n="",t=0;t<e.length;t+=3){for(var a=0,s=0,o=t,f=Math.min(t+3,e.length);o<f;o++)a|=e[o]<<(f-o-1)*$r,s+=$r;var l=Math.ceil(s/er);a<<=l*er-s;for(var v=1;v<=l;v++){var u=(l-v)*er;n+=ar[(a&HA<<u)>>u]}n+="==".slice(0,4-l)}return n}var n0=function(e){return typeof Blob=="function"&&e instanceof Blob?WA(e):qA(e)};function WA(e){return V(this,void 0,void 0,function(){var n,t;return j(this,function(a){switch(a.label){case 0:return[4,jA(e)];case 1:return n=a.sent(),t=Pu(n),[2,new Uint8Array(t)]}})})}function qA(e){return V(this,void 0,void 0,function(){var n,t,a,s,o,f,l;return j(this,function(v){switch(v.label){case 0:n=new Uint8Array(0),t=e.getReader(),a=!1,v.label=1;case 1:return a?[3,3]:[4,t.read()];case 2:return s=v.sent(),o=s.done,f=s.value,f&&(l=n,n=new Uint8Array(l.length+f.length),n.set(l),n.set(f,l.length)),a=o,[3,1];case 3:return[2,n]}})})}function jA(e){return new Promise(function(n,t){var a=new FileReader;a.onloadend=function(){var s;if(a.readyState!==2)return t(new Error("Reader aborted too early"));var o=(s=a.result)!==null&&s!==void 0?s:"",f=o.indexOf(","),l=f>-1?f+1:o.length;n(o.substring(l))},a.onabort=function(){return t(new Error("Read aborted"))},a.onerror=function(){return t(a.error)},a.readAsDataURL(e)})}var r0=function(e){return function(){return Promise.reject(e)}},VA=function(e){return function(n,t){return function(a){return V(void 0,void 0,void 0,function(){var s;return j(this,function(o){return!((s=e==null?void 0:e.retryStrategy)===null||s===void 0)&&s.mode&&(t.userAgent=dt(t.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(n,a)]})})}}},YA={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},i0=function(e){return{applyToStack:function(n){n.add(VA(e),YA)}}},ZA=100,JA=20*1e3,XA=500,QA=500,e2=5,t2=10,n2=1,r2="amz-sdk-invocation-id",i2="amz-sdk-request",o2=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],a2=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],s2=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],u2=[500,502,503,504],c2=function(e){return e.$retryable!==void 0},f2=function(e){return o2.includes(e.name)},o0=function(e){var n,t;return((n=e.$metadata)===null||n===void 0?void 0:n.httpStatusCode)===429||a2.includes(e.name)||((t=e.$retryable)===null||t===void 0?void 0:t.throttling)==!0},l2=function(e){var n;return s2.includes(e.name)||u2.includes(((n=e.$metadata)===null||n===void 0?void 0:n.httpStatusCode)||0)},qs={exports:{}},Wl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(Wl){var ql=new Uint8Array(16);qs.exports=function(){return Wl(ql),ql}}else{var jl=new Array(16);qs.exports=function(){for(var n=0,t;n<16;n++)n&3||(t=Math.random()*4294967296),jl[n]=t>>>((n&3)<<3)&255;return jl}}var a0=qs.exports,s0=[];for(var Qi=0;Qi<256;++Qi)s0[Qi]=(Qi+256).toString(16).substr(1);function d2(e,n){var t=n||0,a=s0;return[a[e[t++]],a[e[t++]],a[e[t++]],a[e[t++]],"-",a[e[t++]],a[e[t++]],"-",a[e[t++]],a[e[t++]],"-",a[e[t++]],a[e[t++]],"-",a[e[t++]],a[e[t++]],a[e[t++]],a[e[t++]],a[e[t++]],a[e[t++]]].join("")}var u0=d2,h2=a0,v2=u0,Vl,Es,xs=0,As=0;function g2(e,n,t){var a=n&&t||0,s=n||[];e=e||{};var o=e.node||Vl,f=e.clockseq!==void 0?e.clockseq:Es;if(o==null||f==null){var l=h2();o==null&&(o=Vl=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),f==null&&(f=Es=(l[6]<<8|l[7])&16383)}var v=e.msecs!==void 0?e.msecs:new Date().getTime(),u=e.nsecs!==void 0?e.nsecs:As+1,h=v-xs+(u-As)/1e4;if(h<0&&e.clockseq===void 0&&(f=f+1&16383),(h<0||v>xs)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");xs=v,As=u,Es=f,v+=122192928e5;var p=((v&268435455)*1e4+u)%4294967296;s[a++]=p>>>24&255,s[a++]=p>>>16&255,s[a++]=p>>>8&255,s[a++]=p&255;var _=v/4294967296*1e4&268435455;s[a++]=_>>>8&255,s[a++]=_&255,s[a++]=_>>>24&15|16,s[a++]=_>>>16&255,s[a++]=f>>>8|128,s[a++]=f&255;for(var w=0;w<6;++w)s[a+w]=o[w];return n||v2(s)}var p2=g2,y2=a0,m2=u0;function _2(e,n,t){var a=n&&t||0;typeof e=="string"&&(n=e==="binary"?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||y2)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,n)for(var o=0;o<16;++o)n[a+o]=s[o];return n||m2(s)}var b2=_2,w2=p2,c0=b2,Mu=c0;Mu.v1=w2;Mu.v4=c0;var tn=Mu,S2=function(e){var n=e,t=e,a=function(l){return l.name==="TimeoutError"?t2:e2},s=function(l){return a(l)<=t},o=function(l){if(!s(l))throw new Error("No retry token available");var v=a(l);return t-=v,v},f=function(l){t+=l??n2,t=Math.min(t,n)};return Object.freeze({hasRetryTokens:s,retrieveRetryTokens:o,releaseRetryTokens:f})},E2=function(e,n){return Math.floor(Math.min(JA,Math.random()*Math.pow(2,n)*e))},x2=function(e){return e?c2(e)||f2(e)||o0(e)||l2(e):!1},Uo=3,A2="standard",I2=function(){function e(n,t){var a,s,o;this.maxAttemptsProvider=n,this.mode=A2,this.retryDecider=(a=t==null?void 0:t.retryDecider)!==null&&a!==void 0?a:x2,this.delayDecider=(s=t==null?void 0:t.delayDecider)!==null&&s!==void 0?s:E2,this.retryQuota=(o=t==null?void 0:t.retryQuota)!==null&&o!==void 0?o:S2(QA)}return e.prototype.shouldRetry=function(n,t,a){return t<a&&this.retryDecider(n)&&this.retryQuota.hasRetryTokens(n)},e.prototype.getMaxAttempts=function(){return V(this,void 0,void 0,function(){var n;return j(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return n=t.sent(),[3,3];case 2:return t.sent(),n=Uo,[3,3];case 3:return[2,n]}})})},e.prototype.retry=function(n,t){return V(this,void 0,void 0,function(){var a,s,o,f,l,v,u,h;return j(this,function(p){switch(p.label){case 0:return s=0,o=0,[4,this.getMaxAttempts()];case 1:f=p.sent(),l=t.request,an.isInstance(l)&&(l.headers[r2]=tn.v4()),v=function(){var _,w,E,I,R;return j(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,,5]),an.isInstance(l)&&(l.headers[i2]="attempt="+(s+1)+"; max="+f),[4,n(t)];case 1:return _=B.sent(),w=_.response,E=_.output,u.retryQuota.releaseRetryTokens(a),E.$metadata.attempts=s+1,E.$metadata.totalRetryDelay=o,[2,{value:{response:w,output:E}}];case 2:return I=B.sent(),s++,u.shouldRetry(I,s,f)?(a=u.retryQuota.retrieveRetryTokens(I),R=u.delayDecider(o0(I)?XA:ZA,s),o+=R,[4,new Promise(function(z){return setTimeout(z,R)})]):[3,4];case 3:return B.sent(),[2,"continue"];case 4:throw I.$metadata||(I.$metadata={}),I.$metadata.attempts=s,I.$metadata.totalRetryDelay=o,I;case 5:return[2]}})},u=this,p.label=2;case 2:return[5,v()];case 3:return h=p.sent(),typeof h=="object"?[2,h.value]:[3,2];case 4:return[2]}})})},e}(),f0=function(e){var n=T2(e.maxAttempts);return $($({},e),{maxAttempts:n,retryStrategy:e.retryStrategy||new I2(n)})},T2=function(e){if(e===void 0&&(e=Uo),typeof e=="number"){var n=Promise.resolve(e);return function(){return n}}return e};function l0(e){if(typeof e=="string"){for(var n=e.length,t=n-1;t>=0;t--){var a=e.charCodeAt(t);a>127&&a<=2047?n++:a>2047&&a<=65535&&(n+=2)}return n}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}}const C2={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},d0={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},we={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},$e={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},nn={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class M{static getFirstMatch(n,t){const a=t.match(n);return a&&a.length>0&&a[1]||""}static getSecondMatch(n,t){const a=t.match(n);return a&&a.length>1&&a[2]||""}static matchAndReturnConst(n,t,a){if(n.test(t))return a}static getWindowsVersionName(n){switch(n){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(n){const t=n.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(n){const t=n.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(n){return n.split(".").length}static compareVersions(n,t,a=!1){const s=M.getVersionPrecision(n),o=M.getVersionPrecision(t);let f=Math.max(s,o),l=0;const v=M.map([n,t],u=>{const h=f-M.getVersionPrecision(u),p=u+new Array(h+1).join(".0");return M.map(p.split("."),_=>new Array(20-_.length).join("0")+_).reverse()});for(a&&(l=f-Math.min(s,o)),f-=1;f>=l;){if(v[0][f]>v[1][f])return 1;if(v[0][f]===v[1][f]){if(f===l)return 0;f-=1}else if(v[0][f]<v[1][f])return-1}}static map(n,t){const a=[];let s;if(Array.prototype.map)return Array.prototype.map.call(n,t);for(s=0;s<n.length;s+=1)a.push(t(n[s]));return a}static find(n,t){let a,s;if(Array.prototype.find)return Array.prototype.find.call(n,t);for(a=0,s=n.length;a<s;a+=1){const o=n[a];if(t(o,a))return o}}static assign(n,...t){const a=n;let s,o;if(Object.assign)return Object.assign(n,...t);for(s=0,o=t.length;s<o;s+=1){const f=t[s];typeof f=="object"&&f!==null&&Object.keys(f).forEach(v=>{a[v]=f[v]})}return n}static getBrowserAlias(n){return C2[n]}static getBrowserTypeByAlias(n){return d0[n]||""}}const ce=/version\/(\d+(\.?_?\d+)+)/i,R2=[{test:[/googlebot/i],describe(e){const n={name:"Googlebot"},t=M.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/opera/i],describe(e){const n={name:"Opera"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opr\/|opios/i],describe(e){const n={name:"Opera"},t=M.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/SamsungBrowser/i],describe(e){const n={name:"Samsung Internet for Android"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Whale/i],describe(e){const n={name:"NAVER Whale Browser"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MZBrowser/i],describe(e){const n={name:"MZ Browser"},t=M.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/focus/i],describe(e){const n={name:"Focus"},t=M.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/swing/i],describe(e){const n={name:"Swing"},t=M.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/coast/i],describe(e){const n={name:"Opera Coast"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const n={name:"Opera Touch"},t=M.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/yabrowser/i],describe(e){const n={name:"Yandex Browser"},t=M.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/ucbrowser/i],describe(e){const n={name:"UC Browser"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Maxthon|mxios/i],describe(e){const n={name:"Maxthon"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/epiphany/i],describe(e){const n={name:"Epiphany"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/puffin/i],describe(e){const n={name:"Puffin"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sleipnir/i],describe(e){const n={name:"Sleipnir"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/k-meleon/i],describe(e){const n={name:"K-Meleon"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/micromessenger/i],describe(e){const n={name:"WeChat"},t=M.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/qqbrowser/i],describe(e){const n={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},t=M.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/msie|trident/i],describe(e){const n={name:"Internet Explorer"},t=M.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/\sedg\//i],describe(e){const n={name:"Microsoft Edge"},t=M.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/edg([ea]|ios)/i],describe(e){const n={name:"Microsoft Edge"},t=M.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/vivaldi/i],describe(e){const n={name:"Vivaldi"},t=M.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/seamonkey/i],describe(e){const n={name:"SeaMonkey"},t=M.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sailfish/i],describe(e){const n={name:"Sailfish"},t=M.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return t&&(n.version=t),n}},{test:[/silk/i],describe(e){const n={name:"Amazon Silk"},t=M.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/phantom/i],describe(e){const n={name:"PhantomJS"},t=M.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/slimerjs/i],describe(e){const n={name:"SlimerJS"},t=M.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n={name:"BlackBerry"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const n={name:"WebOS Browser"},t=M.getFirstMatch(ce,e)||M.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/bada/i],describe(e){const n={name:"Bada"},t=M.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/tizen/i],describe(e){const n={name:"Tizen"},t=M.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/qupzilla/i],describe(e){const n={name:"QupZilla"},t=M.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/firefox|iceweasel|fxios/i],describe(e){const n={name:"Firefox"},t=M.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/electron/i],describe(e){const n={name:"Electron"},t=M.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MiuiBrowser/i],describe(e){const n={name:"Miui"},t=M.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/chromium/i],describe(e){const n={name:"Chromium"},t=M.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/chrome|crios|crmo/i],describe(e){const n={name:"Chrome"},t=M.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/GSA/i],describe(e){const n={name:"Google Search"},t=M.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n={name:"Android Browser"},t=M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/playstation 4/i],describe(e){const n={name:"PlayStation 4"},t=M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/safari|applewebkit/i],describe(e){const n={name:"Safari"},t=M.getFirstMatch(ce,e);return t&&(n.version=t),n}},{test:[/.*/i],describe(e){const n=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,s=e.search("\\(")!==-1?t:n;return{name:M.getFirstMatch(s,e),version:M.getSecondMatch(s,e)}}}],D2=[{test:[/Roku\/DVP/],describe(e){const n=M.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:$e.Roku,version:n}}},{test:[/windows phone/i],describe(e){const n=M.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:$e.WindowsPhone,version:n}}},{test:[/windows /i],describe(e){const n=M.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),t=M.getWindowsVersionName(n);return{name:$e.Windows,version:n,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const n={name:$e.iOS},t=M.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return t&&(n.version=t),n}},{test:[/macintosh/i],describe(e){const n=M.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),t=M.getMacOSVersionName(n),a={name:$e.MacOS,version:n};return t&&(a.versionName=t),a}},{test:[/(ipod|iphone|ipad)/i],describe(e){const n=M.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:$e.iOS,version:n}}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n=M.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),t=M.getAndroidVersionName(n),a={name:$e.Android,version:n};return t&&(a.versionName=t),a}},{test:[/(web|hpw)[o0]s/i],describe(e){const n=M.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),t={name:$e.WebOS};return n&&n.length&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n=M.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||M.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||M.getFirstMatch(/\bbb(\d+)/i,e);return{name:$e.BlackBerry,version:n}}},{test:[/bada/i],describe(e){const n=M.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:$e.Bada,version:n}}},{test:[/tizen/i],describe(e){const n=M.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:$e.Tizen,version:n}}},{test:[/linux/i],describe(){return{name:$e.Linux}}},{test:[/CrOS/],describe(){return{name:$e.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const n=M.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:$e.PlayStation4,version:n}}}],O2=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const n=M.getFirstMatch(/(can-l01)/i,e)&&"Nova",t={type:we.mobile,vendor:"Huawei"};return n&&(t.model=n),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:we.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:we.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:we.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:we.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:we.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:we.tablet}}},{test(e){const n=e.test(/ipod|iphone/i),t=e.test(/like (ipod|iphone)/i);return n&&!t},describe(e){const n=M.getFirstMatch(/(ipod|iphone)/i,e);return{type:we.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:we.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:we.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:we.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:we.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:we.mobile,vendor:"Microsoft"}}},{test(e){const n=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&n>=3},describe(){return{type:we.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:we.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:we.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:we.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:we.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:we.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:we.tv}}}],L2=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:nn.Blink};const t=M.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:nn.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const n={name:nn.Trident},t=M.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){return e.test(/presto/i)},describe(e){const n={name:nn.Presto},t=M.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=e.test(/gecko/i),t=e.test(/like gecko/i);return n&&!t},describe(e){const n={name:nn.Gecko},t=M.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:nn.Blink}}},{test:[/(apple)?webkit/i],describe(e){const n={name:nn.WebKit},t=M.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}}];class Yl{constructor(n,t=!1){if(n==null||n==="")throw new Error("UserAgent parameter can't be empty");this._ua=n,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(n){return n.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const n=M.find(R2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(a=>this.test(a));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(n){return n?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const n=M.find(D2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(a=>this.test(a));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os}getOSName(n){const{name:t}=this.getOS();return n?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(n=!1){const{type:t}=this.getPlatform();return n?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const n=M.find(O2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(a=>this.test(a));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(n){return n?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const n=M.find(L2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(a=>this.test(a));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return M.assign({},this.parsedResult)}satisfies(n){const t={};let a=0;const s={};let o=0;if(Object.keys(n).forEach(l=>{const v=n[l];typeof v=="string"?(s[l]=v,o+=1):typeof v=="object"&&(t[l]=v,a+=1)}),a>0){const l=Object.keys(t),v=M.find(l,h=>this.isOS(h));if(v){const h=this.satisfies(t[v]);if(h!==void 0)return h}const u=M.find(l,h=>this.isPlatform(h));if(u){const h=this.satisfies(t[u]);if(h!==void 0)return h}}if(o>0){const l=Object.keys(s),v=M.find(l,u=>this.isBrowser(u,!0));if(v!==void 0)return this.compareVersion(s[v])}}isBrowser(n,t=!1){const a=this.getBrowserName().toLowerCase();let s=n.toLowerCase();const o=M.getBrowserTypeByAlias(s);return t&&o&&(s=o.toLowerCase()),s===a}compareVersion(n){let t=[0],a=n,s=!1;const o=this.getBrowserVersion();if(typeof o=="string")return n[0]===">"||n[0]==="<"?(a=n.substr(1),n[1]==="="?(s=!0,a=n.substr(2)):t=[],n[0]===">"?t.push(1):t.push(-1)):n[0]==="="?a=n.substr(1):n[0]==="~"&&(s=!0,a=n.substr(1)),t.indexOf(M.compareVersions(o,a,s))>-1}isOS(n){return this.getOSName(!0)===String(n).toLowerCase()}isPlatform(n){return this.getPlatformType(!0)===String(n).toLowerCase()}isEngine(n){return this.getEngineName(!0)===String(n).toLowerCase()}is(n,t=!1){return this.isBrowser(n,t)||this.isOS(n)||this.isPlatform(n)}some(n=[]){return n.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class P2{static getParser(n,t=!1){if(typeof n!="string")throw new Error("UserAgent should be a string");return new Yl(n,t)}static parse(n){return new Yl(n).getResult()}static get BROWSER_MAP(){return d0}static get ENGINE_MAP(){return nn}static get OS_MAP(){return $e}static get PLATFORMS_MAP(){return we}}var h0=function(e){var n=e.serviceId,t=e.clientVersion;return function(){return V(void 0,void 0,void 0,function(){var a,s,o,f,l,v,u,h,p;return j(this,function(_){return a=!((o=window==null?void 0:window.navigator)===null||o===void 0)&&o.userAgent?P2.parse(window.navigator.userAgent):void 0,s=[["aws-sdk-js",t],["os/"+(((f=a==null?void 0:a.os)===null||f===void 0?void 0:f.name)||"other"),(l=a==null?void 0:a.os)===null||l===void 0?void 0:l.version],["lang/js"],["md/browser",((u=(v=a==null?void 0:a.browser)===null||v===void 0?void 0:v.name)!==null&&u!==void 0?u:"unknown")+"_"+((p=(h=a==null?void 0:a.browser)===null||h===void 0?void 0:h.version)!==null&&p!==void 0?p:"unknown")]],n&&s.push(["api/"+n,t]),[2,s]})})}},M2=function(e){for(var n=[],t=0,a=e.length;t<a;t++){var s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){var o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(n)},k2=function(e){for(var n="",t=0,a=e.length;t<a;t++){var s=e[t];if(s<128)n+=String.fromCharCode(s);else if(192<=s&&s<224){var o=e[++t];n+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){var f=[s,e[++t],e[++t],e[++t]],l="%"+f.map(function(v){return v.toString(16)}).join("%");n+=decodeURIComponent(l)}else n+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return n};function B2(e){return new TextEncoder().encode(e)}function N2(e){return new TextDecoder("utf-8").decode(e)}var zo=function(e){return typeof TextEncoder=="function"?B2(e):M2(e)},v0=function(e){return typeof TextDecoder=="function"?N2(e):k2(e)};function F2(e){var n,t,a={};if(e=e.replace(/^\?/,""),e)try{for(var s=Be(e.split("&")),o=s.next();!o.done;o=s.next()){var f=o.value,l=Gt(f.split("="),2),v=l[0],u=l[1],h=u===void 0?null:u;v=decodeURIComponent(v),h&&(h=decodeURIComponent(h)),v in a?Array.isArray(a[v])?a[v].push(h):a[v]=[a[v],h]:a[v]=h}}catch(p){n={error:p}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return a}var g0=function(e){var n=new URL(e),t=n.hostname,a=n.pathname,s=n.port,o=n.protocol,f=n.search,l;return f&&(l=F2(f)),{hostname:t,port:s?parseInt(s):void 0,protocol:o,path:a,query:l}},p0=function(e){var n;return $($({},e),{tls:(n=e.tls)!==null&&n!==void 0?n:!0,endpoint:e.endpoint?U2(e):function(){return z2(e)},isCustomEndpoint:!!e.endpoint})},U2=function(e){var n=e.endpoint,t=e.urlParser;if(typeof n=="string"){var a=Promise.resolve(t(n));return function(){return a}}else if(typeof n=="object"){var s=Promise.resolve(n);return function(){return s}}return n},z2=function(e){return V(void 0,void 0,void 0,function(){var n,t,a,s,o,f;return j(this,function(l){switch(l.label){case 0:return n=e.tls,t=n===void 0?!0:n,[4,e.region()];case 1:if(a=l.sent(),s=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!s.test(a))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(a)];case 2:if(o=((f=l.sent())!==null&&f!==void 0?f:{}).hostname,!o)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((t?"https:":"http:")+"//"+o)]}})})},y0=function(e){if(!e.region)throw new Error("Region is missing");return $($({},e),{region:$2(e.region)})},$2=function(e){if(typeof e=="string"){var n=Promise.resolve(e);return function(){return n}}return e},Zl="content-length";function K2(e){var n=this;return function(t){return function(a){return V(n,void 0,void 0,function(){var s,o,f,l,v;return j(this,function(u){return s=a.request,an.isInstance(s)&&(o=s.body,f=s.headers,o&&Object.keys(f).map(function(h){return h.toLowerCase()}).indexOf(Zl)===-1&&(l=e(o),l!==void 0&&(s.headers=$($({},s.headers),(v={},v[Zl]=String(l),v))))),[2,t($($({},a),{request:s}))]})})}}}var G2={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},m0=function(e){return{applyToStack:function(n){n.add(K2(e.bodyLengthChecker),G2)}}};var H2=function(e){return function(n){return function(t){return V(void 0,void 0,void 0,function(){var a,s,o;return j(this,function(f){return an.isInstance(t.request)?(a=t.request,s=(e.requestHandler.metadata||{}).handlerProtocol,o=s===void 0?"":s,o.indexOf("h2")>=0&&!a.headers[":authority"]?(delete a.headers.host,a.headers[":authority"]=""):a.headers.host||(a.headers.host=a.hostname),[2,n(t)]):[2,n(t)]})})}}},W2={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},_0=function(e){return{applyToStack:function(n){n.add(H2(e),W2)}}},q2=function(){return function(e,n){return function(t){return V(void 0,void 0,void 0,function(){var a,s,o,f,l,v,u,h,p;return j(this,function(_){switch(_.label){case 0:return a=n.clientName,s=n.commandName,o=n.inputFilterSensitiveLog,f=n.logger,l=n.outputFilterSensitiveLog,[4,e(t)];case 1:return v=_.sent(),f?(typeof f.info=="function"&&(u=v.output,h=u.$metadata,p=Wr(u,["$metadata"]),f.info({clientName:a,commandName:s,input:o(t.input),output:l(p),metadata:h})),[2,v]):[2,v]}})})}}},j2={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},b0=function(e){return{applyToStack:function(n){n.add(q2(),j2)}}},V2="X-Amz-Algorithm",Y2="X-Amz-Credential",w0="X-Amz-Date",Z2="X-Amz-SignedHeaders",J2="X-Amz-Expires",S0="X-Amz-Signature",E0="X-Amz-Security-Token",x0="authorization",A0=w0.toLowerCase(),X2="date",Q2=[x0,A0,X2],eI=S0.toLowerCase(),js="x-amz-content-sha256",tI=E0.toLowerCase(),nI={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},rI=/^proxy-/,iI=/^sec-/,Is="AWS4-HMAC-SHA256",oI="AWS4-HMAC-SHA256-PAYLOAD",aI="UNSIGNED-PAYLOAD",sI=50,I0="aws4_request",uI=60*60*24*7,eo={},Ts=[];function Cs(e,n,t){return e+"/"+n+"/"+t+"/"+I0}var cI=function(e,n,t,a,s){return V(void 0,void 0,void 0,function(){var o,f,l,v,u,h,p,_,w;return j(this,function(E){switch(E.label){case 0:return[4,Jl(e,n.secretAccessKey,n.accessKeyId)];case 1:if(o=E.sent(),f=t+":"+a+":"+s+":"+Qe(o)+":"+n.sessionToken,f in eo)return[2,eo[f]];for(Ts.push(f);Ts.length>sI;)delete eo[Ts.shift()];l="AWS4"+n.secretAccessKey,E.label=2;case 2:E.trys.push([2,7,8,9]),v=Be([t,a,s,I0]),u=v.next(),E.label=3;case 3:return u.done?[3,6]:(h=u.value,[4,Jl(e,l,h)]);case 4:l=E.sent(),E.label=5;case 5:return u=v.next(),[3,3];case 6:return[3,9];case 7:return p=E.sent(),_={error:p},[3,9];case 8:try{u&&!u.done&&(w=v.return)&&w.call(v)}finally{if(_)throw _.error}return[7];case 9:return[2,eo[f]=l]}})})};function Jl(e,n,t){var a=new e(n);return a.update(t),a.digest()}function Xl(e,n,t){var a,s,o=e.headers,f={};try{for(var l=Be(Object.keys(o).sort()),v=l.next();!v.done;v=l.next()){var u=v.value,h=u.toLowerCase();(h in nI||n!=null&&n.has(h)||rI.test(h)||iI.test(h))&&(!t||t&&!t.has(h))||(f[h]=o[u].trim().replace(/\s+/g," "))}}catch(p){a={error:p}}finally{try{v&&!v.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return f}var to=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,fI)},fI=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function lI(e){var n,t,a=e.query,s=a===void 0?{}:a,o=[],f={},l=function(p){if(p.toLowerCase()===eI)return"continue";o.push(p);var _=s[p];typeof _=="string"?f[p]=to(p)+"="+to(_):Array.isArray(_)&&(f[p]=_.slice(0).sort().reduce(function(w,E){return w.concat([to(p)+"="+to(E)])},[]).join("&"))};try{for(var v=Be(Object.keys(s).sort()),u=v.next();!u.done;u=v.next()){var h=u.value;l(h)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(t=v.return)&&t.call(v)}finally{if(n)throw n.error}}return o.map(function(p){return f[p]}).filter(function(p){return p}).join("&")}var dI=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"};function Rs(e,n){var t=e.headers,a=e.body;return V(this,void 0,void 0,function(){var s,o,f,l,v,u,h;return j(this,function(p){switch(p.label){case 0:try{for(s=Be(Object.keys(t)),o=s.next();!o.done;o=s.next())if(f=o.value,f.toLowerCase()===js)return[2,t[f]]}catch(_){u={error:_}}finally{try{o&&!o.done&&(h=s.return)&&h.call(s)}finally{if(u)throw u.error}}return a!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof a=="string"||ArrayBuffer.isView(a)||dI(a)?(l=new n,l.update(a),v=Qe,[4,l.digest()]):[3,3];case 2:return[2,v.apply(void 0,[p.sent()])];case 3:return[2,aI]}})})}function hI(e,n){var t,a;e=e.toLowerCase();try{for(var s=Be(Object.keys(n)),o=s.next();!o.done;o=s.next()){var f=o.value;if(e===f.toLowerCase())return!0}}catch(l){t={error:l}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(t)throw t.error}}return!1}function T0(e){var n=e.headers,t=e.query,a=Wr(e,["headers","query"]);return $($({},a),{headers:$({},n),query:t?vI(t):void 0})}function vI(e){return Object.keys(e).reduce(function(n,t){var a,s=e[t];return $($({},n),(a={},a[t]=Array.isArray(s)?dt(s):s,a))},{})}function gI(e,n){var t,a,s;n===void 0&&(n={});var o=typeof e.clone=="function"?e.clone():T0(e),f=o.headers,l=o.query,v=l===void 0?{}:l;try{for(var u=Be(Object.keys(f)),h=u.next();!h.done;h=u.next()){var p=h.value,_=p.toLowerCase();_.substr(0,6)==="x-amz-"&&!(!((s=n.unhoistableHeaders)===null||s===void 0)&&s.has(_))&&(v[p]=f[p],delete f[p])}}catch(w){t={error:w}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(t)throw t.error}}return $($({},e),{headers:f,query:v})}function Ql(e){var n,t;e=typeof e.clone=="function"?e.clone():T0(e);try{for(var a=Be(Object.keys(e.headers)),s=a.next();!s.done;s=a.next()){var o=s.value;Q2.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(f){n={error:f}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}return e}function pI(e){return yI(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function yI(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var mI=function(){function e(n){var t=n.applyChecksum,a=n.credentials,s=n.region,o=n.service,f=n.sha256,l=n.uriEscapePath,v=l===void 0?!0:l;this.service=o,this.sha256=f,this.uriEscapePath=v,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=_I(s),this.credentialProvider=bI(a)}return e.prototype.presign=function(n,t){return t===void 0&&(t={}),V(this,void 0,void 0,function(){var a,s,o,f,l,v,u,h,p,_,w,E,I,R,B,z,N,G,Y,ve,le,Se,Et,ni;return j(this,function(Ht){switch(Ht.label){case 0:return a=t.signingDate,s=a===void 0?new Date:a,o=t.expiresIn,f=o===void 0?3600:o,l=t.unsignableHeaders,v=t.unhoistableHeaders,u=t.signableHeaders,h=t.signingRegion,p=t.signingService,[4,this.credentialProvider()];case 1:return _=Ht.sent(),h==null?[3,2]:(E=h,[3,4]);case 2:return[4,this.regionProvider()];case 3:E=Ht.sent(),Ht.label=4;case 4:return w=E,I=no(s),R=I.longDate,B=I.shortDate,f>uI?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(z=Cs(B,w,p??this.service),N=gI(Ql(n),{unhoistableHeaders:v}),_.sessionToken&&(N.query[E0]=_.sessionToken),N.query[V2]=Is,N.query[Y2]=_.accessKeyId+"/"+z,N.query[w0]=R,N.query[J2]=f.toString(10),G=Xl(N,l,u),N.query[Z2]=ed(G),Y=N.query,ve=S0,le=this.getSignature,Se=[R,z,this.getSigningKey(_,w,B,p)],Et=this.createCanonicalRequest,ni=[N,G],[4,Rs(n,this.sha256)]);case 5:return[4,le.apply(this,Se.concat([Et.apply(this,ni.concat([Ht.sent()]))]))];case 6:return Y[ve]=Ht.sent(),[2,N]}})})},e.prototype.sign=function(n,t){return V(this,void 0,void 0,function(){return j(this,function(a){return typeof n=="string"?[2,this.signString(n,t)]:n.headers&&n.payload?[2,this.signEvent(n,t)]:[2,this.signRequest(n,t)]})})},e.prototype.signEvent=function(n,t){var a=n.headers,s=n.payload,o=t.signingDate,f=o===void 0?new Date:o,l=t.priorSignature,v=t.signingRegion,u=t.signingService;return V(this,void 0,void 0,function(){var h,p,_,w,E,I,R,B,z,N,G;return j(this,function(Y){switch(Y.label){case 0:return v==null?[3,1]:(p=v,[3,3]);case 1:return[4,this.regionProvider()];case 2:p=Y.sent(),Y.label=3;case 3:return h=p,_=no(f),w=_.shortDate,E=_.longDate,I=Cs(w,h,u??this.service),[4,Rs({headers:{},body:s},this.sha256)];case 4:return R=Y.sent(),B=new this.sha256,B.update(a),N=Qe,[4,B.digest()];case 5:return z=N.apply(void 0,[Y.sent()]),G=[oI,E,I,l,z,R].join(`
`),[2,this.signString(G,{signingDate:f,signingRegion:h,signingService:u})]}})})},e.prototype.signString=function(n,t){var a=t===void 0?{}:t,s=a.signingDate,o=s===void 0?new Date:s,f=a.signingRegion,l=a.signingService;return V(this,void 0,void 0,function(){var v,u,h,p,_,w,E,I;return j(this,function(R){switch(R.label){case 0:return[4,this.credentialProvider()];case 1:return v=R.sent(),f==null?[3,2]:(h=f,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=R.sent(),R.label=4;case 4:return u=h,p=no(o).shortDate,E=(w=this.sha256).bind,[4,this.getSigningKey(v,u,p,l)];case 5:return _=new(E.apply(w,[void 0,R.sent()])),_.update(n),I=Qe,[4,_.digest()];case 6:return[2,I.apply(void 0,[R.sent()])]}})})},e.prototype.signRequest=function(n,t){var a=t===void 0?{}:t,s=a.signingDate,o=s===void 0?new Date:s,f=a.signableHeaders,l=a.unsignableHeaders,v=a.signingRegion,u=a.signingService;return V(this,void 0,void 0,function(){var h,p,_,w,E,I,R,B,z,N,G;return j(this,function(Y){switch(Y.label){case 0:return[4,this.credentialProvider()];case 1:return h=Y.sent(),v==null?[3,2]:(_=v,[3,4]);case 2:return[4,this.regionProvider()];case 3:_=Y.sent(),Y.label=4;case 4:return p=_,w=Ql(n),E=no(o),I=E.longDate,R=E.shortDate,B=Cs(R,p,u??this.service),w.headers[A0]=I,h.sessionToken&&(w.headers[tI]=h.sessionToken),[4,Rs(w,this.sha256)];case 5:return z=Y.sent(),!hI(js,w.headers)&&this.applyChecksum&&(w.headers[js]=z),N=Xl(w,l,f),[4,this.getSignature(I,B,this.getSigningKey(h,p,R,u),this.createCanonicalRequest(w,N,z))];case 6:return G=Y.sent(),w.headers[x0]=Is+" "+("Credential="+h.accessKeyId+"/"+B+", ")+("SignedHeaders="+ed(N)+", ")+("Signature="+G),[2,w]}})})},e.prototype.createCanonicalRequest=function(n,t,a){var s=Object.keys(t).sort();return n.method+`
`+this.getCanonicalPath(n)+`
`+lI(n)+`
`+s.map(function(o){return o+":"+t[o]}).join(`
`)+`

`+s.join(";")+`
`+a},e.prototype.createStringToSign=function(n,t,a){return V(this,void 0,void 0,function(){var s,o;return j(this,function(f){switch(f.label){case 0:return s=new this.sha256,s.update(a),[4,s.digest()];case 1:return o=f.sent(),[2,Is+`
`+n+`
`+t+`
`+Qe(o)]}})})},e.prototype.getCanonicalPath=function(n){var t=n.path;if(this.uriEscapePath){var a=encodeURIComponent(t.replace(/^\//,""));return"/"+a.replace(/%2F/g,"/")}return t},e.prototype.getSignature=function(n,t,a,s){return V(this,void 0,void 0,function(){var o,f,l,v,u;return j(this,function(h){switch(h.label){case 0:return[4,this.createStringToSign(n,t,s)];case 1:return o=h.sent(),v=(l=this.sha256).bind,[4,a];case 2:return f=new(v.apply(l,[void 0,h.sent()])),f.update(o),u=Qe,[4,f.digest()];case 3:return[2,u.apply(void 0,[h.sent()])]}})})},e.prototype.getSigningKey=function(n,t,a,s){return cI(this.sha256,n,a,t,s||this.service)},e}(),no=function(e){var n=pI(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},ed=function(e){return Object.keys(e).sort().join(";")},_I=function(e){if(typeof e=="string"){var n=Promise.resolve(e);return function(){return n}}else return e},bI=function(e){if(typeof e=="object"){var n=Promise.resolve(e);return function(){return n}}else return e};function C0(e){var n=this,t=e.credentials||e.credentialDefaultProvider(e),a=Ds(t),s=e.signingEscapePath,o=s===void 0?!0:s,f=e.systemClockOffset,l=f===void 0?e.systemClockOffset||0:f,v=e.sha256,u;return e.signer?u=Ds(e.signer):u=function(){return Ds(e.region)().then(function(h){return V(n,void 0,void 0,function(){return j(this,function(p){switch(p.label){case 0:return[4,e.regionInfoProvider(h)];case 1:return[2,[p.sent()||{},h]]}})})}).then(function(h){var p=Gt(h,2),_=p[0],w=p[1],E=_.signingRegion,I=_.signingService;return e.signingRegion=e.signingRegion||E||w,e.signingName=e.signingName||I||e.serviceId,new mI({credentials:a,region:e.signingRegion,service:e.signingName,sha256:v,uriEscapePath:o})})},$($({},e),{systemClockOffset:l,signingEscapePath:o,credentials:a,signer:u})}function Ds(e){if(typeof e=="object"){var n=Promise.resolve(e);return function(){return n}}return e}var wI=function(e,n){return Math.abs(SI(n).getTime()-e)>=3e5},SI=function(e){return new Date(Date.now()+e)};function EI(e){return function(n,t){return function(a){return V(this,void 0,void 0,function(){var s,o,f,l,v,u,h,p,_;return j(this,function(w){switch(w.label){case 0:return an.isInstance(a.request)?typeof e.signer!="function"?[3,2]:[4,e.signer()]:[2,n(a)];case 1:return o=w.sent(),[3,3];case 2:o=e.signer,w.label=3;case 3:return s=o,l=n,v=[$({},a)],_={},[4,s.sign(a.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:t.signing_region,signingService:t.signing_service})];case 4:return[4,l.apply(void 0,[$.apply(void 0,v.concat([(_.request=w.sent(),_)]))])];case 5:return f=w.sent(),u=f.response.headers,h=u&&(u.date||u.Date),h&&(p=Date.parse(h),wI(p,e.systemClockOffset)&&(e.systemClockOffset=p-Date.now())),[2,f]}})})}}}var xI={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},R0=function(e){return{applyToStack:function(n){n.addRelativeTo(EI(e),xI)}}};function D0(e){return $($({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var Os="user-agent",AI="x-amz-user-agent",td=" ",II=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,TI=function(e){return function(n,t){return function(a){return V(void 0,void 0,void 0,function(){var s,o,f,l,v,u,h,p;return j(this,function(_){switch(_.label){case 0:return s=a.request,an.isInstance(s)?(o=s.headers,f=((h=t==null?void 0:t.userAgent)===null||h===void 0?void 0:h.map(Ls))||[],[4,e.defaultUserAgentProvider()]):[2,n(a)];case 1:return l=_.sent().map(Ls),v=((p=e==null?void 0:e.customUserAgent)===null||p===void 0?void 0:p.map(Ls))||[],o[AI]=dt(l,f,v).join(td),u=dt(l.filter(function(w){return w.startsWith("aws-sdk-")}),v).join(td),e.runtime!=="browser"&&u&&(o[Os]=o[Os]?o[Os]+" "+u:u),[2,n($($({},a),{request:s}))]}})})}}},Ls=function(e){var n=Gt(e,2),t=n[0],a=n[1],s=t.indexOf("/"),o=t.substring(0,s),f=t.substring(s+1);return o==="api"&&(f=f.toLowerCase()),[o,f,a].filter(function(l){return l&&l.length>0}).map(function(l){return l==null?void 0:l.replace(II,"_")}).join("/")},CI={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},O0=function(e){return{applyToStack:function(n){n.add(TI(e),CI)}}},go=function(){var e=[],n=[],t=new Set,a=function(h){return h.sort(function(p,_){return nd[_.step]-nd[p.step]||rd[_.priority||"normal"]-rd[p.priority||"normal"]})},s=function(h){var p=!1,_=function(w){return w.name&&w.name===h?(p=!0,t.delete(h),!1):!0};return e=e.filter(_),n=n.filter(_),p},o=function(h){var p=!1,_=function(w){return w.middleware===h?(p=!0,w.name&&t.delete(w.name),!1):!0};return e=e.filter(_),n=n.filter(_),p},f=function(h){return e.forEach(function(p){h.add(p.middleware,$({},p))}),n.forEach(function(p){h.addRelativeTo(p.middleware,$({},p))}),h},l=function(h){var p=[];return h.before.forEach(function(_){_.before.length===0&&_.after.length===0?p.push(_):p.push.apply(p,dt(l(_)))}),p.push(h),h.after.reverse().forEach(function(_){_.before.length===0&&_.after.length===0?p.push(_):p.push.apply(p,dt(l(_)))}),p},v=function(){var h=[],p=[],_={};e.forEach(function(E){var I=$($({},E),{before:[],after:[]});I.name&&(_[I.name]=I),h.push(I)}),n.forEach(function(E){var I=$($({},E),{before:[],after:[]});I.name&&(_[I.name]=I),p.push(I)}),p.forEach(function(E){if(E.toMiddleware){var I=_[E.toMiddleware];if(I===void 0)throw new Error(E.toMiddleware+" is not found when adding "+(E.name||"anonymous")+" middleware "+E.relation+" "+E.toMiddleware);E.relation==="after"&&I.after.push(E),E.relation==="before"&&I.before.push(E)}});var w=a(h).map(l).reduce(function(E,I){return E.push.apply(E,dt(I)),E},[]);return w.map(function(E){return E.middleware})},u={add:function(h,p){p===void 0&&(p={});var _=p.name,w=p.override,E=$({step:"initialize",priority:"normal",middleware:h},p);if(_){if(t.has(_)){if(!w)throw new Error("Duplicate middleware name '"+_+"'");var I=e.findIndex(function(B){return B.name===_}),R=e[I];if(R.step!==E.step||R.priority!==E.priority)throw new Error('"'+_+'" middleware with '+R.priority+" priority in "+R.step+" step cannot be "+("overridden by same-name middleware with "+E.priority+" priority in "+E.step+" step."));e.splice(I,1)}t.add(_)}e.push(E)},addRelativeTo:function(h,p){var _=p.name,w=p.override,E=$({middleware:h},p);if(_){if(t.has(_)){if(!w)throw new Error("Duplicate middleware name '"+_+"'");var I=n.findIndex(function(B){return B.name===_}),R=n[I];if(R.toMiddleware!==E.toMiddleware||R.relation!==E.relation)throw new Error('"'+_+'" middleware '+R.relation+' "'+R.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+E.relation+' "'+E.toMiddleware+'" middleware.'));n.splice(I,1)}t.add(_)}n.push(E)},clone:function(){return f(go())},use:function(h){h.applyToStack(u)},remove:function(h){return typeof h=="string"?s(h):o(h)},removeByTag:function(h){var p=!1,_=function(w){var E=w.tags,I=w.name;return E&&E.includes(h)?(I&&t.delete(I),p=!0,!1):!0};return e=e.filter(_),n=n.filter(_),p},concat:function(h){var p=f(go());return p.use(h),p},applyToStack:f,resolve:function(h,p){var _,w;try{for(var E=Be(v().reverse()),I=E.next();!I.done;I=E.next()){var R=I.value;h=R(h,p)}}catch(B){_={error:B}}finally{try{I&&!I.done&&(w=E.return)&&w.call(E)}finally{if(_)throw _.error}}return h}};return u},nd={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},rd={high:3,normal:2,low:1},L0=function(){function e(n){this.middlewareStack=go(),this.config=n}return e.prototype.send=function(n,t,a){var s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:a,f=n.resolveMiddleware(this.middlewareStack,this.config,s);if(o)f(n).then(function(l){return o(null,l.output)},function(l){return o(l)}).catch(function(){});else return f(n).then(function(l){return l.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),P0=function(){function e(){this.middlewareStack=go()}return e}(),po=function(){var e=Object.getPrototypeOf(this).constructor,n=Function.bind.apply(String,dt([null],arguments)),t=new n;return Object.setPrototypeOf(t,e.prototype),t};po.prototype=Object.create(String.prototype,{constructor:{value:po,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(po,String);(function(e){Io(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},n.prototype.toJSON=function(){return e.prototype.toString.call(this)},n.fromObject=function(t){return t instanceof n?t:t instanceof String||typeof t=="string"?new n(t):new n(JSON.stringify(t))},n})(po);var Dt="***SensitiveInformation***",RI=function(e,n){return function(t,a){return function(s){return V(void 0,void 0,void 0,function(){var o,f;return j(this,function(l){switch(l.label){case 0:return[4,t(s)];case 1:return o=l.sent().response,[4,n(o,e)];case 2:return f=l.sent(),[2,{response:o,output:f}]}})})}}},DI=function(e,n){return function(t,a){return function(s){return V(void 0,void 0,void 0,function(){var o;return j(this,function(f){switch(f.label){case 0:return[4,n(s.input,e)];case 1:return o=f.sent(),[2,t($($({},s),{request:o}))]}})})}}},OI={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},LI={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function M0(e,n,t){return{applyToStack:function(a){a.add(RI(e,t),OI),a.add(DI(e,n),LI)}}}var PI=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},MI=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},on=new Ie("CognitoCredentials"),kI=new Promise(function(e,n){if(!St().isBrowser)return on.debug("not in the browser, directly resolved"),e();var t=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(t)return on.debug("google api already loaded"),e();setTimeout(function(){return e()},2e3)}),BI=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return PI(this,void 0,void 0,function(){return MI(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:(on.debug("need to wait for the Google SDK loaded"),[4,kI]);case 1:n.sent(),this.initialized=!0,on.debug("finish waiting"),n.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var n=null;return St().isBrowser&&(n=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),n?new Promise(function(t,a){n.getAuthInstance().then(function(s){s||(on.debug("google Auth undefined"),a(new Rn("google Auth undefined")));var o=s.currentUser.get();o.isSignedIn()?(on.debug("refreshing the google access token"),o.reloadAuthResponse().then(function(f){var l=f.id_token,v=f.expires_at;t({token:l,expires_at:v})}).catch(function(f){f&&f.error==="network_error"?a("Network error reloading google auth response"):a(new Rn("Failed to reload google auth response"))})):a(new Rn("User is not signed in with Google"))}).catch(function(s){on.debug("Failed to refresh google token",s),a(new Rn("Failed to refresh google token"))})}):(on.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),NI=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},FI=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Tn=new Ie("CognitoCredentials"),UI=new Promise(function(e,n){if(!St().isBrowser)return Tn.debug("not in the browser, directly resolved"),e();var t=window.FB;if(t)return Tn.debug("FB SDK already loaded"),e();setTimeout(function(){return e()},2e3)}),zI=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return NI(this,void 0,void 0,function(){return FI(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:(Tn.debug("need to wait for the Facebook SDK loaded"),[4,UI]);case 1:n.sent(),this.initialized=!0,Tn.debug("finish waiting"),n.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var n=null;if(St().isBrowser&&(n=window.FB),!n){var t="no fb sdk available";return Tn.debug(t),Promise.reject(new Rn(t))}return new Promise(function(a,s){n.getLoginStatus(function(o){if(!o||!o.authResponse){var f="no response from facebook when refreshing the jwt token";Tn.debug(f),s(new Rn(f))}else{var l=o.authResponse,v=l.accessToken,u=l.expiresIn,h=new Date,p=u*1e3+h.getTime();if(!v){var f="the jwtToken is undefined";Tn.debug(f),s(new Rn(f))}a({token:v,expires_at:p})}},{scope:"public_profile,email"})})},e}(),$I=new BI,KI=new zI,wn={},GI=function(){function e(){}return e.setItem=function(n,t){return wn[n]=t,wn[n]},e.getItem=function(n){return Object.prototype.hasOwnProperty.call(wn,n)?wn[n]:void 0},e.removeItem=function(n){return delete wn[n]},e.clear=function(){return wn={},wn},e}(),k0=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=GI}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),B0={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},HI={partitions:[B0,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},WI=globalThis&&globalThis.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},N0=function(e){var n,t,a=HI.partitions;try{for(var s=WI(a),o=s.next();!o.done;o=s.next()){var f=o.value,l=f.regions,v=f.outputs,u=f.regionRegex,h=new RegExp(u);if(l.includes(e)||h.test(e))return v.dnsSuffix}}catch(p){n={error:p}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return B0.outputs.dnsSuffix};function qI(e,n){return n=n||{},new Promise(function(t,a){var s=new XMLHttpRequest,o=[],f=[],l={},v=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:v,headers:{keys:function(){return o},entries:function(){return f},get:function(h){return l[h.toLowerCase()]},has:function(h){return h.toLowerCase()in l}}}};for(var u in s.open(n.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(h,p,_){o.push(p=p.toLowerCase()),f.push([p,_]),l[p]=l[p]?l[p]+","+_:_}),t(v())},s.onerror=a,s.withCredentials=n.credentials=="include",n.headers)s.setRequestHeader(u,n.headers[u]);s.send(n.body||null)})}const jI=Object.freeze(Object.defineProperty({__proto__:null,default:qI},Symbol.toStringTag,{value:"Module"})),id=or(jI);self.fetch||(self.fetch=id.default||id);var Ps=function(e){var n;return function(){return n||(n=e()),n}},yo=globalThis&&globalThis.__assign||function(){return yo=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yo.apply(this,arguments)},VI=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},YI=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ZI=function(e){return!["HEAD","GET","DELETE"].includes(e.toUpperCase())},F0=function(e,n){var t=e.url,a=e.method,s=e.headers,o=e.body,f=n.abortSignal;return VI(void 0,void 0,void 0,function(){var l,v,u,h,p,_,w;return YI(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,fetch(t,{method:a,headers:s,body:ZI(a)?o:void 0,signal:f})];case 1:return l=E.sent(),[3,3];case 2:throw v=E.sent(),v instanceof TypeError?new Error("Network error"):v;case 3:return u={},(_=l.headers)===null||_===void 0||_.forEach(function(I,R){u[R.toLowerCase()]=I}),h={statusCode:l.status,headers:u,body:null},p=Object.assign((w=l.body)!==null&&w!==void 0?w:{},{text:Ps(function(){return l.text()}),blob:Ps(function(){return l.blob()}),json:Ps(function(){return l.json()})}),[2,yo(yo({},h),{body:p})]}})})},mo=globalThis&&globalThis.__assign||function(){return mo=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mo.apply(this,arguments)},JI=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},XI=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},QI=3,U0=function(e){var n=e.maxAttempts,t=n===void 0?QI:n,a=e.retryDecider,s=e.computeDelay,o=e.abortSignal;if(t<1)throw new Error("maxAttempts must be greater than 0");return function(f,l){return function(u){var h;return JI(this,void 0,void 0,function(){var p,_,w,E,I,R;return XI(this,function(B){switch(B.label){case 0:_=(h=l.attemptsCount)!==null&&h!==void 0?h:0,E=function(){if(w)return od(w,_),w;throw od(p,_),p},B.label=1;case 1:if(!(!(o!=null&&o.aborted)&&_<t))return[3,11];B.label=2;case 2:return B.trys.push([2,4,,5]),[4,f(u)];case 3:return w=B.sent(),p=void 0,[3,5];case 4:return I=B.sent(),p=I,w=void 0,[3,5];case 5:return _=l.attemptsCount>_?l.attemptsCount:_+1,l.attemptsCount=_,[4,a(w,p)];case 6:return B.sent()?!(o!=null&&o.aborted)&&_<t?(R=s(_),[4,eT(R,o)]):[3,8]:[3,9];case 7:B.sent(),B.label=8;case 8:return[3,1];case 9:return[2,E()];case 10:return[3,1];case 11:if(o!=null&&o.aborted)throw new Error("Request aborted.");return[2,E()]}})})}}},eT=function(e,n){if(n!=null&&n.aborted)return Promise.resolve();var t,a,s=new Promise(function(o){a=o,t=setTimeout(o,e)});return n==null||n.addEventListener("abort",function o(f){clearTimeout(t),n==null||n.removeEventListener("abort",o),a()}),s},od=function(e,n){var t;Object.prototype.toString.call(e)==="[object Object]"&&(e.$metadata=mo(mo({},(t=e.$metadata)!==null&&t!==void 0?t:{}),{attempts:n}))},ad=5*60*1e3,z0=function(e){var n=Ng(ad),t=n(e);return t===!1?ad:t},tT=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],nT=function(e){return tT.includes(e)},rT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},iT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$0=function(e){return function(n,t){return rT(void 0,void 0,void 0,function(){var a,s,o,f;return iT(this,function(l){switch(l.label){case 0:return t==null?[3,1]:(s=t,[3,3]);case 1:return[4,e(n)];case 2:s=l.sent(),l.label=3;case 3:return a=((f=s)!==null&&f!==void 0?f:{}).name,o=n==null?void 0:n.statusCode,[2,uT(t)||sT(o,a)||nT(a)||cT(o,a)]}})})}},oT=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],aT=["TimeoutError","RequestTimeout","RequestTimeoutException"],sT=function(e,n){return e===429||oT.includes(n)},uT=function(e){return(e==null?void 0:e.name)==="Network error"},cT=function(e,n){return[500,502,503,504].includes(e)||aT.includes(n)},fT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},lT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},K0=function(e){var n=e.userAgentHeader,t=n===void 0?"x-amz-user-agent":n,a=e.userAgentValue,s=a===void 0?"":a;return function(o){return function(l){return fT(this,void 0,void 0,function(){var v,u,h;return lT(this,function(p){switch(p.label){case 0:return s.trim().length!==0?[3,2]:[4,o(l)];case 1:return v=p.sent(),[2,v];case 2:return u=t.toLowerCase(),l.headers[u]=l.headers[u]?"".concat(l.headers[u]," ").concat(s):s,[4,o(l)];case 3:return h=p.sent(),[2,h]}})})}}},ku=function(e,n){return function(t,a){for(var s={},o=function(u){return e(u,a)},f=n.length-1;f>=0;f--){var l=n[f],v=l(a);o=v(o,s)}return o(t)}},dT=ku(F0,[K0,U0]),G0=function(e){return new Date(Date.now()+e)},hT=5*60*1e3,vT=function(e,n){return Math.abs(G0(n).getTime()-e)>=hT},gT=function(e,n){return vT(e,n)?e-Date.now():n},pT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},yT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},mT=function(e){var n=e.credentials,t=e.region,a=e.service,s=e.uriEscapePath,o=s===void 0?!0:s,f;return function(l){return function(u){return pT(this,void 0,void 0,function(){var h,p,_,w,E,I;return yT(this,function(R){switch(R.label){case 0:return f=f??0,I={},typeof n!="function"?[3,2]:[4,n()];case 1:return p=R.sent(),[3,3];case 2:p=n,R.label=3;case 3:return h=(I.credentials=p,I.signingDate=G0(f),I.signingRegion=t,I.signingService=a,I.uriEscapePath=o,I),[4,Wg(u,h)];case 4:return _=R.sent(),[4,l(_)];case 5:return w=R.sent(),E=_T(w),E&&(f=gT(Date.parse(E),f)),[2,w]}})})}}},_T=function(e){var n,t,a=e===void 0?{}:e,s=a.headers;return(t=(n=s==null?void 0:s.date)!==null&&n!==void 0?n:s==null?void 0:s.Date)!==null&&t!==void 0?t:s==null?void 0:s["x-amz-date"]},H0=ku(F0,[K0,U0,mT]),Vs=function(e){var n=/[!'()*]/g;return encodeURIComponent(e).replace(n,bT)},bT=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},_o=globalThis&&globalThis.__assign||function(){return _o=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_o.apply(this,arguments)},sr=function(e){var n,t,a=e.headers,s=e.statusCode;return _o(_o({},wT(e)?e.$metadata:{}),{httpStatusCode:s,requestId:(t=(n=a["x-amzn-requestid"])!==null&&n!==void 0?n:a["x-amzn-request-id"])!==null&&t!==void 0?t:a["x-amz-request-id"],extendedRequestId:a["x-amz-id-2"],cfId:a["x-amz-cf-id"]})},wT=function(e){return typeof(e==null?void 0:e.$metadata)=="object"},W0=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},q0=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ST=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),s,o=[],f;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(l){f={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(f)throw f.error}}return o},ur=function(e){return W0(void 0,void 0,void 0,function(){var n,t,a,s,o,f,l,v,u,h;return q0(this,function(p){switch(p.label){case 0:return!e||e.statusCode<300?[2]:[4,ti(e)];case 1:return n=p.sent(),t=function(_){var w=ST(_.toString().split(/[\,\:]+/),1),E=w[0];return E.includes("#")?E.split("#")[1]:E},a=t((v=(l=(f=e.headers["x-amzn-errortype"])!==null&&f!==void 0?f:n.code)!==null&&l!==void 0?l:n.__type)!==null&&v!==void 0?v:"UnknownError"),s=(h=(u=n.message)!==null&&u!==void 0?u:n.Message)!==null&&h!==void 0?h:"Unknown error",o=new Error(s),[2,Object.assign(o,{name:a,$metadata:sr(e)})]}})})},ti=function(e){return W0(void 0,void 0,void 0,function(){var n;return q0(this,function(t){switch(t.label){case 0:if(!e.body)throw new Error("Missing response payload");return[4,e.body.json()];case 1:return n=t.sent(),[2,Object.assign(n,{$metadata:sr(e)})]}})})},ET=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},xT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},AT="cognito-identity",IT=function(e){var n=e.region;return{url:new URL("https://cognito-identity.".concat(n,".").concat(N0(n)))}},TT=function(){return function(e,n){return function(a){return ET(this,void 0,void 0,function(){return xT(this,function(s){return a.headers["cache-control"]="no-store",[2,e(a)]})})}}},j0=ku(dT,[TT]),Bu={service:AT,endpointResolver:IT,retryDecider:$0(ur),computeDelay:z0,userAgentValue:Ao()};Dg(function(){Bu.userAgentValue=Ao()});var V0=function(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}},Y0=function(e,n,t){var a=e.url;return{headers:n,url:a,body:t,method:"POST"}},Kr=globalThis&&globalThis.__assign||function(){return Kr=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kr.apply(this,arguments)},CT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},RT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$o=function(e,n,t,a){return function(s,o){return CT(void 0,void 0,void 0,function(){var f,l,v,u;return RT(this,function(h){switch(h.label){case 0:return f=Kr(Kr({},a),s),[4,f.endpointResolver(f,o)];case 1:return l=h.sent(),[4,n(o,l)];case 2:return v=h.sent(),[4,e(v,Kr({},f))];case 3:return u=h.sent(),[4,t(u)];case 4:return[2,h.sent()]}})})}},DT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},OT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},LT=function(e,n){var t=V0("GetId"),a=JSON.stringify(e);return Y0(n,t,a)},PT=function(e){return DT(void 0,void 0,void 0,function(){var n,t;return OT(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[4,ur(e)]:[3,2];case 1:throw n=a.sent(),n;case 2:return[4,ti(e)];case 3:return t=a.sent(),[2,{IdentityId:t.IdentityId,$metadata:sr(e)}]}})})},ro=$o(j0,LT,PT,Bu),MT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},kT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},BT=function(e,n){var t=V0("GetCredentialsForIdentity"),a=JSON.stringify(e);return Y0(n,t,a)},NT=function(e){return MT(void 0,void 0,void 0,function(){var n,t;return kT(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[4,ur(e)]:[3,2];case 1:throw n=a.sent(),n;case 2:return[4,ti(e)];case 3:return t=a.sent(),[2,{IdentityId:t.IdentityId,Credentials:FT(t.Credentials),$metadata:sr(e)}]}})})},FT=function(e){return e===void 0&&(e={}),{AccessKeyId:e.AccessKeyId,SecretKey:e.SecretKey,SessionToken:e.SessionToken,Expiration:new Date(e.Expiration*1e3)}},io=$o(j0,BT,NT,Bu),bo=globalThis&&globalThis.__assign||function(){return bo=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bo.apply(this,arguments)},Me=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},ke=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},te=new Ie("Credentials"),UT=50*60*1e3,zT="CognitoIdentityId-",$T=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",KT=function(e,n,t){Cn.dispatch("core",{event:e,data:n,message:t},"Credentials",$T)},GT=function(){function e(n){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(n),this._refreshHandlers.google=$I.refreshGoogleToken,this._refreshHandlers.facebook=KI.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(n){if(!n)return this._config||{};this._config=Object.assign({},this._config,n);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=bo(bo({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=new k0().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),KT("credentials_configured",null,"Credentials has been configured successfully"),this._config},e.prototype.get=function(){return te.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(n){return"".concat(zT).concat(n)},e.prototype._pickupCredentials=function(){return te.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(te.debug("getting new cred promise"),this._gettingCredPromise=zE(this._keepAlive())):te.debug("getting old cred promise"),this._gettingCredPromise},e.prototype._keepAlive=function(){return Me(this,void 0,void 0,function(){var n,t,a,s,o,f,l,v;return ke(this,function(u){switch(u.label){case 0:if(te.debug("checking if credentials exists and not expired"),n=this._credentials,n&&!this._isExpired(n)&&!this._isPastTTL())return te.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(n)];if(te.debug("need to get a new credential or refresh the existing one"),t=this.Auth,a=t===void 0?Xr.Auth:t,!a||typeof a.currentUserCredentials!="function")return[2,this._setCredentialsForGuest()];if(!(!this._isExpired(n)&&this._isPastTTL()))return[3,6];te.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,a.currentUserPoolUser()];case 2:return s=u.sent(),[4,a.currentSession()];case 3:return o=u.sent(),f=o.refreshToken,l=new Promise(function(h,p){s.refreshSession(f,function(_,w){return _?p(_):h(w)})}),[4,l];case 4:return u.sent(),[3,6];case 5:return v=u.sent(),te.debug("Error attempting to refreshing the session",v),[3,6];case 6:return[2,a.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(n){te.debug("Getting federated credentials");var t=n.provider,a=n.user,s=n.token,o=n.identity_id,f=n.expires_at;f=new Date(f).getFullYear()===1970?f*1e3:f;var l=this;return te.debug("checking if federated jwt token expired"),f>new Date().getTime()?(te.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:s,user:a,identity_id:o,expires_at:f})):l._refreshHandlers[t]&&typeof l._refreshHandlers[t]=="function"?(te.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:l._refreshHandlers[t],provider:t,user:a})):(te.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(n){var t=this,a=n.refreshHandler,s=n.provider,o=n.user,f=10*1e3;return qE(a,[],f).then(function(l){return te.debug("refresh federated token sucessfully",l),t._setCredentialsFromFederation({provider:s,token:l.token,user:o,identity_id:l.identity_id,expires_at:l.expires_at})}).catch(function(l){var v=typeof l=="string"&&l.toLowerCase().lastIndexOf("network error",l.length)===0;return v||t.clear(),te.debug("refresh federated token failed",l),Promise.reject("refreshing federation token failed: "+l)})},e.prototype._isExpired=function(n){if(!n)return te.debug("no credentials for expiration check"),!0;te.debug("are these credentials expired?",n);var t=Date.now(),a=n.expiration;return a.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var n;return Me(this,void 0,void 0,function(){var t,a,s,o,f,l,v,u,h,p,_=this;return ke(this,function(w){switch(w.label){case 0:return te.debug("setting credentials for guest"),!((n=this._config)===null||n===void 0)&&n.identityPoolId||(this._config=Object.assign({},this._config,jg(this._config||{}).Auth)),t=this._config,a=t.identityPoolId,s=t.region,o=t.mandatorySignIn,f=t.identityPoolRegion,o?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:a?!f&&!s?(te.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(v=this,[4,this._getGuestIdentityId()]):(te.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return l=v._identityId=w.sent(),u={region:f??s},h=function(){return Me(_,void 0,void 0,function(){var E,I;return ke(this,function(R){switch(R.label){case 0:return l?[3,2]:[4,ro(u,{IdentityPoolId:a})];case 1:E=R.sent().IdentityId,this._identityId=E,R.label=2;case 2:return[4,io(u,{IdentityId:this._identityId})];case 3:return I=R.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:I.AccessKeyId,secretAccessKey:I.SecretKey,sessionToken:I.SessionToken,expiration:I.Expiration}]}})})},p=h().catch(function(E){return Me(_,void 0,void 0,function(){return ke(this,function(I){throw E})})}),[2,this._loadCredentials(p,"guest",!1,null).then(function(E){return E}).catch(function(E){return Me(_,void 0,void 0,function(){var I,R=this;return ke(this,function(B){switch(B.label){case 0:return E.name==="ResourceNotFoundException"&&E.message==="Identity '".concat(l,"' not found.")?(te.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return B.sent(),I=function(){return Me(R,void 0,void 0,function(){var z,N;return ke(this,function(G){switch(G.label){case 0:return[4,ro(u,{IdentityPoolId:a})];case 1:return z=G.sent().IdentityId,this._identityId=z,[4,io(u,{IdentityId:z})];case 2:return N=G.sent().Credentials,[2,{identityId:z,accessKeyId:N.AccessKeyId,secretAccessKey:N.SecretKey,sessionToken:N.SessionToken,expiration:N.Expiration}]}})})},p=I().catch(function(z){return Me(R,void 0,void 0,function(){return ke(this,function(N){throw z})})}),[2,this._loadCredentials(p,"guest",!1,null)];case 2:return[2,E]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(n){var t=this,a=n.provider,s=n.token,o=n.identity_id,f={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},l=f[a]||a;if(!l)return Promise.reject("You must specify a federated provider");var v={};v[l]=s;var u=this._config,h=u.identityPoolId,p=u.region,_=u.identityPoolRegion;if(!h)return te.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!_&&!p)return te.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var w={region:_??p},E=function(){return Me(t,void 0,void 0,function(){var R,B;return ke(this,function(z){switch(z.label){case 0:return o?[3,2]:[4,ro(w,{IdentityPoolId:h,Logins:v})];case 1:R=z.sent().IdentityId,o=R,z.label=2;case 2:return[4,io(w,{IdentityId:o,Logins:v})];case 3:return B=z.sent().Credentials,[2,{identityId:o,accessKeyId:B.AccessKeyId,secretAccessKey:B.SecretKey,sessionToken:B.SessionToken,expiration:B.Expiration}]}})})},I=E().catch(function(R){return Me(t,void 0,void 0,function(){return ke(this,function(B){throw R})})});return this._loadCredentials(I,"federated",!0,n)},e.prototype._setCredentialsFromSession=function(n){var t=this;te.debug("set credentials from session");var a=n.getIdToken().getJwtToken(),s=this._config,o=s.region,f=s.userPoolId,l=s.identityPoolId,v=s.identityPoolRegion;if(!l)return te.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!v&&!o)return te.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var u="cognito-idp."+o+".amazonaws.com/"+f,h={};h[u]=a;var p={region:v??o},_=function(){return Me(t,void 0,void 0,function(){var E,I,R,B,z,N,G,Y,ve,le;return ke(this,function(Se){switch(Se.label){case 0:return[4,this._getGuestIdentityId()];case 1:return E=Se.sent(),E?[3,3]:[4,ro(p,{IdentityPoolId:l,Logins:h})];case 2:R=Se.sent().IdentityId,I=R,Se.label=3;case 3:return[4,io(p,{IdentityId:E||I,Logins:h})];case 4:return B=Se.sent(),z=B.Credentials,N=z.AccessKeyId,G=z.Expiration,Y=z.SecretKey,ve=z.SessionToken,le=B.IdentityId,this._identityId=le,E?(te.debug("The guest identity ".concat(E," has been successfully linked to the logins")),E===le&&te.debug("The guest identity ".concat(E," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:Se.sent(),Se.label=6;case 6:return[2,{accessKeyId:N,secretAccessKey:Y,sessionToken:ve,expiration:G,identityId:le}]}})})},w=_().catch(function(E){return Me(t,void 0,void 0,function(){return ke(this,function(I){throw E})})});return this._loadCredentials(w,"userPool",!0,null)},e.prototype._loadCredentials=function(n,t,a,s){var o=this,f=this;return new Promise(function(l,v){n.then(function(u){return Me(o,void 0,void 0,function(){var h,p,_,w,E;return ke(this,function(I){switch(I.label){case 0:if(te.debug("Load credentials successfully",u),this._identityId&&!u.identityId&&(u.identityId=this._identityId),f._credentials=u,f._credentials.authenticated=a,f._credentials_source=t,f._nextCredentialsRefresh=new Date().getTime()+UT,t==="federated"){h=Object.assign({id:this._credentials.identityId},s.user),p=s.provider,_=s.token,w=s.expires_at,E=s.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:p,token:_,user:h,expires_at:w,identity_id:E}))}catch(R){te.debug("Failed to put federated info into auth storage",R)}}return t!=="guest"?[3,2]:[4,this._setGuestIdentityId(u.identityId)];case 1:I.sent(),I.label=2;case 2:return l(f._credentials),[2]}})})}).catch(function(u){if(u){te.debug("Failed to load credentials",n),te.debug("Error loading credentials",u),v(u);return}})})},e.prototype.set=function(n,t){return t==="session"?this._setCredentialsFromSession(n):t==="federation"?this._setCredentialsFromFederation(n):t==="guest"?this._setCredentialsForGuest():(te.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Me(this,void 0,void 0,function(){return ke(this,function(n){return this._credentials=null,this._credentials_source=null,te.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return Me(this,void 0,void 0,function(){var n,t;return ke(this,function(a){switch(a.label){case 0:n=this._config.identityPoolId,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(n))];case 3:return t=a.sent(),te.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(n){return Me(this,void 0,void 0,function(){var t,a;return ke(this,function(s){switch(s.label){case 0:t=this._config.identityPoolId,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),n),[3,4];case 3:return a=s.sent(),te.debug("Failed to cache guest identityId",a),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return Me(this,void 0,void 0,function(){var n;return ke(this,function(t){return n=this._config.identityPoolId,te.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(n)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(n)),[2]})})},e.prototype.shear=function(n){return{accessKeyId:n.accessKeyId,sessionToken:n.sessionToken,secretAccessKey:n.secretAccessKey,identityId:n.identityId,authenticated:n.authenticated}},e}(),Yr=new GT(null);Xr.register(Yr);var wt={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new k0().getStorage()};function sd(e){var n=0;n=e.length;for(var t=e.length;t>=0;t-=1){var a=e.charCodeAt(t);a>127&&a<=2047?n+=1:a>2047&&a<=65535&&(n+=2),a>=56320&&a<=57343&&(t-=1)}return n}function Qn(){var e=new Date;return e.getTime()}function oo(e){return Number.isInteger?Number.isInteger(e):HT(e)}function HT(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}var Kt=new Ie("StorageCache"),WT=function(){function e(n){this.config=Object.assign({},n),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){oo(this.config.capacityInBytes)||(Kt.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=wt.capacityInBytes),oo(this.config.itemMaxSize)||(Kt.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=wt.itemMaxSize),oo(this.config.defaultTTL)||(Kt.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=wt.defaultTTL),oo(this.config.defaultPriority)||(Kt.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=wt.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Kt.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=wt.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Kt.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=wt.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Kt.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=wt.warningThreshold);var n=5*1024*1024;this.config.capacityInBytes>n&&(Kt.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=wt.capacityInBytes)},e.prototype.fillCacheItem=function(n,t,a){var s={key:n,data:t,timestamp:Qn(),visitedTime:Qn(),priority:a.priority,expires:a.expires,type:typeof t,byteSize:0};return s.byteSize=sd(JSON.stringify(s)),s.byteSize=sd(JSON.stringify(s)),s},e.prototype.configure=function(n){return n?(n.keyPrefix&&Kt.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,n,n.Cache),this.checkConfig(),this.config):this.config},e}(),ze=new Ie("Cache"),qT=function(e){Io(n,e);function n(t){var a=this,s=t?Object.assign({},wt,t):wt;return a=e.call(this,s)||this,a.config.storage=s.storage,a.getItem=a.getItem.bind(a),a.setItem=a.setItem.bind(a),a.removeItem=a.removeItem.bind(a),a}return n.prototype._decreaseCurSizeInBytes=function(t){var a=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(a-t).toString())},n.prototype._increaseCurSizeInBytes=function(t){var a=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(a+t).toString())},n.prototype._refreshItem=function(t,a){return t.visitedTime=Qn(),this.config.storage.setItem(a,JSON.stringify(t)),t},n.prototype._isExpired=function(t){var a=this.config.storage.getItem(t),s=JSON.parse(a);return Qn()>=s.expires},n.prototype._removeItem=function(t,a){var s=a||JSON.parse(this.config.storage.getItem(t)).byteSize;this._decreaseCurSizeInBytes(s),this.config.storage.removeItem(t)},n.prototype._setItem=function(t,a){this._increaseCurSizeInBytes(a.byteSize);try{this.config.storage.setItem(t,JSON.stringify(a))}catch(s){this._decreaseCurSizeInBytes(a.byteSize),ze.error("Failed to set item "+s)}},n.prototype._sizeToPop=function(t){var a=this.getCacheCurSize()+t-this.config.capacityInBytes,s=(1-this.config.warningThreshold)*this.config.capacityInBytes;return a>s?a:s},n.prototype._isCacheFull=function(t){return t+this.getCacheCurSize()>this.config.capacityInBytes},n.prototype._findValidKeys=function(){for(var t=[],a=[],s=0;s<this.config.storage.length;s+=1)a.push(this.config.storage.key(s));for(var s=0;s<a.length;s+=1){var o=a[s];o.indexOf(this.config.keyPrefix)===0&&o!==this.cacheCurSizeKey&&(this._isExpired(o)?this._removeItem(o):t.push(o))}return t},n.prototype._popOutItems=function(t,a){for(var s=[],o=a,f=0;f<t.length;f+=1){var l=this.config.storage.getItem(t[f]);if(l!=null){var v=JSON.parse(l);s.push(v)}}s.sort(function(u,h){return u.priority>h.priority?-1:u.priority<h.priority?1:u.visitedTime<h.visitedTime?-1:1});for(var f=0;f<s.length;f+=1)if(this._removeItem(s[f].key,s[f].byteSize),o-=s[f].byteSize,o<=0)return},n.prototype.setItem=function(t,a,s){ze.log("Set item: key is "+t+", value is "+a+" with options: "+s);var o=this.config.keyPrefix+t;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey){ze.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof a>"u"){ze.warn("The value of item should not be undefined!");return}var f={priority:s&&s.priority!==void 0?s.priority:this.config.defaultPriority,expires:s&&s.expires!==void 0?s.expires:this.config.defaultTTL+Qn()};if(f.priority<1||f.priority>5){ze.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var l=this.fillCacheItem(o,a,f);if(l.byteSize>this.config.itemMaxSize){ze.warn("Item with key: "+t+" you are trying to put into is too big!");return}try{var v=this.config.storage.getItem(o);if(v&&this._removeItem(o,JSON.parse(v).byteSize),this._isCacheFull(l.byteSize)){var u=this._findValidKeys();if(this._isCacheFull(l.byteSize)){var h=this._sizeToPop(l.byteSize);this._popOutItems(u,h)}}this._setItem(o,l)}catch(p){ze.warn("setItem failed! "+p)}},n.prototype.getItem=function(t,a){ze.log("Get item: key is "+t+" with options "+a);var s=null,o=this.config.keyPrefix+t;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey)return ze.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(s=this.config.storage.getItem(o),s!=null)if(this._isExpired(o))this._removeItem(o,JSON.parse(s).byteSize),s=null;else{var f=JSON.parse(s);return f=this._refreshItem(f,o),f.data}if(a&&a.callback!==void 0){var l=a.callback();return l!==null&&this.setItem(t,l,a),l}return null}catch(v){return ze.warn("getItem failed! "+v),null}},n.prototype.removeItem=function(t){ze.log("Remove item: key is "+t);var a=this.config.keyPrefix+t;if(!(a===this.config.keyPrefix||a===this.cacheCurSizeKey))try{var s=this.config.storage.getItem(a);s&&this._removeItem(a,JSON.parse(s).byteSize)}catch(o){ze.warn("removeItem failed! "+o)}},n.prototype.clear=function(){ze.log("Clear Cache");for(var t=[],a=0;a<this.config.storage.length;a+=1){var s=this.config.storage.key(a);s.indexOf(this.config.keyPrefix)===0&&t.push(s)}try{for(var a=0;a<t.length;a+=1)this.config.storage.removeItem(t[a])}catch(o){ze.warn("clear failed! "+o)}},n.prototype.getAllKeys=function(){for(var t=[],a=0;a<this.config.storage.length;a+=1){var s=this.config.storage.key(a);s.indexOf(this.config.keyPrefix)===0&&s!==this.cacheCurSizeKey&&t.push(s.substring(this.config.keyPrefix.length))}return t},n.prototype.getCacheCurSize=function(){var t=this.config.storage.getItem(this.cacheCurSizeKey);return t||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),t="0"),Number(t)},n.prototype.createInstance=function(t){return(!t.keyPrefix||t.keyPrefix===wt.keyPrefix)&&(ze.error("invalid keyPrefix, setting keyPrefix with timeStamp"),t.keyPrefix=Qn.toString()),new n(t)},n}(WT),Ys=new qT;Xr.register(Ys);var jT="mobiletargeting",VT=function(e){var n=e.region;return{url:new URL("https://pinpoint.".concat(n,".").concat(N0(n)))}},Z0={service:jT,endpointResolver:VT,retryDecider:$0(ur),computeDelay:z0,userAgentValue:Ao()},J0=function(){return{"content-type":"application/json"}},YT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},ZT=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},JT=function(e,n){var t=e.ApplicationId,a=e.EventsRequest,s=J0(),o=new URL(n.url);o.pathname="v1/apps/".concat(Vs(t),"/events");var f=JSON.stringify(a??{});return{method:"POST",headers:s,url:o,body:f}},XT=function(e){return YT(void 0,void 0,void 0,function(){var n,t;return ZT(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[4,ur(e)]:[3,2];case 1:throw n=a.sent(),n;case 2:return[4,ti(e)];case 3:return t=a.sent().Results,[2,{EventsResponse:{Results:t},$metadata:sr(e)}]}})})},X0=$o(H0,JT,XT,Z0),QT=globalThis&&globalThis.__awaiter||function(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})},eC=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},tC=function(e,n){var t=e.ApplicationId,a=e.EndpointId,s=e.EndpointRequest,o=J0(),f=new URL(n.url);f.pathname="v1/apps/".concat(Vs(t),"/endpoints/").concat(Vs(a));var l=JSON.stringify(s??{});return{method:"PUT",headers:o,url:f,body:l}},nC=function(e){return QT(void 0,void 0,void 0,function(){var n,t,a,s;return eC(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[4,ur(e)]:[3,2];case 1:throw n=o.sent(),n;case 2:return[4,ti(e)];case 3:return t=o.sent(),a=t.Message,s=t.RequestID,[2,{MessageBody:{Message:a,RequestID:s},$metadata:sr(e)}]}})})},rC=$o(H0,tC,nC,Z0);function Q0(e){return Lg({category:co.Analytics,action:e})}function Zs(e){return Ao({category:co.Analytics,action:e})}var iC=function(){return!0},Zn=new Ie("EventsBuffer"),ud=[429,500],oC=[202],aC=function(){function e(n){this._pause=!1,this._flush=!1,Zn.debug("Instantiating buffer with config:",n),this._buffer=[],this._config=n,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(n){var t;if(this._buffer.length>=this._config.bufferSize)return Zn.debug("Exceeded analytics events buffer size"),n.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var a=n.params.event.eventId,s=(t={},t[a]=n,t);this._buffer.push(s)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var n=this._config.flushInterval;this._interval=setInterval(this._sendBatch,n)},e.prototype._sendBatch=function(){var n=this._buffer.length;if(this._flush&&!n&&clearInterval(this._interval),!(this._pause||!n||!iC())){var t=this._config.flushSize,a=Math.min(t,n),s=this._buffer.splice(0,a);this._putEvents(s)}},e.prototype._putEvents=function(n){return V(this,void 0,void 0,function(){var t,a,s,o,f,l,v;return j(this,function(u){switch(u.label){case 0:t=this._bufferToMap(n),a=this._generateBatchEventParams(t),u.label=1;case 1:return u.trys.push([1,3,,4]),s=this._config,o=s.credentials,f=s.region,[4,X0({credentials:o,region:f,userAgentValue:Zs(Dn.Record)},a)];case 2:return l=u.sent(),this._processPutEventsSuccessResponse(l,t),[3,4];case 3:return v=u.sent(),[2,this._handlePutEventsFailure(v,t)];case 4:return[2]}})})},e.prototype._generateBatchEventParams=function(n){var t={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(n).forEach(function(a){var s=a.params,o=s.event,f=s.timestamp,l=s.config,v=o.name,u=o.attributes,h=o.metrics,p=o.eventId,_=o.session,w=l.appId,E=l.endpointId,I=t.EventsRequest.BatchItem;t.ApplicationId=t.ApplicationId||w,I[E]||(I[E]={Endpoint:{},Events:{}}),I[E].Events[p]={EventType:v,Timestamp:new Date(f).toISOString(),Attributes:u,Metrics:h,Session:_}}),t},e.prototype._handlePutEventsFailure=function(n,t){Zn.debug("_putEvents Failed: ",n);var a=n.$metadata&&n.$metadata.httpStatusCode;if(ud.includes(a)){var s=Object.values(t);this._retry(s);return}},e.prototype._processPutEventsSuccessResponse=function(n,t){var a,s=((a=n.EventsResponse)!==null&&a!==void 0?a:{}).Results,o=s===void 0?{}:s,f=[];Object.entries(o).forEach(function(l){var v=Gt(l,2),u=v[0],h=v[1],p,_=(p=h.EventsItemResponse)!==null&&p!==void 0?p:{};Object.entries(_).forEach(function(w){var E,I,R=Gt(w,2),B=R[0],z=R[1],N=t[B];if(N){var G=z??{},Y=G.StatusCode,ve=G.Message,le={EventsResponse:{Results:(E={},E[u]={EventsItemResponse:(I={},I[B]={StatusCode:Y,Message:ve},I)},E)}};if(Y&&oC.includes(Y)){N.handlers.resolve(le);return}if(Y&&ud.includes(Y)){f.push(N);return}var Se=N.params.event.name;return Zn.error("event "+B+" : "+Se+" failed with error: "+ve),N.handlers.reject(le)}})}),f.length&&this._retry(f)},e.prototype._retry=function(n){var t,a=[];n.forEach(function(s){var o,f=s.params,l=f.event,v=l.eventId,u=l.name;if(f.resendLimit-- >0){Zn.debug("resending event "+v+" : "+u+" with "+f.resendLimit+" retry attempts remaining"),a.push((o={},o[v]=s,o));return}Zn.debug("no retry attempts remaining for event "+v+" : "+u)}),(t=this._buffer).unshift.apply(t,dt(a))},e.prototype._bufferToMap=function(n){return n.reduce(function(t,a){var s=Gt(Object.entries(a),1),o=Gt(s[0],2),f=o[0],l=o[1];return t[f]=l,t},{})},e}();const cd=aC;var sC=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",fd=function(e,n){Cn.dispatch("analytics",{event:e,data:n},"Analytics",sC)},pe=new Ie("AWSPinpointProvider"),ld=[429,500],uC=[202],cC=403,fC="mobiletargeting",lC="ExpiredTokenException",dd="_update_endpoint",dC="_session.start",hd="_session.stop",hC=typeof navigator<"u"&&navigator&&typeof navigator.sendBeacon=="function",vC=1e3,gC=100,pC=5*1e3,yC=5,mC=function(){function e(n){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=n||{},this._config.bufferSize=this._config.bufferSize||vC,this._config.flushSize=this._config.flushSize||gC,this._config.flushInterval=this._config.flushInterval||pC,this._config.resendLimit=this._config.resendLimit||yC,this._clientInfo=BE.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(n){var t=this;pe.debug("configure Analytics",n);var a=n||{};if(this._config=Object.assign({},this._config,a),this._endpointGenerating=!!n.autoSessionRecord,this._config.appId&&!this._config.disabled)if(this._config.endpointId)fd("pinpointProvider_configured",null);else{var s=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(s).then(function(o){pe.debug("setting endpoint id from the cache",o),t._config.endpointId=o,fd("pinpointProvider_configured",null)}).catch(function(o){pe.debug("Failed to generate endpointId",o)})}else this._flushBuffer();return this._config},e.prototype.record=function(n,t){return V(this,void 0,void 0,function(){var a,s;return j(this,function(o){switch(o.label){case 0:return pe.debug("_public record",n),[4,this._getCredentials()];case 1:return a=o.sent(),!a||!this._config.appId||!this._config.region?(pe.debug("cannot send events without credentials, applicationId or region"),[2,t.reject(new Error("No credentials, applicationId or region"))]):(this._init(a),s=new Date().getTime(),this._generateSession(n),n.event.eventId=tn.v1(),Object.assign(n,{timestamp:s,config:this._config}),n.event.immediate?[2,this._send(n,t)]:(this._putToBuffer(n,t),[2]))}})})},e.prototype._sendEndpointUpdate=function(n){return V(this,void 0,void 0,function(){var t;return j(this,function(a){switch(a.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(n),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(n)]);case 1:return a.sent(),t=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,t&&this._sendEndpointUpdate(t),[2]}})})},e.prototype._putToBuffer=function(n,t){var a;if(n.event.name===dd){this._sendEndpointUpdate({params:n,handlers:t});return}(a=this._buffer)===null||a===void 0||a.push({params:n,handlers:t})},e.prototype._generateSession=function(n){this._sessionId=this._sessionId||tn.v1();var t=n.event;switch(t.name){case dC:this._sessionStartTimestamp=new Date().getTime(),this._sessionId=tn.v1(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case hd:var a=new Date().getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||new Date().getTime(),this._sessionId=this._sessionId||tn.v1(),t.session={Id:this._sessionId,Duration:a-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(a).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||new Date().getTime(),this._sessionId=this._sessionId||tn.v1(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(n,t){return V(this,void 0,void 0,function(){var a;return j(this,function(s){switch(a=n.event,a.name){case dd:return[2,this._updateEndpoint({params:n,handlers:t})];case hd:return[2,this._pinpointSendStopSession(n,t)];default:return[2,this._pinpointPutEvents(n,t)]}})})},e.prototype._generateBatchItemContext=function(n){var t,a,s=n.event,o=n.timestamp,f=n.config,l=s.name,v=s.attributes,u=s.metrics,h=s.eventId,p=s.session,_=f.appId,w=f.endpointId,E={};return{ApplicationId:_,EventsRequest:{BatchItem:(t={},t[w]={Endpoint:E,Events:(a={},a[h]={EventType:l,Timestamp:new Date(o).toISOString(),Attributes:v,Metrics:u,Session:p},a)},t)}}},e.prototype._pinpointPutEvents=function(n,t){var a,s,o,f,l;return V(this,void 0,void 0,function(){var v,u,h,p,_,w,E,I,R,B,z;return j(this,function(N){switch(N.label){case 0:v=n.event.eventId,u=n.config.endpointId,h=this._generateBatchItemContext(n),N.label=1;case 1:return N.trys.push([1,3,,4]),p=this._config,_=p.credentials,w=p.region,[4,X0({credentials:_,region:w,userAgentValue:Zs(Dn.Record)},h)];case 2:if(E=N.sent(),I=(l=(f=(o=(s=(a=E.EventsResponse)===null||a===void 0?void 0:a.Results)===null||s===void 0?void 0:s[u])===null||o===void 0?void 0:o.EventsItemResponse)===null||f===void 0?void 0:f[v])!==null&&l!==void 0?l:{},R=I.StatusCode,B=I.Message,R&&uC.includes(R))return pe.debug("record event success. ",E),[2,t.resolve(E)];if(R&&ld.includes(R))this._retry(n,t);else return pe.error("Event "+v+" is not accepted, the error is "+B),[2,t.reject(E)];return[3,4];case 3:return z=N.sent(),this._eventError(z),[2,t.reject(z)];case 4:return[2]}})})},e.prototype._pinpointSendStopSession=function(n,t){if(!hC){this._pinpointPutEvents(n,t);return}var a=this._generateBatchItemContext(n),s=this._config.region,o=a.ApplicationId,f=a.EventsRequest,l={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},v="https://pinpoint."+s+".amazonaws.com/v1/apps/"+o+"/events/legacy",u=JSON.stringify(f),h="POST",p={url:v,body:u,method:h},_={region:s,service:fC},w=rA.signUrl(p,l,_),E=navigator.sendBeacon(w,u);return E?t.resolve("sendBeacon success"):t.reject("sendBeacon failure")},e.prototype._retry=function(n,t){var a=n.config.resendLimit;n.resendLimit=typeof n.resendLimit=="number"?n.resendLimit:a,n.resendLimit-- >0?(pe.debug("resending event "+n.eventName+" with "+n.resendLimit+" retry times left"),this._pinpointPutEvents(n,t)):pe.debug("retry times used up for event "+n.eventName)},e.prototype._updateEndpoint=function(n){return V(this,void 0,void 0,function(){var t,a,s,o,f,l,v,u,h,p,_,w,E,I;return j(this,function(R){switch(R.label){case 0:t=n.params,a=n.handlers,s=t.config,o=t.event,f=s.appId,l=s.endpointId,v=this._endpointRequest(s,Pg(o,[],["attributes","userAttributes","Attributes","UserAttributes"])),u={ApplicationId:f,EndpointId:l,EndpointRequest:v},R.label=1;case 1:return R.trys.push([1,3,,4]),h=this._config,p=h.credentials,_=h.region,[4,rC({credentials:p,region:_,userAgentValue:Zs(Dn.UpdateEndpoint)},u)];case 2:return w=R.sent(),pe.debug("updateEndpoint success",w),this._endpointGenerating=!1,this._resumeBuffer(),a.resolve(w),[2];case 3:return E=R.sent(),I={err:E,update_params:u,endpointObject:n},[2,this._handleEndpointUpdateFailure(I)];case 4:return[2]}})})},e.prototype._handleEndpointUpdateFailure=function(n){return V(this,void 0,void 0,function(){var t,a,s,o;return j(this,function(f){switch(t=n.err,a=n.endpointObject,s=t.$metadata&&t.$metadata.httpStatusCode,pe.debug("updateEndpoint error",t),s){case cC:return[2,this._handleEndpointUpdateForbidden(n)];default:if(ld.includes(s))return o=!0,[2,this._retryEndpointUpdate(a,o)];pe.error("updateEndpoint failed",t),a.handlers.reject(t)}return[2]})})},e.prototype._handleEndpointUpdateForbidden=function(n){var t=n.err,a=n.endpointObject,s=t.code,o=t.retryable;if(s!==lC&&!o)return a.handlers.reject(t);this._retryEndpointUpdate(a)},e.prototype._retryEndpointUpdate=function(n,t){pe.debug("_retryEndpointUpdate",n);var a=n.params,s=a.config.resendLimit;if(a.resendLimit=typeof a.resendLimit=="number"?a.resendLimit:s,a.resendLimit-- >0){pe.debug("resending endpoint update "+a.event.eventId+" with "+a.resendLimit+" retry attempts remaining"),this._endpointBuffer.length?this._endpointBuffer.unshift(n):this._updateEndpoint(n);return}pe.warn("resending endpoint update "+a.event.eventId+" failed after "+a.config.resendLimit+" attempts"),this._endpointGenerating&&pe.error("Initial endpoint update failed. ")},e.prototype._init=function(n){return V(this,void 0,void 0,function(){var t;return j(this,function(a){return pe.debug("init provider"),this._config.credentials&&this._config.credentials.sessionToken===n.sessionToken&&this._config.credentials.identityId===n.identityId?(pe.debug("no change for aws credentials, directly return from init"),[2]):(t=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=n,(!this._bufferExists()||t!==n.identityId)&&this._initBuffer(),[2])})})},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof cd},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new cd(this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._flushBuffer=function(){var n;this._bufferExists()&&((n=this._buffer)===null||n===void 0||n.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){var n;this._bufferExists()&&((n=this._buffer)===null||n===void 0||n.resume())},e.prototype._getEndpointId=function(n){return V(this,void 0,void 0,function(){var t,a,s;return j(this,function(o){switch(o.label){case 0:return[4,Ys.getItem(n)];case 1:return t=o.sent(),pe.debug("endpointId from cache",t,"type",typeof t),t||(t=tn.v1(),a=1e3*60*60*24*365*100,s=new Date().getTime()+a,Ys.setItem(n,t,{expires:s,priority:1})),[2,t]}})})},e.prototype._endpointRequest=function(n,t){var a=n.credentials,s=this._clientInfo||{},o=n.clientContext||{},f=n.endpoint||{},l={appVersion:s.appVersion,make:s.make,model:s.model,modelVersion:s.version,platform:s.platform};o.clientId,o.appTitle,o.appVersionName,o.appVersionCode,o.appPackageName;var v=Wr(o,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"]),u=t.address?s.platform==="android"?"GCM":"APNS":void 0,h=$($($({channelType:u,requestId:tn.v1(),effectiveDate:new Date().toISOString()},f),t),{attributes:$($({},f.attributes),t.attributes),demographic:$($($($({},l),v),f.demographic),t.demographic),location:$($({},f.location),t.location),metrics:$($({},f.metrics),t.metrics),user:{userId:t.userId||f.userId||a.identityId,userAttributes:$($({},f.userAttributes),t.userAttributes)}});h.userId,h.userAttributes,h.name,h.session,h.eventId,h.immediate;var p=Wr(h,["userId","userAttributes","name","session","eventId","immediate"]);return Mg(p,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(n){pe.error("record event failed.",n),pe.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return V(this,void 0,void 0,function(){var n,t;return j(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Yr.get()];case 1:return n=a.sent(),n?(pe.debug("set credentials for analytics",n),[2,Yr.shear(n)]):[2,null];case 2:return t=a.sent(),pe.debug("ensure credentials error",t),[2,null];case 3:return[2]}})})},e.category="Analytics",e.providerName="AWSPinpoint",e}(),vd=[],Nr=function(){function e(n,t){this.context=n,this.methodName=t,this._originalMethod=n[t].bind(n)}return e.add=function(n,t,a){gd(n,t).set(a)},e.remove=function(n,t){gd(n,t).remove()},e.prototype.set=function(n){var t=this;this.context[this.methodName]=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n(t._originalMethod.apply(t,dt(a)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function gd(e,n){var t=vd.filter(function(a){return a.context===e&&a.methodName===n})[0];return t||(t=new Nr(e,n),vd.push(t)),t}var Sn=new Ie("PageViewTracker"),Ms="aws-amplify-analytics-prevUrl",_C=function(){return St().isBrowser?window.location.origin+window.location.pathname:""},bC={enable:!1,provider:"AWSPinpoint",getUrl:_C},wC=function(){function e(n,t){Sn.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},bC,t),this._tracker=n,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._config.type==="SPA"?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(n){return Object.assign(this._config,n),this._config.type==="SPA"&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){var n=sessionStorage.getItem(Ms),t=this._config.getUrl();return n===t?(Sn.debug("the url is same"),!0):!1},e.prototype._pageViewTrackDefault=function(){return V(this,void 0,void 0,function(){var n,t,a,s;return j(this,function(o){switch(o.label){case 0:return!St().isBrowser||!window.addEventListener||!window.sessionStorage?(Sn.debug("not in the supported web enviroment"),[2]):(n=this._config.getUrl(),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return a=o.sent(),[3,3];case 2:a=this._config.attributes,o.label=3;case 3:return t=a,s=Object.assign({url:n},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:s},this._config.provider).catch(function(f){Sn.debug("Failed to record the page view event",f)}),sessionStorage.setItem(Ms,n)),[2]}})})},e.prototype._trackFunc=function(){return V(this,void 0,void 0,function(){var n,t,a,s;return j(this,function(o){switch(o.label){case 0:return!St().isBrowser||!window.addEventListener||!history.pushState||!window.sessionStorage?(Sn.debug("not in the supported web enviroment"),[2]):(n=this._config.getUrl(),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return a=o.sent(),[3,3];case 2:a=this._config.attributes,o.label=3;case 3:return t=a,s=Object.assign({url:n},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:s},this._config.provider).catch(function(f){Sn.debug("Failed to record the page view event",f)}),sessionStorage.setItem(Ms,n)),[2]}})})},e.prototype._pageViewTrackSPA=function(){if(!St().isBrowser||!window.addEventListener||!history.pushState){Sn.debug("not in the supported web enviroment");return}this._config.enable&&!this._hasEnabled?(Nr.add(history,"pushState",this._trackFunc),Nr.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(Nr.remove(history,"pushState"),Nr.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1)},e}(),En=St().isBrowser&&window.Element?window.Element.prototype:null,pd=En?En.matches||En.matchesSelector||En.webkitMatchesSelector||En.mozMatchesSelector||En.msMatchesSelector||En.oMatchesSelector:null;function ep(e,n){if(e&&e.nodeType===1&&n){if(typeof n=="string"||n.nodeType===1)return e===n||yd(e,n);if("length"in n){for(var t=0,a=void 0;a=n[t];t++)if(e===a||yd(e,a))return!0}}return!1}function yd(e,n){if(typeof n!="string")return!1;if(pd)return pd.call(e,n);for(var t=e.parentNode.querySelectorAll(n),a=0,s=void 0;s=t[a];a++)if(s===e)return!0;return!1}function SC(e){for(var n=[],t=e;t&&t.parentNode&&t.parentNode.nodeType===1;)t=t.parentNode,n.push(t);return n}function EC(e,n,t){if(t===void 0&&(t=!1),!!(e&&e.nodeType===1&&n)){for(var a=(t?[e]:[]).concat(SC(e)),s=0,o;o=a[s];s++)if(ep(o,n))return o}}function xC(e,n,t,a,s){s===void 0&&(s={});var o=function(f){var l;if(s.composed&&typeof f.composedPath=="function")for(var v=f.composedPath(),u=0,h=void 0;h=v[u];u++)h.nodeType===1&&ep(h,t)&&(l=h);else l=EC(f.target,t,!0);l&&a.call(l,f,l)};return e.addEventListener(n,o,s.useCapture),{destroy:function(){e.removeEventListener(n,o,s.useCapture)}}}var Jn=new Ie("EventTracker"),AC={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},IC=function(){function e(n,t){if(!St().isBrowser||!window.addEventListener){Jn.debug("not in the supported web environment");return}this._config=Object.assign({},AC,t),this._tracker=n,this._delegates={},this._trackFunc=this._trackFunc.bind(this),Jn.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)}return e.prototype.configure=function(n){var t=this;if(Object.assign(this._config,n),!this._config.enable)Object.keys(this._delegates).forEach(function(s){typeof t._delegates[s].destroy=="function"&&t._delegates[s].destroy()}),this._delegates={};else if(this._config.enable&&Object.keys(this._delegates).length===0){var a="["+this._config.selectorPrefix+"on]";this._config.events.forEach(function(s){t._delegates[s]=xC(document,s,a,t._trackFunc,{composed:!0,useCapture:!0})})}return this._config},e.prototype._trackFunc=function(n,t){return V(this,void 0,void 0,function(){var a,s,o,f,l,v,u;return j(this,function(h){switch(h.label){case 0:return a={},s=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),o=t.getAttribute(this._config.selectorPrefix+"name"),f=t.getAttribute(this._config.selectorPrefix+"attrs"),f&&f.split(/\s*,\s*/).forEach(function(p){var _=p.trim().split(/\s*:\s*/);a[_[0]]=_[1]}),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()];case 1:return v=h.sent(),[3,3];case 2:v=this._config.attributes,h.label=3;case 3:return l=v,u=Object.assign({type:n.type,target:n.target.localName+" with id "+n.target.id},l,a),Jn.debug("events needed to be recorded",s),Jn.debug("attributes needed to be attached",a),s.indexOf(n.type)<0?(Jn.debug("event "+n.type+" is not selected to be recorded"),[2]):(this._tracker({name:o||"event",attributes:u},this._config.provider).catch(function(p){Jn.debug("Failed to record the "+n.type+" event', "+p)}),[2])}})})},e}(),xn=new Ie("SessionTracker"),TC={enable:!1,provider:"AWSPinpoint"},md=!1,CC=function(){function e(n,t){this._config=Object.assign({},TC,t),this._tracker=n,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!St().isBrowser)return!1;if(!document||!document.addEventListener)return xn.debug("not in the supported web environment"),!1;if(typeof document.hidden<"u")this._hidden="hidden",this._visibilityChange="visibilitychange";else if(typeof document.msHidden<"u")this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else if(typeof document.webkitHidden<"u")this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange";else return xn.debug("not in the supported web environment"),!1;return!0},e.prototype._trackFunc=function(){return V(this,void 0,void 0,function(){var n,t,a;return j(this,function(s){switch(s.label){case 0:return typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()];case 1:return t=s.sent(),[3,3];case 2:t=this._config.attributes,s.label=3;case 3:return n=t,a=Object.assign({},n),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:a},this._config.provider).catch(function(o){xn.debug("record session stop event failed.",o)}):this._tracker({name:"_session.start",attributes:a},this._config.provider).catch(function(o){xn.debug("record session start event failed.",o)}),[2]}})})},e.prototype._trackBeforeUnload=function(n){var t=this,a=typeof this._config.attributes=="function"?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes);a.then(function(s){var o=Object.assign({},s);t._tracker({name:"_session.stop",attributes:o,immediate:!0},t._config.provider).catch(function(f){xn.debug("record session stop event failed.",f)})})},e.prototype._sendInitialEvent=function(){return V(this,void 0,void 0,function(){var n,t,a;return j(this,function(s){switch(s.label){case 0:return md?(xn.debug("the start session has been sent when the page is loaded"),[2]):(md=!0,typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return t=s.sent(),[3,3];case 2:t=this._config.attributes,s.label=3;case 3:return n=t,a=Object.assign({},n),this._tracker({name:"_session.start",attributes:a},this._config.provider).catch(function(o){xn.debug("record session start event failed.",o)}),[2]}})})},e.prototype.configure=function(n){return this._envCheck()?(Object.assign(this._config,n),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}(),Ct=new Ie("AnalyticsClass"),RC=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",ao=function(e,n,t){Cn.dispatch("analytics",{event:e,data:n,message:t},"Analytics",RC)},_d={pageView:wC,event:IC,session:CC},tr=null,DC=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},tr=this,this.record=this.record.bind(this),Cn.listen("auth",so),Cn.listen("storage",so),Cn.listen("analytics",so),Cn.listen("core",so)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(n){var t=this;if(!n)return this._config;Ct.debug("configure Analytics",n);var a=jg(n);return this._config=Object.assign({},this._config,a.Analytics,n),this._config.disabled&&(this._disabled=!0),this._config.autoSessionRecord===void 0&&(this._config.autoSessionRecord=!0),this._pluggables.forEach(function(s){var o=s.getProviderName()==="AWSPinpoint"&&!t._config.AWSPinpoint?t._config:t._config[s.getProviderName()];s.configure($({disabled:t._config.disabled,autoSessionRecord:t._config.autoSessionRecord},o))}),this._pluggables.length===0&&this.addPluggable(new mC),ao("configured",null,"The Analytics category has been configured successfully"),Ct.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(n){if(n&&n.getCategory()==="Analytics"){this._pluggables.push(n);var t=n.getProviderName()==="AWSPinpoint"&&!this._config.AWSPinpoint?this._config:this._config[n.getProviderName()],a=$({disabled:this._config.disabled},t);return n.configure(a),a}},e.prototype.getPluggable=function(n){for(var t=0;t<this._pluggables.length;t+=1){var a=this._pluggables[t];if(a.getProviderName()===n)return a}return Ct.debug("No plugin found with providerName",n),null},e.prototype.removePluggable=function(n){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==n;)t+=1;if(t===this._pluggables.length){Ct.debug("No plugin found with providerName",n);return}else{this._pluggables.splice(t,t+1);return}},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(n){return V(this,void 0,void 0,function(){var t,a;return j(this,function(s){return t={name:"_session.start"},a={event:t,provider:n},ao("record",t,"Recording Analytics session start event"),[2,this._sendEvent(a)]})})},e.prototype.stopSession=function(n){return V(this,void 0,void 0,function(){var t,a;return j(this,function(s){return t={name:"_session.stop"},a={event:t,provider:n},ao("record",t,"Recording Analytics session stop event"),[2,this._sendEvent(a)]})})},e.prototype.record=function(n,t){return V(this,void 0,void 0,function(){var a;return j(this,function(s){return a={event:n,provider:t},ao("record",a.event,"Recording Analytics event"),[2,this._sendEvent(a)]})})},e.prototype.updateEndpoint=function(n,t){return V(this,void 0,void 0,function(){var a;return j(this,function(s){return a=$($({},n),{name:"_update_endpoint"}),[2,this.record(a,t)]})})},e.prototype._sendEvent=function(n){var t=this;if(this._disabled)return Ct.debug("Analytics has been disabled"),Promise.resolve();var a=n.provider?n.provider:"AWSPinpoint";return new Promise(function(s,o){t._pluggables.forEach(function(f){f.getProviderName()===a&&f.record(n,{resolve:s,reject:o})})})},e.prototype.autoTrack=function(n,t){if(!_d[n]){Ct.debug("invalid tracker type");return}n==="session"&&(this._config.autoSessionRecord=t.enable);var a=this._trackers[n];a?a.configure(t):this._trackers[n]=new _d[n](this.record,t)},e}(),bd=!1,Js=!1,Zr=!1,tp=!1,so=function(e){var n=e.channel,t=e.payload;switch(Ct.debug("on hub capsule "+n,t),n){case"auth":LC(t);break;case"storage":OC(t);break;case"analytics":PC(t);break;case"core":MC(t);break}},OC=function(e){var n=e.data,t=n.attrs,a=n.metrics;t&&Zr&&tr.record({name:"Storage",attributes:t,metrics:a}).catch(function(s){Ct.debug("Failed to send the storage event automatically",s)})},LC=function(e){var n=e.event;if(n){var t=function(a){return V(void 0,void 0,void 0,function(){var s;return j(this,function(o){switch(o.label){case 0:if(!(Js&&Zr))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,tr.record({name:"_userauth."+a})];case 2:return[2,o.sent()];case 3:return s=o.sent(),Ct.debug("Failed to send the "+a+" event automatically",s),[3,4];case 4:return[2]}})})};switch(n){case"signIn":return t("sign_in");case"signUp":return t("sign_up");case"signOut":return t("sign_out");case"signIn_failure":return t("auth_fail");case"configured":Js=!0,Zr&&Nu();break}}},PC=function(e){var n=e.event;if(n)switch(n){case"pinpointProvider_configured":Zr=!0,(Js||tp)&&Nu();break}},MC=function(e){var n=e.event;if(n)switch(n){case"credentials_configured":tp=!0,Zr&&Nu();break}},Nu=function(){var e=tr.configure();!bd&&e.autoSessionRecord&&(tr.updateEndpoint({immediate:!0}).catch(function(n){Ct.debug("Failed to update the endpoint",n)}),bd=!0),tr.autoTrack("session",{enable:e.autoSessionRecord})},Gr=new DC;Xr.register(Gr);var Xs=function(e,n){return Xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},Xs(e,n)};function np(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Xs(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var O=function(){return O=Object.assign||function(n){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},O.apply(this,arguments)};function et(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})}function tt(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}const kC="@aws-sdk/client-kinesis",BC="AWS SDK for JavaScript Kinesis Client for Node.js, Browser and React Native",NC="3.6.1",FC={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},UC="./dist/cjs/index.js",zC="./types/index.d.ts",$C="./dist/es/index.js",KC={"./runtimeConfig":"./runtimeConfig.browser"},GC=!1,HC={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1",tslib:"^2.0.0"},WC={"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},qC={node:">=10.0.0"},jC={"<4.0":{"types/*":["types/ts3.4/*"]}},VC={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},YC="Apache-2.0",ZC="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-kinesis",JC={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-kinesis"},XC={name:kC,description:BC,version:NC,scripts:FC,main:UC,types:zC,module:$C,browser:KC,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:GC,dependencies:HC,devDependencies:WC,engines:qC,typesVersions:jC,author:VC,license:YC,homepage:ZC,repository:JC};var ks={},Fu={},Ko={};const QC=e=>{const n=[];for(let t=0,a=e.length;t<a;t++){const s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){const o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(n)},eR=e=>{let n="";for(let t=0,a=e.length;t<a;t++){const s=e[t];if(s<128)n+=String.fromCharCode(s);else if(192<=s&&s<224){const o=e[++t];n+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){const f="%"+[s,e[++t],e[++t],e[++t]].map(l=>l.toString(16)).join("%");n+=decodeURIComponent(f)}else n+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return n};function tR(e){return new TextEncoder().encode(e)}function nR(e){return new TextDecoder("utf-8").decode(e)}const rR=e=>typeof TextEncoder=="function"?tR(e):QC(e),iR=e=>typeof TextDecoder=="function"?nR(e):eR(e),oR=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:rR,toUtf8:iR},Symbol.toStringTag,{value:"Module"})),aR=or(oR);Object.defineProperty(Ko,"__esModule",{value:!0});Ko.convertToBuffer=void 0;var sR=aR,uR=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:sR.fromUtf8;function cR(e){return e instanceof Uint8Array?e:typeof e=="string"?uR(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Ko.convertToBuffer=cR;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.isEmptyData=void 0;function fR(e){return typeof e=="string"?e.length===0:e.byteLength===0}Go.isEmptyData=fR;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.numToUint8=void 0;function lR(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Ho.numToUint8=lR;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.uint32ArrayFrom=void 0;function dR(e){if(!Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t];return n}return Uint32Array.from(e)}Wo.uint32ArrayFrom=dR;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var n=Ko;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var t=Go;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return t.isEmptyData}});var a=Ho;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var s=Wo;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})})(Fu);var kr={},wd;function hR(){if(wd)return kr;wd=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.AwsCrc32=void 0;var e=un,n=Fu,t=rp(),a=function(){function s(){this.crc32=new t.Crc32}return s.prototype.update=function(o){(0,n.isEmptyData)(o)||this.crc32.update((0,n.convertToBuffer)(o))},s.prototype.digest=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(o){return[2,(0,n.numToUint8)(this.crc32.digest())]})})},s}();return kr.AwsCrc32=a,kr}var Sd;function rp(){return Sd||(Sd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var n=un,t=Fu;function a(v){return new s().update(v).digest()}e.crc32=a;var s=function(){function v(){this.checksum=4294967295}return v.prototype.update=function(u){var h,p;try{for(var _=(0,n.__values)(u),w=_.next();!w.done;w=_.next()){var E=w.value;this.checksum=this.checksum>>>8^f[(this.checksum^E)&255]}}catch(I){h={error:I}}finally{try{w&&!w.done&&(p=_.return)&&p.call(_)}finally{if(h)throw h.error}}return this},v.prototype.digest=function(){return(this.checksum^4294967295)>>>0},v}();e.Crc32=s;var o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],f=(0,t.uint32ArrayFrom)(o),l=hR();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return l.AwsCrc32}})}(ks)),ks}var ip=rp(),Bs=function(){function e(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(n+" is too large (or, if negative, too small) to represent as an Int64");for(var t=new Uint8Array(8),a=7,s=Math.abs(Math.round(n));a>-1&&s>0;a--,s/=256)t[a]=s;return n<0&&Ed(t),new e(t)},e.prototype.valueOf=function(){var n=this.bytes.slice(0),t=n[0]&128;return t&&Ed(n),parseInt(Qe(n),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function Ed(e){for(var n=0;n<8;n++)e[n]^=255;for(var n=7;n>-1&&(e[n]++,e[n]===0);n--);}var vR=function(){function e(n,t){this.toUtf8=n,this.fromUtf8=t}return e.prototype.format=function(n){var t,a,s,o,f=[];try{for(var l=Be(Object.keys(n)),v=l.next();!v.done;v=l.next()){var u=v.value,h=this.fromUtf8(u);f.push(Uint8Array.from([h.byteLength]),h,this.formatHeaderValue(n[u]))}}catch(R){t={error:R}}finally{try{v&&!v.done&&(a=l.return)&&a.call(l)}finally{if(t)throw t.error}}var p=new Uint8Array(f.reduce(function(R,B){return R+B.byteLength},0)),_=0;try{for(var w=Be(f),E=w.next();!E.done;E=w.next()){var I=E.value;p.set(I,_),_+=I.byteLength}}catch(R){s={error:R}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}return p},e.prototype.formatHeaderValue=function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":var a=new DataView(new ArrayBuffer(5));return a.setUint8(0,4),a.setInt32(1,n.value,!1),new Uint8Array(a.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":var o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);var f=new Uint8Array(o.buffer);return f.set(n.value,3),f;case"string":var l=this.fromUtf8(n.value),v=new DataView(new ArrayBuffer(3+l.byteLength));v.setUint8(0,7),v.setUint16(1,l.byteLength,!1);var u=new Uint8Array(v.buffer);return u.set(l,3),u;case"timestamp":var h=new Uint8Array(9);return h[0]=8,h.set(Bs.fromNumber(n.value.valueOf()).bytes,1),h;case"uuid":if(!ER.test(n.value))throw new Error("Invalid UUID received: "+n.value);var p=new Uint8Array(17);return p[0]=9,p.set(zx(n.value.replace(/\-/g,"")),1),p}},e.prototype.parse=function(n){for(var t={},a=0;a<n.byteLength;){var s=n.getUint8(a++),o=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+a,s));switch(a+=s,n.getUint8(a++)){case 0:t[o]={type:Ad,value:!0};break;case 1:t[o]={type:Ad,value:!1};break;case 2:t[o]={type:gR,value:n.getInt8(a++)};break;case 3:t[o]={type:pR,value:n.getInt16(a,!1)},a+=2;break;case 4:t[o]={type:yR,value:n.getInt32(a,!1)},a+=4;break;case 5:t[o]={type:mR,value:new Bs(new Uint8Array(n.buffer,n.byteOffset+a,8))},a+=8;break;case 6:var f=n.getUint16(a,!1);a+=2,t[o]={type:_R,value:new Uint8Array(n.buffer,n.byteOffset+a,f)},a+=f;break;case 7:var l=n.getUint16(a,!1);a+=2,t[o]={type:bR,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+a,l))},a+=l;break;case 8:t[o]={type:wR,value:new Date(new Bs(new Uint8Array(n.buffer,n.byteOffset+a,8)).valueOf())},a+=8;break;case 9:var v=new Uint8Array(n.buffer,n.byteOffset+a,16);a+=16,t[o]={type:SR,value:Qe(v.subarray(0,4))+"-"+Qe(v.subarray(4,6))+"-"+Qe(v.subarray(6,8))+"-"+Qe(v.subarray(8,10))+"-"+Qe(v.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}(),xd;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(xd||(xd={}));var Ad="boolean",gR="byte",pR="short",yR="integer",mR="long",_R="binary",bR="string",wR="timestamp",SR="uuid",ER=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,op=4,rn=op*2,In=4,xR=rn+In*2;function AR(e){var n=e.byteLength,t=e.byteOffset,a=e.buffer;if(n<xR)throw new Error("Provided message too short to accommodate event stream message overhead");var s=new DataView(a,t,n),o=s.getUint32(0,!1);if(n!==o)throw new Error("Reported message length does not match received message length");var f=s.getUint32(op,!1),l=s.getUint32(rn,!1),v=s.getUint32(n-In,!1),u=new ip.Crc32().update(new Uint8Array(a,t,rn));if(l!==u.digest())throw new Error("The prelude checksum specified in the message ("+l+") does not match the calculated CRC32 checksum ("+u.digest()+")");if(u.update(new Uint8Array(a,t+rn,n-(rn+In))),v!==u.digest())throw new Error("The message checksum ("+u.digest()+") did not match the expected value of "+v);return{headers:new DataView(a,t+rn+In,f),body:new Uint8Array(a,t+rn+In+f,o-f-(rn+In+In))}}var ap=function(){function e(n,t){this.headerMarshaller=new vR(n,t)}return e.prototype.marshall=function(n){var t=n.headers,a=n.body,s=this.headerMarshaller.format(t),o=s.byteLength+a.byteLength+16,f=new Uint8Array(o),l=new DataView(f.buffer,f.byteOffset,f.byteLength),v=new ip.Crc32;return l.setUint32(0,o,!1),l.setUint32(4,s.byteLength,!1),l.setUint32(8,v.update(f.subarray(0,8)).digest(),!1),f.set(s,12),f.set(a,s.byteLength+12),l.setUint32(o-4,v.update(f.subarray(8,o-4)).digest(),!1),f},e.prototype.unmarshall=function(n){var t=AR(n),a=t.headers,s=t.body;return{headers:this.headerMarshaller.parse(a),body:s}},e.prototype.formatHeaders=function(n){return this.headerMarshaller.format(n)},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Uu(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Id(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(e){return this instanceof Oe?(this.v=e,this):new Oe(e)}function zu(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t.apply(e,n||[]),s,o=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(_){a[_]&&(s[_]=function(w){return new Promise(function(E,I){o.push([_,w,E,I])>1||l(_,w)})})}function l(_,w){try{v(a[_](w))}catch(E){p(o[0][3],E)}}function v(_){_.value instanceof Oe?Promise.resolve(_.value.v).then(u,h):p(o[0][2],_)}function u(_){l("next",_)}function h(_){l("throw",_)}function p(_,w){_(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function sp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Id=="function"?Id(e):e[Symbol.iterator](),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(o){t[o]=e[o]&&function(f){return new Promise(function(l,v){f=e[o](f),s(l,v,f.done,f.value)})}}function s(o,f,l,v){Promise.resolve(v).then(function(u){o({value:u,done:l})},f)}}function IR(e){var n,t=0,a=0,s=null,o=null,f=function(v){if(typeof v!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+v);t=v,a=4,s=new Uint8Array(v);var u=new DataView(s.buffer);u.setUint32(0,v,!1)},l=function(){return zu(this,arguments,function(){var v,u,h,p,_,w,E,I,R;return Uu(this,function(B){switch(B.label){case 0:v=e[Symbol.asyncIterator](),B.label=1;case 1:return[4,Oe(v.next())];case 2:return u=B.sent(),h=u.value,p=u.done,p?t?[3,4]:[4,Oe(void 0)]:[3,10];case 3:return[2,B.sent()];case 4:return t!==a?[3,7]:[4,Oe(s)];case 5:return[4,B.sent()];case 6:return B.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,Oe(void 0)];case 9:return[2,B.sent()];case 10:_=h.length,w=0,B.label=11;case 11:if(!(w<_))return[3,15];if(!s){if(E=_-w,o||(o=new Uint8Array(4)),I=Math.min(4-a,E),o.set(h.slice(w,w+I),a),a+=I,w+=I,a<4)return[3,15];f(new DataView(o.buffer).getUint32(0,!1)),o=null}return R=Math.min(t-a,_-w),s.set(h.slice(w,w+R),a),a+=R,w+=R,t&&t===a?[4,Oe(s)]:[3,14];case 12:return[4,B.sent()];case 13:B.sent(),s=null,t=0,a=0,B.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})};return n={},n[Symbol.asyncIterator]=l,n}function TR(e,n){var t;return t={},t[Symbol.asyncIterator]=function(){return zu(this,arguments,function(){var a,s,o,f,l,v,u,h,p,_,w,E,I,R,B,z,N;return Uu(this,function(G){switch(G.label){case 0:G.trys.push([0,12,13,18]),a=sp(e),G.label=1;case 1:return[4,Oe(a.next())];case 2:if(s=G.sent(),!!s.done)return[3,11];if(o=s.value,f=n.eventMarshaller.unmarshall(o),l=f.headers[":message-type"].value,l!=="error")return[3,3];throw v=new Error(f.headers[":error-message"].value||"UnknownError"),v.name=f.headers[":error-code"].value,v;case 3:return l!=="exception"?[3,5]:(u=f.headers[":exception-type"].value,h=(R={},R[u]=f,R),[4,Oe(n.deserializer(h))]);case 4:throw p=G.sent(),p.$unknown?(_=new Error(n.toUtf8(f.body)),_.name=u,_):p[u];case 5:return l!=="event"?[3,9]:(w=(B={},B[f.headers[":event-type"].value]=f,B),[4,Oe(n.deserializer(w))]);case 6:return E=G.sent(),E.$unknown?[3,10]:[4,Oe(E)];case 7:return[4,G.sent()];case 8:return G.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+f.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return I=G.sent(),z={error:I},[3,18];case 13:return G.trys.push([13,,16,17]),s&&!s.done&&(N=a.return)?[4,Oe(N.call(a))]:[3,15];case 14:G.sent(),G.label=15;case 15:return[3,17];case 16:if(z)throw z.error;return[7];case 17:return[7];case 18:return[2]}})})},t}var CR=function(){function e(n){var t=n.utf8Encoder,a=n.utf8Decoder;this.eventMarshaller=new ap(t,a),this.utfEncoder=t}return e.prototype.deserialize=function(n,t){var a=IR(n),s=TR(a,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder});return s},e.prototype.serialize=function(n,t){var a,s=this,o=function(){return zu(this,arguments,function(){var f,l,v,u,h,p,_;return Uu(this,function(w){switch(w.label){case 0:w.trys.push([0,7,8,13]),f=sp(n),w.label=1;case 1:return[4,Oe(f.next())];case 2:return l=w.sent(),!l.done?(v=l.value,u=s.eventMarshaller.marshall(t(v)),[4,Oe(u)]):[3,6];case 3:return[4,w.sent()];case 4:w.sent(),w.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return h=w.sent(),p={error:h},[3,13];case 8:return w.trys.push([8,,11,12]),l&&!l.done&&(_=f.return)?[4,Oe(_.call(f))]:[3,10];case 9:w.sent(),w.label=10;case 10:return[3,12];case 11:if(p)throw p.error;return[7];case 12:return[7];case 13:return[4,Oe(new Uint8Array(0))];case 14:return[4,w.sent()];case 15:return w.sent(),[2]}})})};return a={},a[Symbol.asyncIterator]=o,a},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function RR(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})}function up(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function nr(e){return this instanceof nr?(this.v=e,this):new nr(e)}function DR(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t.apply(e,n||[]),s,o=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(_){a[_]&&(s[_]=function(w){return new Promise(function(E,I){o.push([_,w,E,I])>1||l(_,w)})})}function l(_,w){try{v(a[_](w))}catch(E){p(o[0][3],E)}}function v(_){_.value instanceof nr?Promise.resolve(_.value.v).then(u,h):p(o[0][2],_)}function u(_){l("next",_)}function h(_){l("throw",_)}function p(_,w){_(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}var OR=function(e){var n;return n={},n[Symbol.asyncIterator]=function(){return DR(this,arguments,function(){var t,a,s,o;return up(this,function(f){switch(f.label){case 0:t=e.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,nr(t.read())];case 3:return a=f.sent(),s=a.done,o=a.value,s?[4,nr(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,nr(o)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},n},LR=function(e){var n=e[Symbol.asyncIterator]();return new ReadableStream({pull:function(t){return RR(this,void 0,void 0,function(){var a,s,o;return up(this,function(f){switch(f.label){case 0:return[4,n.next()];case 1:return a=f.sent(),s=a.done,o=a.value,s?[2,t.close()]:(t.enqueue(o),[2])}})})}})},PR=function(){function e(n){var t=n.utf8Encoder,a=n.utf8Decoder;this.eventMarshaller=new ap(t,a),this.universalMarshaller=new CR({utf8Decoder:a,utf8Encoder:t})}return e.prototype.deserialize=function(n,t){var a=MR(n)?OR(n):n;return this.universalMarshaller.deserialize(a,t)},e.prototype.serialize=function(n,t){var a=this.universalMarshaller.serialize(n,t);return typeof ReadableStream=="function"?LR(a):a},e}(),MR=function(e){return typeof ReadableStream=="function"&&e instanceof ReadableStream},kR=function(e){return new PR(e)},Td="kinesis.{region}.amazonaws.com",BR="kinesis.{region}.amazonaws.com.cn",NR="kinesis.{region}.c2s.ic.gov",FR="kinesis.{region}.sc2s.sgov.gov",UR="kinesis.{region}.amazonaws.com",zR=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),$R=new Set(["cn-north-1","cn-northwest-1"]),KR=new Set(["us-iso-east-1"]),GR=new Set(["us-isob-east-1"]),HR=new Set(["us-gov-east-1","us-gov-west-1"]),WR=function(e,n){var t=void 0;switch(e){case"af-south-1":t={hostname:"kinesis.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":t={hostname:"kinesis.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":t={hostname:"kinesis.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":t={hostname:"kinesis.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":t={hostname:"kinesis.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":t={hostname:"kinesis.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":t={hostname:"kinesis.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":t={hostname:"kinesis.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":t={hostname:"kinesis.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":t={hostname:"kinesis.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":t={hostname:"kinesis.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":t={hostname:"kinesis.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":t={hostname:"kinesis.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":t={hostname:"kinesis.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":t={hostname:"kinesis.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":t={hostname:"kinesis.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":t={hostname:"kinesis-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":t={hostname:"kinesis-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":t={hostname:"kinesis-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":t={hostname:"kinesis-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":t={hostname:"kinesis.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":t={hostname:"kinesis.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":t={hostname:"kinesis.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":t={hostname:"kinesis.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":t={hostname:"kinesis.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":t={hostname:"kinesis.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":t={hostname:"kinesis.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":t={hostname:"kinesis.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":t={hostname:"kinesis.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":t={hostname:"kinesis.us-west-2.amazonaws.com",partition:"aws"};break;default:zR.has(e)&&(t={hostname:Td.replace("{region}",e),partition:"aws"}),$R.has(e)&&(t={hostname:BR.replace("{region}",e),partition:"aws-cn"}),KR.has(e)&&(t={hostname:NR.replace("{region}",e),partition:"aws-iso"}),GR.has(e)&&(t={hostname:FR.replace("{region}",e),partition:"aws-iso-b"}),HR.has(e)&&(t={hostname:UR.replace("{region}",e),partition:"aws-us-gov"}),t===void 0&&(t={hostname:Td.replace("{region}",e),partition:"aws"})}return Promise.resolve(O({signingService:"kinesis"},t))},Cd={apiVersion:"2013-12-02",disableHostPrefix:!1,logger:{},regionInfoProvider:WR,serviceId:"Kinesis",urlParser:g0},qR=O(O({},Cd),{runtime:"browser",base64Decoder:Pu,base64Encoder:t0,bodyLengthChecker:l0,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:h0({serviceId:Cd.serviceId,clientVersion:XC.version}),eventStreamSerdeProvider:kR,maxAttempts:Uo,region:r0("Region is missing"),requestHandler:new e0,sha256:Ru.Sha256,streamCollector:n0,utf8Decoder:zo,utf8Encoder:v0});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wo=function(){return wo=Object.assign||function(n){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},wo.apply(this,arguments)},jR=function(e){return wo(wo({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})},VR=function(e){np(n,e);function n(t){var a=this,s=O(O({},qR),t),o=y0(s),f=p0(o),l=C0(f),v=f0(l),u=v,h=D0(u),p=jR(h);return a=e.call(this,p)||this,a.config=p,a.middlewareStack.use(R0(a.config)),a.middlewareStack.use(i0(a.config)),a.middlewareStack.use(m0(a.config)),a.middlewareStack.use(_0(a.config)),a.middlewareStack.use(b0(a.config)),a.middlewareStack.use(O0(a.config)),a}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(L0),Rd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Rd||(Rd={}));var Dd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Dd||(Dd={}));var Od;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Od||(Od={}));var Qs;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Qs||(Qs={}));var eu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(eu||(eu={}));var Ld;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ld||(Ld={}));var Pd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Pd||(Pd={}));var Md;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING"})(Md||(Md={}));var kd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(kd||(kd={}));var Bd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Bd||(Bd={}));var Nd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Nd||(Nd={}));var Fd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Fd||(Fd={}));var Ud;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ud||(Ud={}));var zd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(zd||(zd={}));var $d;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})($d||($d={}));var Kd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Kd||(Kd={}));var Gd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Gd||(Gd={}));var Hd;(function(e){e.KMS="KMS",e.NONE="NONE"})(Hd||(Hd={}));var Wd;(function(e){e.ALL="ALL",e.INCOMING_BYTES="IncomingBytes",e.INCOMING_RECORDS="IncomingRecords",e.ITERATOR_AGE_MILLISECONDS="IteratorAgeMilliseconds",e.OUTGOING_BYTES="OutgoingBytes",e.OUTGOING_RECORDS="OutgoingRecords",e.READ_PROVISIONED_THROUGHPUT_EXCEEDED="ReadProvisionedThroughputExceeded",e.WRITE_PROVISIONED_THROUGHPUT_EXCEEDED="WriteProvisionedThroughputExceeded"})(Wd||(Wd={}));var qd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(qd||(qd={}));var jd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(jd||(jd={}));var Vd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Vd||(Vd={}));var Yd;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"})(Yd||(Yd={}));var Zd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Zd||(Zd={}));var Jd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Jd||(Jd={}));var Xd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Xd||(Xd={}));var Qd;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Qd||(Qd={}));var eh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(eh||(eh={}));var th;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(th||(th={}));var nh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(nh||(nh={}));var rh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(rh||(rh={}));var ih;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ih||(ih={}));var oh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(oh||(oh={}));var ah;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ah||(ah={}));var sh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(sh||(sh={}));var uh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(uh||(uh={}));var ch;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ch||(ch={}));var fh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(fh||(fh={}));var tu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(tu||(tu={}));var nu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(nu||(nu={}));var ru;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ru||(ru={}));var iu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(iu||(iu={}));var ou;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(ou||(ou={}));var au;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(au||(au={}));var lh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(lh||(lh={}));var dh;(function(e){e.AFTER_SEQUENCE_NUMBER="AFTER_SEQUENCE_NUMBER",e.AT_SEQUENCE_NUMBER="AT_SEQUENCE_NUMBER",e.AT_TIMESTAMP="AT_TIMESTAMP",e.LATEST="LATEST",e.TRIM_HORIZON="TRIM_HORIZON"})(dh||(dh={}));var hh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(hh||(hh={}));var vh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(vh||(vh={}));var gh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(gh||(gh={}));var su;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(su||(su={}));var ph;(function(e){e.AFTER_SHARD_ID="AFTER_SHARD_ID",e.AT_LATEST="AT_LATEST",e.AT_TIMESTAMP="AT_TIMESTAMP",e.AT_TRIM_HORIZON="AT_TRIM_HORIZON",e.FROM_TIMESTAMP="FROM_TIMESTAMP",e.FROM_TRIM_HORIZON="FROM_TRIM_HORIZON"})(ph||(ph={}));var yh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(yh||(yh={}));var mh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(mh||(mh={}));var _h;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(_h||(_h={}));var bh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(bh||(bh={}));var wh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(wh||(wh={}));var Sh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Sh||(Sh={}));var Eh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Eh||(Eh={}));var xh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(xh||(xh={}));var Ah;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ah||(Ah={}));var Ih;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ih||(Ih={}));var Th;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Th||(Th={}));var Ch;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ch||(Ch={}));var Rh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Rh||(Rh={}));var Dh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Dh||(Dh={}));var uu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(uu||(uu={}));var Oh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Oh||(Oh={}));var cu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(cu||(cu={}));var Lh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Lh||(Lh={}));var Ph;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Ph||(Ph={}));var Mh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Mh||(Mh={}));var kh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(kh||(kh={}));var Bh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Bh||(Bh={}));var Nh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Nh||(Nh={}));var Fh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Fh||(Fh={}));var Uh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Uh||(Uh={}));var fu;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(fu||(fu={}));var zh;(function(e){e.visit=function(n,t){return n.SubscribeToShardEvent!==void 0?t.SubscribeToShardEvent(n.SubscribeToShardEvent):n.ResourceNotFoundException!==void 0?t.ResourceNotFoundException(n.ResourceNotFoundException):n.ResourceInUseException!==void 0?t.ResourceInUseException(n.ResourceInUseException):n.KMSDisabledException!==void 0?t.KMSDisabledException(n.KMSDisabledException):n.KMSInvalidStateException!==void 0?t.KMSInvalidStateException(n.KMSInvalidStateException):n.KMSAccessDeniedException!==void 0?t.KMSAccessDeniedException(n.KMSAccessDeniedException):n.KMSNotFoundException!==void 0?t.KMSNotFoundException(n.KMSNotFoundException):n.KMSOptInRequired!==void 0?t.KMSOptInRequired(n.KMSOptInRequired):n.KMSThrottlingException!==void 0?t.KMSThrottlingException(n.KMSThrottlingException):n.InternalFailureException!==void 0?t.InternalFailureException(n.InternalFailureException):t._(n.$unknown[0],n.$unknown[1])},e.filterSensitiveLog=function(n){var t;if(n.SubscribeToShardEvent!==void 0)return{SubscribeToShardEvent:fu.filterSensitiveLog(n.SubscribeToShardEvent)};if(n.ResourceNotFoundException!==void 0)return{ResourceNotFoundException:eu.filterSensitiveLog(n.ResourceNotFoundException)};if(n.ResourceInUseException!==void 0)return{ResourceInUseException:Qs.filterSensitiveLog(n.ResourceInUseException)};if(n.KMSDisabledException!==void 0)return{KMSDisabledException:nu.filterSensitiveLog(n.KMSDisabledException)};if(n.KMSInvalidStateException!==void 0)return{KMSInvalidStateException:ru.filterSensitiveLog(n.KMSInvalidStateException)};if(n.KMSAccessDeniedException!==void 0)return{KMSAccessDeniedException:tu.filterSensitiveLog(n.KMSAccessDeniedException)};if(n.KMSNotFoundException!==void 0)return{KMSNotFoundException:iu.filterSensitiveLog(n.KMSNotFoundException)};if(n.KMSOptInRequired!==void 0)return{KMSOptInRequired:ou.filterSensitiveLog(n.KMSOptInRequired)};if(n.KMSThrottlingException!==void 0)return{KMSThrottlingException:au.filterSensitiveLog(n.KMSThrottlingException)};if(n.InternalFailureException!==void 0)return{InternalFailureException:su.filterSensitiveLog(n.InternalFailureException)};if(n.$unknown!==void 0)return t={},t[n.$unknown[0]]="UNKNOWN",t}})(zh||(zh={}));var $h;(function(e){e.filterSensitiveLog=function(n){return O(O({},n),n.EventStream&&{EventStream:"STREAMING_CONTENT"})}})($h||($h={}));var Kh;(function(e){e.UNIFORM_SCALING="UNIFORM_SCALING"})(Kh||(Kh={}));var Gh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Gh||(Gh={}));var Hh;(function(e){e.filterSensitiveLog=function(n){return O({},n)}})(Hh||(Hh={}));var YR=function(e,n){return et(void 0,void 0,void 0,function(){var t,a;return tt(this,function(s){return t={"content-type":"application/x-amz-json-1.1","x-amz-target":"Kinesis_20131202.PutRecords"},a=JSON.stringify(sD(e,n)),[2,xD(n,t,"/",void 0,a)]})})},ZR=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,JR(e,n)]:[4,cp(e.body,n)];case 1:return t=o.sent(),a={},a=mD(t),s=O({$metadata:Ee(e)},a),[2,Promise.resolve(s)]}})})},JR=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s,o,f,l,v,u,h,p,_,w,E,I,R,B,z;return tt(this,function(N){switch(N.label){case 0:return a=[O({},e)],z={},[4,cp(e.body,n)];case 1:switch(t=O.apply(void 0,a.concat([(z.body=N.sent(),z)])),o="UnknownError",o=AD(e,t.body),f=o,f){case"InvalidArgumentException":return[3,2];case"com.amazonaws.kinesis#InvalidArgumentException":return[3,2];case"KMSAccessDeniedException":return[3,4];case"com.amazonaws.kinesis#KMSAccessDeniedException":return[3,4];case"KMSDisabledException":return[3,6];case"com.amazonaws.kinesis#KMSDisabledException":return[3,6];case"KMSInvalidStateException":return[3,8];case"com.amazonaws.kinesis#KMSInvalidStateException":return[3,8];case"KMSNotFoundException":return[3,10];case"com.amazonaws.kinesis#KMSNotFoundException":return[3,10];case"KMSOptInRequired":return[3,12];case"com.amazonaws.kinesis#KMSOptInRequired":return[3,12];case"KMSThrottlingException":return[3,14];case"com.amazonaws.kinesis#KMSThrottlingException":return[3,14];case"ProvisionedThroughputExceededException":return[3,16];case"com.amazonaws.kinesis#ProvisionedThroughputExceededException":return[3,16];case"ResourceNotFoundException":return[3,18];case"com.amazonaws.kinesis#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return l=[{}],[4,XR(t)];case 3:return s=O.apply(void 0,[O.apply(void 0,l.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 4:return v=[{}],[4,QR(t)];case 5:return s=O.apply(void 0,[O.apply(void 0,v.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 6:return u=[{}],[4,eD(t)];case 7:return s=O.apply(void 0,[O.apply(void 0,u.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 8:return h=[{}],[4,tD(t)];case 9:return s=O.apply(void 0,[O.apply(void 0,h.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 10:return p=[{}],[4,nD(t)];case 11:return s=O.apply(void 0,[O.apply(void 0,p.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 12:return _=[{}],[4,rD(t)];case 13:return s=O.apply(void 0,[O.apply(void 0,_.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 14:return w=[{}],[4,iD(t)];case 15:return s=O.apply(void 0,[O.apply(void 0,w.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 16:return E=[{}],[4,oD(t)];case 17:return s=O.apply(void 0,[O.apply(void 0,E.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 18:return I=[{}],[4,aD(t)];case 19:return s=O.apply(void 0,[O.apply(void 0,I.concat([N.sent()])),{name:o,$metadata:Ee(e)}]),[3,21];case 20:R=t.body,o=R.code||R.Code||o,s=O(O({},R),{name:""+o,message:R.message||R.Message||o,$fault:"client",$metadata:Ee(e)}),N.label=21;case 21:return B=s.message||s.Message||o,s.message=B,delete s.Message,[2,Promise.reject(Object.assign(new Error(B),s))]}})})},XR=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=fD(t),s=O({name:"InvalidArgumentException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},QR=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=lD(t),s=O({name:"KMSAccessDeniedException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},eD=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=dD(t),s=O({name:"KMSDisabledException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},tD=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=hD(t),s=O({name:"KMSInvalidStateException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},nD=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=vD(t),s=O({name:"KMSNotFoundException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},rD=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=gD(t),s=O({name:"KMSOptInRequired",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},iD=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=pD(t),s=O({name:"KMSThrottlingException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},oD=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=yD(t),s=O({name:"ProvisionedThroughputExceededException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},aD=function(e,n){return et(void 0,void 0,void 0,function(){var t,a,s;return tt(this,function(o){return t=e.body,a=wD(t),s=O({name:"ResourceNotFoundException",$fault:"client",$metadata:Ee(e)},a),[2,s]})})},sD=function(e,n){return O(O({},e.Records!==void 0&&e.Records!==null&&{Records:cD(e.Records,n)}),e.StreamName!==void 0&&e.StreamName!==null&&{StreamName:e.StreamName})},uD=function(e,n){return O(O(O({},e.Data!==void 0&&e.Data!==null&&{Data:n.base64Encoder(e.Data)}),e.ExplicitHashKey!==void 0&&e.ExplicitHashKey!==null&&{ExplicitHashKey:e.ExplicitHashKey}),e.PartitionKey!==void 0&&e.PartitionKey!==null&&{PartitionKey:e.PartitionKey})},cD=function(e,n){return e.filter(function(t){return t!=null}).map(function(t){return t===null?null:uD(t,n)})},fD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},lD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},dD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},hD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},vD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},gD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},pD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},yD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},mD=function(e,n){return{EncryptionType:e.EncryptionType!==void 0&&e.EncryptionType!==null?e.EncryptionType:void 0,FailedRecordCount:e.FailedRecordCount!==void 0&&e.FailedRecordCount!==null?e.FailedRecordCount:void 0,Records:e.Records!==void 0&&e.Records!==null?bD(e.Records):void 0}},_D=function(e,n){return{ErrorCode:e.ErrorCode!==void 0&&e.ErrorCode!==null?e.ErrorCode:void 0,ErrorMessage:e.ErrorMessage!==void 0&&e.ErrorMessage!==null?e.ErrorMessage:void 0,SequenceNumber:e.SequenceNumber!==void 0&&e.SequenceNumber!==null?e.SequenceNumber:void 0,ShardId:e.ShardId!==void 0&&e.ShardId!==null?e.ShardId:void 0}},bD=function(e,n){return(e||[]).filter(function(t){return t!=null}).map(function(t){return t===null?null:_D(t)})},wD=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Ee=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},SD=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},ED=function(e,n){return SD(e,n).then(function(t){return n.utf8Encoder(t)})},xD=function(e,n,t,a,s){return et(void 0,void 0,void 0,function(){var o,f,l,v,u,h;return tt(this,function(p){switch(p.label){case 0:return[4,e.endpoint()];case 1:return o=p.sent(),f=o.hostname,l=o.protocol,v=l===void 0?"https":l,u=o.port,h={protocol:v,hostname:f,port:u,method:"POST",path:t,headers:n},a!==void 0&&(h.hostname=a),s!==void 0&&(h.body=s),[2,new an(h)]}})})},cp=function(e,n){return ED(e,n).then(function(t){return t.length?JSON.parse(t):{}})},AD=function(e,n){var t=function(o,f){return Object.keys(o).find(function(l){return l.toLowerCase()===f.toLowerCase()})},a=function(o){var f=o;return f.indexOf(":")>=0&&(f=f.split(":")[0]),f.indexOf("#")>=0&&(f=f.split("#")[1]),f},s=t(e.headers,"x-amzn-errortype");return s!==void 0?a(e.headers[s]):n.code!==void 0?a(n.code):n.__type!==void 0?a(n.__type):""},ID=function(e){np(n,e);function n(t){var a=e.call(this)||this;return a.input=t,a}return n.prototype.resolveMiddleware=function(t,a,s){this.middlewareStack.use(M0(a,this.serialize,this.deserialize));var o=t.concat(this.middlewareStack),f=a.logger,l="KinesisClient",v="PutRecordsCommand",u={logger:f,clientName:l,commandName:v,inputFilterSensitiveLog:uu.filterSensitiveLog,outputFilterSensitiveLog:cu.filterSensitiveLog},h=a.requestHandler;return o.resolve(function(p){return h.handle(p.request,s||{})},u)},n.prototype.serialize=function(t,a){return YR(t,a)},n.prototype.deserialize=function(t,a){return ZR(t,a)},n}(P0),lt=new Ie("AWSKinesisProvider"),Wh=1e3,TD=100,CD=5*1e3,RD=5,DD=function(){function e(n){this._buffer=[],this._config=n||{},this._config.bufferSize=this._config.bufferSize||Wh,this._config.flushSize=this._config.flushSize||TD,this._config.flushInterval=this._config.flushInterval||CD,this._config.resendLimit=this._config.resendLimit||RD,this._setupTimer()}return e.prototype._setupTimer=function(){var n=this;this._timer&&clearInterval(this._timer);var t=this._config,a=t.flushSize,s=t.flushInterval;this._timer=setInterval(function(){for(var o=n._buffer.length<a?n._buffer.length:a,f=[],l=0;l<o;l+=1){var v=n._buffer.shift();f.push(v)}n._sendFromBuffer(f)},s)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(n){lt.debug("configure Analytics",n);var t=n||{};return this._config=Object.assign({},this._config,t),this._setupTimer(),this._config},e.prototype.record=function(n){var t;return V(this,void 0,void 0,function(){var a;return j(this,function(s){switch(s.label){case 0:return[4,this._getCredentials()];case 1:return a=s.sent(),a?(Object.assign(n,{config:this._config,credentials:a}),!((t=n.event)===null||t===void 0)&&t.immediate?(this._sendEvents([n]),[2,Promise.resolve(!0)]):[2,this._putToBuffer(n)]):[2,Promise.resolve(!1)]}})})},e.prototype.updateEndpoint=function(){return lt.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(n){return this._buffer.length<Wh?(this._buffer.push(n),Promise.resolve(!0)):(lt.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(n){for(var t=this,a=[],s=null,o=[],f=0;f<n.length;f+=1){var l=n[f].credentials;f===0?(o.push(n[f]),s=l):l.sessionToken===s.sessionToken&&l.identityId===s.identityId?(lt.debug("no change for cred, put event in the same group"),o.push(n[f])):(a.push(o),o=[],o.push(n[f]),s=l)}a.push(o),a.map(function(v){t._sendEvents(v)})},e.prototype._sendEvents=function(n){var t=this;if(n.length!==0){var a=n[0],s=a.config,o=a.credentials,f=this._init(s,o);if(!f)return!1;var l={};n.map(function(v){var u=v.event,h=u.streamName;l[h]===void 0&&(l[h]=[]);var p=u.data&&typeof u.data!="string"?JSON.stringify(u.data):u.data,_=zo(p),w=u.partitionKey||"partition-"+o.identityId,E={Data:_,PartitionKey:w};l[h].push(E)}),Object.keys(l).map(function(v){return V(t,void 0,void 0,function(){var u,h;return j(this,function(p){switch(p.label){case 0:lt.debug("putting records to kinesis with records",l[v]),p.label=1;case 1:return p.trys.push([1,3,,4]),u=new ID({Records:l[v],StreamName:v}),[4,this._kinesis.send(u)];case 2:return p.sent(),lt.debug("Upload records to stream",v),[3,4];case 3:return h=p.sent(),lt.debug("Failed to upload records to Kinesis",h),[3,4];case 4:return[2]}})})})}},e.prototype._init=function(n,t){if(lt.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return lt.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var a=n.region,s=n.endpoint;return this._initKinesis(a,s,t)},e.prototype._initKinesis=function(n,t,a){return lt.debug("initialize kinesis with credentials",a),this._kinesis=new VR({region:n,credentials:a,customUserAgent:Q0(Dn.Record),endpoint:t}),!0},e.prototype._getCredentials=function(){var n=this;return Yr.get().then(function(t){return t?(lt.debug("set credentials for analytics",n._config.credentials),Yr.shear(t)):null}).catch(function(t){return lt.debug("ensure credentials error",t),null})},e}(),lu=function(e,n){return lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},lu(e,n)};function fp(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");lu(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var T=function(){return T=Object.assign||function(n){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},T.apply(this,arguments)};function cn(e,n,t,a){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function l(h){try{u(a.next(h))}catch(p){f(p)}}function v(h){try{u(a.throw(h))}catch(p){f(p)}}function u(h){h.done?o(h.value):s(h.value).then(l,v)}u((a=a.apply(e,n||[])).next())})}function fn(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(u){return function(h){return v([u,h])}}function v(u){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(t=0)),t;)try{if(a=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=n.call(e,t)}catch(h){u=[6,h],s=0}finally{a=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}const OD="@aws-sdk/client-firehose",LD="AWS SDK for JavaScript Firehose Client for Node.js, Browser and React Native",PD="3.6.1",MD={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},kD="./dist/cjs/index.js",BD="./types/index.d.ts",ND="./dist/es/index.js",FD={"./runtimeConfig":"./runtimeConfig.browser"},UD=!1,zD={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},$D={"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},KD={node:">=10.0.0"},GD={"<4.0":{"types/*":["types/ts3.4/*"]}},HD={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},WD="Apache-2.0",qD="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-firehose",jD={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-firehose"},VD={name:OD,description:LD,version:PD,scripts:MD,main:kD,types:BD,module:ND,browser:FD,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:UD,dependencies:zD,devDependencies:$D,engines:KD,typesVersions:GD,author:HD,license:WD,homepage:qD,repository:jD};var qh="firehose.{region}.amazonaws.com",YD="firehose.{region}.amazonaws.com.cn",ZD="firehose.{region}.c2s.ic.gov",JD="firehose.{region}.sc2s.sgov.gov",XD="firehose.{region}.amazonaws.com",QD=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),eO=new Set(["cn-north-1","cn-northwest-1"]),tO=new Set(["us-iso-east-1"]),nO=new Set(["us-isob-east-1"]),rO=new Set(["us-gov-east-1","us-gov-west-1"]),iO=function(e,n){var t=void 0;switch(e){case"af-south-1":t={hostname:"firehose.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":t={hostname:"firehose.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":t={hostname:"firehose.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":t={hostname:"firehose.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":t={hostname:"firehose.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":t={hostname:"firehose.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":t={hostname:"firehose.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":t={hostname:"firehose.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":t={hostname:"firehose.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":t={hostname:"firehose.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":t={hostname:"firehose.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":t={hostname:"firehose.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":t={hostname:"firehose.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":t={hostname:"firehose.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":t={hostname:"firehose.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":t={hostname:"firehose.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":t={hostname:"firehose-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":t={hostname:"firehose-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-east-1":t={hostname:"firehose-fips.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"fips-us-gov-west-1":t={hostname:"firehose-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-1":t={hostname:"firehose-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":t={hostname:"firehose-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":t={hostname:"firehose.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":t={hostname:"firehose.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":t={hostname:"firehose.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":t={hostname:"firehose.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":t={hostname:"firehose.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":t={hostname:"firehose.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":t={hostname:"firehose.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":t={hostname:"firehose.us-west-2.amazonaws.com",partition:"aws"};break;default:QD.has(e)&&(t={hostname:qh.replace("{region}",e),partition:"aws"}),eO.has(e)&&(t={hostname:YD.replace("{region}",e),partition:"aws-cn"}),tO.has(e)&&(t={hostname:ZD.replace("{region}",e),partition:"aws-iso"}),nO.has(e)&&(t={hostname:JD.replace("{region}",e),partition:"aws-iso-b"}),rO.has(e)&&(t={hostname:XD.replace("{region}",e),partition:"aws-us-gov"}),t===void 0&&(t={hostname:qh.replace("{region}",e),partition:"aws"})}return Promise.resolve(T({signingService:"firehose"},t))},jh={apiVersion:"2015-08-04",disableHostPrefix:!1,logger:{},regionInfoProvider:iO,serviceId:"Firehose",urlParser:g0},oO=T(T({},jh),{runtime:"browser",base64Decoder:Pu,base64Encoder:t0,bodyLengthChecker:l0,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:h0({serviceId:jh.serviceId,clientVersion:VD.version}),maxAttempts:Uo,region:r0("Region is missing"),requestHandler:new e0,sha256:Ru.Sha256,streamCollector:n0,utf8Decoder:zo,utf8Encoder:v0}),aO=function(e){fp(n,e);function n(t){var a=this,s=T(T({},oO),t),o=y0(s),f=p0(o),l=C0(f),v=f0(l),u=v,h=D0(u);return a=e.call(this,h)||this,a.config=h,a.middlewareStack.use(R0(a.config)),a.middlewareStack.use(i0(a.config)),a.middlewareStack.use(m0(a.config)),a.middlewareStack.use(_0(a.config)),a.middlewareStack.use(b0(a.config)),a.middlewareStack.use(O0(a.config)),a}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(L0),Vh;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Vh||(Vh={}));var Yh;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Yh||(Yh={}));var Zh;(function(e){e.GZIP="GZIP",e.HADOOP_SNAPPY="HADOOP_SNAPPY",e.SNAPPY="Snappy",e.UNCOMPRESSED="UNCOMPRESSED",e.ZIP="ZIP"})(Zh||(Zh={}));var Jh;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Jh||(Jh={}));var Xh;(function(e){e.GZIP="GZIP",e.NONE="NONE"})(Xh||(Xh={}));var Qh;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Qh||(Qh={}));var ev;(function(e){e.AWS_OWNED_CMK="AWS_OWNED_CMK",e.CUSTOMER_MANAGED_CMK="CUSTOMER_MANAGED_CMK"})(ev||(ev={}));var tv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(tv||(tv={}));var nv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(nv||(nv={}));var rv;(function(e){e.BUFFER_INTERVAL_IN_SECONDS="BufferIntervalInSeconds",e.BUFFER_SIZE_IN_MB="BufferSizeInMBs",e.LAMBDA_ARN="LambdaArn",e.LAMBDA_NUMBER_OF_RETRIES="NumberOfRetries",e.ROLE_ARN="RoleArn"})(rv||(rv={}));var iv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(iv||(iv={}));var ov;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ov||(ov={}));var av;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(av||(av={}));var sv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(sv||(sv={}));var uv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(uv||(uv={}));var cv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(cv||(cv={}));var fv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(fv||(fv={}));var lv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(lv||(lv={}));var dv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(dv||(dv={}));var hv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(hv||(hv={}));var vv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(vv||(vv={}));var gv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(gv||(gv={}));var pv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(pv||(pv={}));var yv;(function(e){e.NONE="NONE",e.SNAPPY="SNAPPY",e.ZLIB="ZLIB"})(yv||(yv={}));var mv;(function(e){e.V0_11="V0_11",e.V0_12="V0_12"})(mv||(mv={}));var _v;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(_v||(_v={}));var bv;(function(e){e.GZIP="GZIP",e.SNAPPY="SNAPPY",e.UNCOMPRESSED="UNCOMPRESSED"})(bv||(bv={}));var wv;(function(e){e.V1="V1",e.V2="V2"})(wv||(wv={}));var Sv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Sv||(Sv={}));var Ev;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Ev||(Ev={}));var xv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(xv||(xv={}));var Av;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Av||(Av={}));var Iv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Iv||(Iv={}));var Tv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Tv||(Tv={}));var Cv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Cv||(Cv={}));var So;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.Url&&{Url:Dt}),n.AccessKey&&{AccessKey:Dt})}})(So||(So={}));var du;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.AttributeName&&{AttributeName:Dt}),n.AttributeValue&&{AttributeValue:Dt})}})(du||(du={}));var Jr;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.CommonAttributes&&{CommonAttributes:n.CommonAttributes.map(function(t){return du.filterSensitiveLog(t)})})}})(Jr||(Jr={}));var Rv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Rv||(Rv={}));var hu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.EndpointConfiguration&&{EndpointConfiguration:So.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Jr.filterSensitiveLog(n.RequestConfiguration)})}})(hu||(hu={}));var Dv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Dv||(Dv={}));var Ov;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Ov||(Ov={}));var vu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.Username&&{Username:Dt}),n.Password&&{Password:Dt})}})(vu||(vu={}));var Lv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Lv||(Lv={}));var Pv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Pv||(Pv={}));var Mv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Mv||(Mv={}));var kv;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.RedshiftDestinationConfiguration&&{RedshiftDestinationConfiguration:vu.filterSensitiveLog(n.RedshiftDestinationConfiguration)}),n.HttpEndpointDestinationConfiguration&&{HttpEndpointDestinationConfiguration:hu.filterSensitiveLog(n.HttpEndpointDestinationConfiguration)})}})(kv||(kv={}));var Bv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Bv||(Bv={}));var Nv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Nv||(Nv={}));var Fv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Fv||(Fv={}));var Uv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Uv||(Uv={}));var zv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(zv||(zv={}));var $v;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})($v||($v={}));var Kv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Kv||(Kv={}));var Gv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Gv||(Gv={}));var Hv;(function(e){e.CREATE_ENI_FAILED="CREATE_ENI_FAILED",e.CREATE_KMS_GRANT_FAILED="CREATE_KMS_GRANT_FAILED",e.DELETE_ENI_FAILED="DELETE_ENI_FAILED",e.DISABLED_KMS_KEY="DISABLED_KMS_KEY",e.ENI_ACCESS_DENIED="ENI_ACCESS_DENIED",e.INVALID_KMS_KEY="INVALID_KMS_KEY",e.KMS_ACCESS_DENIED="KMS_ACCESS_DENIED",e.KMS_KEY_NOT_FOUND="KMS_KEY_NOT_FOUND",e.KMS_OPT_IN_REQUIRED="KMS_OPT_IN_REQUIRED",e.RETIRE_KMS_GRANT_FAILED="RETIRE_KMS_GRANT_FAILED",e.SECURITY_GROUP_ACCESS_DENIED="SECURITY_GROUP_ACCESS_DENIED",e.SECURITY_GROUP_NOT_FOUND="SECURITY_GROUP_NOT_FOUND",e.SUBNET_ACCESS_DENIED="SUBNET_ACCESS_DENIED",e.SUBNET_NOT_FOUND="SUBNET_NOT_FOUND",e.UNKNOWN_ERROR="UNKNOWN_ERROR"})(Hv||(Hv={}));var Wv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Wv||(Wv={}));var qv;(function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.DISABLING_FAILED="DISABLING_FAILED",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.ENABLING_FAILED="ENABLING_FAILED"})(qv||(qv={}));var jv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(jv||(jv={}));var Vv;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATING_FAILED="CREATING_FAILED",e.DELETING="DELETING",e.DELETING_FAILED="DELETING_FAILED"})(Vv||(Vv={}));var Yv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Yv||(Yv={}));var Zv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Zv||(Zv={}));var Jv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Jv||(Jv={}));var Xv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Xv||(Xv={}));var gu;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.Url&&{Url:Dt})}})(gu||(gu={}));var pu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.EndpointConfiguration&&{EndpointConfiguration:gu.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Jr.filterSensitiveLog(n.RequestConfiguration)})}})(pu||(pu={}));var yu;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.Username&&{Username:Dt})}})(yu||(yu={}));var Qv;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Qv||(Qv={}));var mu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.RedshiftDestinationDescription&&{RedshiftDestinationDescription:yu.filterSensitiveLog(n.RedshiftDestinationDescription)}),n.HttpEndpointDestinationDescription&&{HttpEndpointDestinationDescription:pu.filterSensitiveLog(n.HttpEndpointDestinationDescription)})}})(mu||(mu={}));var eg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(eg||(eg={}));var tg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(tg||(tg={}));var _u;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.Destinations&&{Destinations:n.Destinations.map(function(t){return mu.filterSensitiveLog(t)})})}})(_u||(_u={}));var ng;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ng||(ng={}));var rg;(function(e){e.filterSensitiveLog=function(n){return T(T({},n),n.DeliveryStreamDescription&&{DeliveryStreamDescription:_u.filterSensitiveLog(n.DeliveryStreamDescription)})}})(rg||(rg={}));var ig;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ig||(ig={}));var og;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(og||(og={}));var ag;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ag||(ag={}));var sg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(sg||(sg={}));var ug;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(ug||(ug={}));var cg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(cg||(cg={}));var fg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(fg||(fg={}));var lg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(lg||(lg={}));var dg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(dg||(dg={}));var hg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(hg||(hg={}));var vg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(vg||(vg={}));var bu;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(bu||(bu={}));var gg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(gg||(gg={}));var wu;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(wu||(wu={}));var pg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(pg||(pg={}));var yg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(yg||(yg={}));var mg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(mg||(mg={}));var _g;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(_g||(_g={}));var bg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(bg||(bg={}));var wg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(wg||(wg={}));var Sg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Sg||(Sg={}));var Eg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Eg||(Eg={}));var Su;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.EndpointConfiguration&&{EndpointConfiguration:So.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Jr.filterSensitiveLog(n.RequestConfiguration)})}})(Su||(Su={}));var Eu;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.Username&&{Username:Dt}),n.Password&&{Password:Dt})}})(Eu||(Eu={}));var xg;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(xg||(xg={}));var Ag;(function(e){e.filterSensitiveLog=function(n){return T(T(T({},n),n.RedshiftDestinationUpdate&&{RedshiftDestinationUpdate:Eu.filterSensitiveLog(n.RedshiftDestinationUpdate)}),n.HttpEndpointDestinationUpdate&&{HttpEndpointDestinationUpdate:Su.filterSensitiveLog(n.HttpEndpointDestinationUpdate)})}})(Ag||(Ag={}));var Ig;(function(e){e.filterSensitiveLog=function(n){return T({},n)}})(Ig||(Ig={}));var sO=function(e,n){return cn(void 0,void 0,void 0,function(){var t,a;return fn(this,function(s){return t={"content-type":"application/x-amz-json-1.1","x-amz-target":"Firehose_20150804.PutRecordBatch"},a=JSON.stringify(vO(e,n)),[2,IO(n,t,"/",void 0,a)]})})},uO=function(e,n){return cn(void 0,void 0,void 0,function(){var t,a,s;return fn(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,cO(e,n)]:[4,lp(e.body,n)];case 1:return t=o.sent(),a={},a=_O(t),s=T({$metadata:Rt(e)},a),[2,Promise.resolve(s)]}})})},cO=function(e,n){return cn(void 0,void 0,void 0,function(){var t,a,s,o,f,l,v,u,h,p,_,w;return fn(this,function(E){switch(E.label){case 0:return a=[T({},e)],w={},[4,lp(e.body,n)];case 1:switch(t=T.apply(void 0,a.concat([(w.body=E.sent(),w)])),o="UnknownError",o=TO(e,t.body),f=o,f){case"InvalidArgumentException":return[3,2];case"com.amazonaws.firehose#InvalidArgumentException":return[3,2];case"InvalidKMSResourceException":return[3,4];case"com.amazonaws.firehose#InvalidKMSResourceException":return[3,4];case"ResourceNotFoundException":return[3,6];case"com.amazonaws.firehose#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":return[3,8];case"com.amazonaws.firehose#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return l=[{}],[4,fO(t)];case 3:return s=T.apply(void 0,[T.apply(void 0,l.concat([E.sent()])),{name:o,$metadata:Rt(e)}]),[3,11];case 4:return v=[{}],[4,lO(t)];case 5:return s=T.apply(void 0,[T.apply(void 0,v.concat([E.sent()])),{name:o,$metadata:Rt(e)}]),[3,11];case 6:return u=[{}],[4,dO(t)];case 7:return s=T.apply(void 0,[T.apply(void 0,u.concat([E.sent()])),{name:o,$metadata:Rt(e)}]),[3,11];case 8:return h=[{}],[4,hO(t)];case 9:return s=T.apply(void 0,[T.apply(void 0,h.concat([E.sent()])),{name:o,$metadata:Rt(e)}]),[3,11];case 10:p=t.body,o=p.code||p.Code||o,s=T(T({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Rt(e)}),E.label=11;case 11:return _=s.message||s.Message||o,s.message=_,delete s.Message,[2,Promise.reject(Object.assign(new Error(_),s))]}})})},fO=function(e,n){return cn(void 0,void 0,void 0,function(){var t,a,s;return fn(this,function(o){return t=e.body,a=yO(t),s=T({name:"InvalidArgumentException",$fault:"client",$metadata:Rt(e)},a),[2,s]})})},lO=function(e,n){return cn(void 0,void 0,void 0,function(){var t,a,s;return fn(this,function(o){return t=e.body,a=mO(t),s=T({name:"InvalidKMSResourceException",$fault:"client",$metadata:Rt(e)},a),[2,s]})})},dO=function(e,n){return cn(void 0,void 0,void 0,function(){var t,a,s;return fn(this,function(o){return t=e.body,a=SO(t),s=T({name:"ResourceNotFoundException",$fault:"client",$metadata:Rt(e)},a),[2,s]})})},hO=function(e,n){return cn(void 0,void 0,void 0,function(){var t,a,s;return fn(this,function(o){return t=e.body,a=EO(t),s=T({name:"ServiceUnavailableException",$fault:"server",$metadata:Rt(e)},a),[2,s]})})},vO=function(e,n){return T(T({},e.DeliveryStreamName!==void 0&&e.DeliveryStreamName!==null&&{DeliveryStreamName:e.DeliveryStreamName}),e.Records!==void 0&&e.Records!==null&&{Records:gO(e.Records,n)})},gO=function(e,n){return e.filter(function(t){return t!=null}).map(function(t){return t===null?null:pO(t,n)})},pO=function(e,n){return T({},e.Data!==void 0&&e.Data!==null&&{Data:n.base64Encoder(e.Data)})},yO=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},mO=function(e,n){return{code:e.code!==void 0&&e.code!==null?e.code:void 0,message:e.message!==void 0&&e.message!==null?e.message:void 0}},_O=function(e,n){return{Encrypted:e.Encrypted!==void 0&&e.Encrypted!==null?e.Encrypted:void 0,FailedPutCount:e.FailedPutCount!==void 0&&e.FailedPutCount!==null?e.FailedPutCount:void 0,RequestResponses:e.RequestResponses!==void 0&&e.RequestResponses!==null?wO(e.RequestResponses):void 0}},bO=function(e,n){return{ErrorCode:e.ErrorCode!==void 0&&e.ErrorCode!==null?e.ErrorCode:void 0,ErrorMessage:e.ErrorMessage!==void 0&&e.ErrorMessage!==null?e.ErrorMessage:void 0,RecordId:e.RecordId!==void 0&&e.RecordId!==null?e.RecordId:void 0}},wO=function(e,n){return(e||[]).filter(function(t){return t!=null}).map(function(t){return t===null?null:bO(t)})},SO=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},EO=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Rt=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},xO=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},AO=function(e,n){return xO(e,n).then(function(t){return n.utf8Encoder(t)})},IO=function(e,n,t,a,s){return cn(void 0,void 0,void 0,function(){var o,f,l,v,u,h;return fn(this,function(p){switch(p.label){case 0:return[4,e.endpoint()];case 1:return o=p.sent(),f=o.hostname,l=o.protocol,v=l===void 0?"https":l,u=o.port,h={protocol:v,hostname:f,port:u,method:"POST",path:t,headers:n},a!==void 0&&(h.hostname=a),s!==void 0&&(h.body=s),[2,new an(h)]}})})},lp=function(e,n){return AO(e,n).then(function(t){return t.length?JSON.parse(t):{}})},TO=function(e,n){var t=function(o,f){return Object.keys(o).find(function(l){return l.toLowerCase()===f.toLowerCase()})},a=function(o){var f=o;return f.indexOf(":")>=0&&(f=f.split(":")[0]),f.indexOf("#")>=0&&(f=f.split("#")[1]),f},s=t(e.headers,"x-amzn-errortype");return s!==void 0?a(e.headers[s]):n.code!==void 0?a(n.code):n.__type!==void 0?a(n.__type):""},CO=function(e){fp(n,e);function n(t){var a=e.call(this)||this;return a.input=t,a}return n.prototype.resolveMiddleware=function(t,a,s){this.middlewareStack.use(M0(a,this.serialize,this.deserialize));var o=t.concat(this.middlewareStack),f=a.logger,l="FirehoseClient",v="PutRecordBatchCommand",u={logger:f,clientName:l,commandName:v,inputFilterSensitiveLog:bu.filterSensitiveLog,outputFilterSensitiveLog:wu.filterSensitiveLog},h=a.requestHandler;return o.resolve(function(p){return h.handle(p.request,s||{})},u)},n.prototype.serialize=function(t,a){return sO(t,a)},n.prototype.deserialize=function(t,a){return uO(t,a)},n}(P0),Xn=new Ie("AWSKineisFirehoseProvider"),RO=function(e){Io(n,e);function n(t){return e.call(this,t)||this}return n.prototype.getProviderName=function(){return"AWSKinesisFirehose"},n.prototype._sendEvents=function(t){var a=this;if(t.length!==0){var s=t[0],o=s.config,f=s.credentials,l=this._init(o,f);if(!l)return!1;var v={};t.map(function(u){var h=u.event,p=h.streamName,_=h.data;v[p]===void 0&&(v[p]=[]);var w=_&&typeof _!="string"?JSON.stringify(_):_,E=zo(w),I={Data:E};v[p].push(I)}),Object.keys(v).map(function(u){Xn.debug("putting records to kinesis",u,"with records",v[u]),a._kinesisFirehose.send(new CO({Records:v[u],DeliveryStreamName:u})).then(function(h){return Xn.debug("Upload records to stream",u)}).catch(function(h){return Xn.debug("Failed to upload records to Kinesis",h)})})}},n.prototype._init=function(t,a){if(Xn.debug("init clients"),this._kinesisFirehose&&this._config.credentials&&this._config.credentials.sessionToken===a.sessionToken&&this._config.credentials.identityId===a.identityId)return Xn.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=a;var s=t.region;return this._initFirehose(s,a)},n.prototype._initFirehose=function(t,a){return Xn.debug("initialize kinesis firehose with credentials",a),this._kinesisFirehose=new aO({apiVersion:"2015-08-04",region:t,credentials:a,customUserAgent:Q0(Dn.Record)}),!0},n}(DD),Eo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Eo.exports;(function(e,n){(function(){var t,a="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",l="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",u=500,h="__lodash_placeholder__",p=1,_=2,w=4,E=1,I=2,R=1,B=2,z=4,N=8,G=16,Y=32,ve=64,le=128,Se=256,Et=512,ni=30,Ht="...",dp=800,hp=16,$u=1,vp=2,gp=3,ln=1/0,Wt=9007199254740991,pp=17976931348623157e292,ri=0/0,xt=4294967295,yp=xt-1,mp=xt>>>1,_p=[["ary",le],["bind",R],["bindKey",B],["curry",N],["curryRight",G],["flip",Et],["partial",Y],["partialRight",ve],["rearg",Se]],Ln="[object Arguments]",ii="[object Array]",bp="[object AsyncFunction]",cr="[object Boolean]",fr="[object Date]",wp="[object DOMException]",oi="[object Error]",ai="[object Function]",Ku="[object GeneratorFunction]",ht="[object Map]",lr="[object Number]",Sp="[object Null]",Ot="[object Object]",Gu="[object Promise]",Ep="[object Proxy]",dr="[object RegExp]",vt="[object Set]",hr="[object String]",si="[object Symbol]",xp="[object Undefined]",vr="[object WeakMap]",Ap="[object WeakSet]",gr="[object ArrayBuffer]",Pn="[object DataView]",qo="[object Float32Array]",jo="[object Float64Array]",Vo="[object Int8Array]",Yo="[object Int16Array]",Zo="[object Int32Array]",Jo="[object Uint8Array]",Xo="[object Uint8ClampedArray]",Qo="[object Uint16Array]",ea="[object Uint32Array]",Ip=/\b__p \+= '';/g,Tp=/\b(__p \+=) '' \+/g,Cp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hu=/&(?:amp|lt|gt|quot|#39);/g,Wu=/[&<>"']/g,Rp=RegExp(Hu.source),Dp=RegExp(Wu.source),Op=/<%-([\s\S]+?)%>/g,Lp=/<%([\s\S]+?)%>/g,qu=/<%=([\s\S]+?)%>/g,Pp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mp=/^\w*$/,kp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ta=/[\\^$.*+?()[\]{}|]/g,Bp=RegExp(ta.source),na=/^\s+/,Np=/\s/,Fp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Up=/\{\n\/\* \[wrapped with (.+)\] \*/,zp=/,? & /,$p=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Kp=/[()=,{}\[\]\/\s]/,Gp=/\\(\\)?/g,Hp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ju=/\w*$/,Wp=/^[-+]0x[0-9a-f]+$/i,qp=/^0b[01]+$/i,jp=/^\[object .+?Constructor\]$/,Vp=/^0o[0-7]+$/i,Yp=/^(?:0|[1-9]\d*)$/,Zp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ui=/($^)/,Jp=/['\n\r\u2028\u2029\\]/g,ci="\\ud800-\\udfff",Xp="\\u0300-\\u036f",Qp="\\ufe20-\\ufe2f",ey="\\u20d0-\\u20ff",Vu=Xp+Qp+ey,Yu="\\u2700-\\u27bf",Zu="a-z\\xdf-\\xf6\\xf8-\\xff",ty="\\xac\\xb1\\xd7\\xf7",ny="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ry="\\u2000-\\u206f",iy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ju="A-Z\\xc0-\\xd6\\xd8-\\xde",Xu="\\ufe0e\\ufe0f",Qu=ty+ny+ry+iy,ra="[']",oy="["+ci+"]",ec="["+Qu+"]",fi="["+Vu+"]",tc="\\d+",ay="["+Yu+"]",nc="["+Zu+"]",rc="[^"+ci+Qu+tc+Yu+Zu+Ju+"]",ia="\\ud83c[\\udffb-\\udfff]",sy="(?:"+fi+"|"+ia+")",ic="[^"+ci+"]",oa="(?:\\ud83c[\\udde6-\\uddff]){2}",aa="[\\ud800-\\udbff][\\udc00-\\udfff]",Mn="["+Ju+"]",oc="\\u200d",ac="(?:"+nc+"|"+rc+")",uy="(?:"+Mn+"|"+rc+")",sc="(?:"+ra+"(?:d|ll|m|re|s|t|ve))?",uc="(?:"+ra+"(?:D|LL|M|RE|S|T|VE))?",cc=sy+"?",fc="["+Xu+"]?",cy="(?:"+oc+"(?:"+[ic,oa,aa].join("|")+")"+fc+cc+")*",fy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ly="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",lc=fc+cc+cy,dy="(?:"+[ay,oa,aa].join("|")+")"+lc,hy="(?:"+[ic+fi+"?",fi,oa,aa,oy].join("|")+")",vy=RegExp(ra,"g"),gy=RegExp(fi,"g"),sa=RegExp(ia+"(?="+ia+")|"+hy+lc,"g"),py=RegExp([Mn+"?"+nc+"+"+sc+"(?="+[ec,Mn,"$"].join("|")+")",uy+"+"+uc+"(?="+[ec,Mn+ac,"$"].join("|")+")",Mn+"?"+ac+"+"+sc,Mn+"+"+uc,ly,fy,tc,dy].join("|"),"g"),yy=RegExp("["+oc+ci+Vu+Xu+"]"),my=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_y=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],by=-1,de={};de[qo]=de[jo]=de[Vo]=de[Yo]=de[Zo]=de[Jo]=de[Xo]=de[Qo]=de[ea]=!0,de[Ln]=de[ii]=de[gr]=de[cr]=de[Pn]=de[fr]=de[oi]=de[ai]=de[ht]=de[lr]=de[Ot]=de[dr]=de[vt]=de[hr]=de[vr]=!1;var fe={};fe[Ln]=fe[ii]=fe[gr]=fe[Pn]=fe[cr]=fe[fr]=fe[qo]=fe[jo]=fe[Vo]=fe[Yo]=fe[Zo]=fe[ht]=fe[lr]=fe[Ot]=fe[dr]=fe[vt]=fe[hr]=fe[si]=fe[Jo]=fe[Xo]=fe[Qo]=fe[ea]=!0,fe[oi]=fe[ai]=fe[vr]=!1;var wy={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Sy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ey={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ay=parseFloat,Iy=parseInt,dc=typeof Or=="object"&&Or&&Or.Object===Object&&Or,Ty=typeof self=="object"&&self&&self.Object===Object&&self,Ce=dc||Ty||Function("return this")(),ua=n&&!n.nodeType&&n,dn=ua&&!0&&e&&!e.nodeType&&e,hc=dn&&dn.exports===ua,ca=hc&&dc.process,nt=function(){try{var x=dn&&dn.require&&dn.require("util").types;return x||ca&&ca.binding&&ca.binding("util")}catch{}}(),vc=nt&&nt.isArrayBuffer,gc=nt&&nt.isDate,pc=nt&&nt.isMap,yc=nt&&nt.isRegExp,mc=nt&&nt.isSet,_c=nt&&nt.isTypedArray;function qe(x,D,C){switch(C.length){case 0:return x.call(D);case 1:return x.call(D,C[0]);case 2:return x.call(D,C[0],C[1]);case 3:return x.call(D,C[0],C[1],C[2])}return x.apply(D,C)}function Cy(x,D,C,U){for(var Z=-1,oe=x==null?0:x.length;++Z<oe;){var xe=x[Z];D(U,xe,C(xe),x)}return U}function rt(x,D){for(var C=-1,U=x==null?0:x.length;++C<U&&D(x[C],C,x)!==!1;);return x}function Ry(x,D){for(var C=x==null?0:x.length;C--&&D(x[C],C,x)!==!1;);return x}function bc(x,D){for(var C=-1,U=x==null?0:x.length;++C<U;)if(!D(x[C],C,x))return!1;return!0}function qt(x,D){for(var C=-1,U=x==null?0:x.length,Z=0,oe=[];++C<U;){var xe=x[C];D(xe,C,x)&&(oe[Z++]=xe)}return oe}function li(x,D){var C=x==null?0:x.length;return!!C&&kn(x,D,0)>-1}function fa(x,D,C){for(var U=-1,Z=x==null?0:x.length;++U<Z;)if(C(D,x[U]))return!0;return!1}function he(x,D){for(var C=-1,U=x==null?0:x.length,Z=Array(U);++C<U;)Z[C]=D(x[C],C,x);return Z}function jt(x,D){for(var C=-1,U=D.length,Z=x.length;++C<U;)x[Z+C]=D[C];return x}function la(x,D,C,U){var Z=-1,oe=x==null?0:x.length;for(U&&oe&&(C=x[++Z]);++Z<oe;)C=D(C,x[Z],Z,x);return C}function Dy(x,D,C,U){var Z=x==null?0:x.length;for(U&&Z&&(C=x[--Z]);Z--;)C=D(C,x[Z],Z,x);return C}function da(x,D){for(var C=-1,U=x==null?0:x.length;++C<U;)if(D(x[C],C,x))return!0;return!1}var Oy=ha("length");function Ly(x){return x.split("")}function Py(x){return x.match($p)||[]}function wc(x,D,C){var U;return C(x,function(Z,oe,xe){if(D(Z,oe,xe))return U=oe,!1}),U}function di(x,D,C,U){for(var Z=x.length,oe=C+(U?1:-1);U?oe--:++oe<Z;)if(D(x[oe],oe,x))return oe;return-1}function kn(x,D,C){return D===D?Wy(x,D,C):di(x,Sc,C)}function My(x,D,C,U){for(var Z=C-1,oe=x.length;++Z<oe;)if(U(x[Z],D))return Z;return-1}function Sc(x){return x!==x}function Ec(x,D){var C=x==null?0:x.length;return C?ga(x,D)/C:ri}function ha(x){return function(D){return D==null?t:D[x]}}function va(x){return function(D){return x==null?t:x[D]}}function xc(x,D,C,U,Z){return Z(x,function(oe,xe,ue){C=U?(U=!1,oe):D(C,oe,xe,ue)}),C}function ky(x,D){var C=x.length;for(x.sort(D);C--;)x[C]=x[C].value;return x}function ga(x,D){for(var C,U=-1,Z=x.length;++U<Z;){var oe=D(x[U]);oe!==t&&(C=C===t?oe:C+oe)}return C}function pa(x,D){for(var C=-1,U=Array(x);++C<x;)U[C]=D(C);return U}function By(x,D){return he(D,function(C){return[C,x[C]]})}function Ac(x){return x&&x.slice(0,Rc(x)+1).replace(na,"")}function je(x){return function(D){return x(D)}}function ya(x,D){return he(D,function(C){return x[C]})}function pr(x,D){return x.has(D)}function Ic(x,D){for(var C=-1,U=x.length;++C<U&&kn(D,x[C],0)>-1;);return C}function Tc(x,D){for(var C=x.length;C--&&kn(D,x[C],0)>-1;);return C}function Ny(x,D){for(var C=x.length,U=0;C--;)x[C]===D&&++U;return U}var Fy=va(wy),Uy=va(Sy);function zy(x){return"\\"+xy[x]}function $y(x,D){return x==null?t:x[D]}function Bn(x){return yy.test(x)}function Ky(x){return my.test(x)}function Gy(x){for(var D,C=[];!(D=x.next()).done;)C.push(D.value);return C}function ma(x){var D=-1,C=Array(x.size);return x.forEach(function(U,Z){C[++D]=[Z,U]}),C}function Cc(x,D){return function(C){return x(D(C))}}function Vt(x,D){for(var C=-1,U=x.length,Z=0,oe=[];++C<U;){var xe=x[C];(xe===D||xe===h)&&(x[C]=h,oe[Z++]=C)}return oe}function hi(x){var D=-1,C=Array(x.size);return x.forEach(function(U){C[++D]=U}),C}function Hy(x){var D=-1,C=Array(x.size);return x.forEach(function(U){C[++D]=[U,U]}),C}function Wy(x,D,C){for(var U=C-1,Z=x.length;++U<Z;)if(x[U]===D)return U;return-1}function qy(x,D,C){for(var U=C+1;U--;)if(x[U]===D)return U;return U}function Nn(x){return Bn(x)?Vy(x):Oy(x)}function gt(x){return Bn(x)?Yy(x):Ly(x)}function Rc(x){for(var D=x.length;D--&&Np.test(x.charAt(D)););return D}var jy=va(Ey);function Vy(x){for(var D=sa.lastIndex=0;sa.test(x);)++D;return D}function Yy(x){return x.match(sa)||[]}function Zy(x){return x.match(py)||[]}var Jy=function x(D){D=D==null?Ce:Fn.defaults(Ce.Object(),D,Fn.pick(Ce,_y));var C=D.Array,U=D.Date,Z=D.Error,oe=D.Function,xe=D.Math,ue=D.Object,_a=D.RegExp,Xy=D.String,it=D.TypeError,vi=C.prototype,Qy=oe.prototype,Un=ue.prototype,gi=D["__core-js_shared__"],pi=Qy.toString,se=Un.hasOwnProperty,em=0,Dc=function(){var r=/[^.]+$/.exec(gi&&gi.keys&&gi.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),yi=Un.toString,tm=pi.call(ue),nm=Ce._,rm=_a("^"+pi.call(se).replace(ta,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mi=hc?D.Buffer:t,Yt=D.Symbol,_i=D.Uint8Array,Oc=mi?mi.allocUnsafe:t,bi=Cc(ue.getPrototypeOf,ue),Lc=ue.create,Pc=Un.propertyIsEnumerable,wi=vi.splice,Mc=Yt?Yt.isConcatSpreadable:t,yr=Yt?Yt.iterator:t,hn=Yt?Yt.toStringTag:t,Si=function(){try{var r=mn(ue,"defineProperty");return r({},"",{}),r}catch{}}(),im=D.clearTimeout!==Ce.clearTimeout&&D.clearTimeout,om=U&&U.now!==Ce.Date.now&&U.now,am=D.setTimeout!==Ce.setTimeout&&D.setTimeout,Ei=xe.ceil,xi=xe.floor,ba=ue.getOwnPropertySymbols,sm=mi?mi.isBuffer:t,kc=D.isFinite,um=vi.join,cm=Cc(ue.keys,ue),Ae=xe.max,Le=xe.min,fm=U.now,lm=D.parseInt,Bc=xe.random,dm=vi.reverse,wa=mn(D,"DataView"),mr=mn(D,"Map"),Sa=mn(D,"Promise"),zn=mn(D,"Set"),_r=mn(D,"WeakMap"),br=mn(ue,"create"),Ai=_r&&new _r,$n={},hm=_n(wa),vm=_n(mr),gm=_n(Sa),pm=_n(zn),ym=_n(_r),Ii=Yt?Yt.prototype:t,wr=Ii?Ii.valueOf:t,Nc=Ii?Ii.toString:t;function y(r){if(ye(r)&&!J(r)&&!(r instanceof re)){if(r instanceof ot)return r;if(se.call(r,"__wrapped__"))return Uf(r)}return new ot(r)}var Kn=function(){function r(){}return function(i){if(!ge(i))return{};if(Lc)return Lc(i);r.prototype=i;var c=new r;return r.prototype=t,c}}();function Ti(){}function ot(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=t}y.templateSettings={escape:Op,evaluate:Lp,interpolate:qu,variable:"",imports:{_:y}},y.prototype=Ti.prototype,y.prototype.constructor=y,ot.prototype=Kn(Ti.prototype),ot.prototype.constructor=ot;function re(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xt,this.__views__=[]}function mm(){var r=new re(this.__wrapped__);return r.__actions__=Ke(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Ke(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Ke(this.__views__),r}function _m(){if(this.__filtered__){var r=new re(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function bm(){var r=this.__wrapped__.value(),i=this.__dir__,c=J(r),d=i<0,g=c?r.length:0,m=L1(0,g,this.__views__),b=m.start,S=m.end,A=S-b,L=d?S:b-1,P=this.__iteratees__,k=P.length,F=0,K=Le(A,this.__takeCount__);if(!c||!d&&g==A&&K==A)return uf(r,this.__actions__);var W=[];e:for(;A--&&F<K;){L+=i;for(var Q=-1,q=r[L];++Q<k;){var ne=P[Q],ie=ne.iteratee,Ze=ne.type,Ue=ie(q);if(Ze==vp)q=Ue;else if(!Ue){if(Ze==$u)continue e;break e}}W[F++]=q}return W}re.prototype=Kn(Ti.prototype),re.prototype.constructor=re;function vn(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function wm(){this.__data__=br?br(null):{},this.size=0}function Sm(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function Em(r){var i=this.__data__;if(br){var c=i[r];return c===v?t:c}return se.call(i,r)?i[r]:t}function xm(r){var i=this.__data__;return br?i[r]!==t:se.call(i,r)}function Am(r,i){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=br&&i===t?v:i,this}vn.prototype.clear=wm,vn.prototype.delete=Sm,vn.prototype.get=Em,vn.prototype.has=xm,vn.prototype.set=Am;function Lt(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function Im(){this.__data__=[],this.size=0}function Tm(r){var i=this.__data__,c=Ci(i,r);if(c<0)return!1;var d=i.length-1;return c==d?i.pop():wi.call(i,c,1),--this.size,!0}function Cm(r){var i=this.__data__,c=Ci(i,r);return c<0?t:i[c][1]}function Rm(r){return Ci(this.__data__,r)>-1}function Dm(r,i){var c=this.__data__,d=Ci(c,r);return d<0?(++this.size,c.push([r,i])):c[d][1]=i,this}Lt.prototype.clear=Im,Lt.prototype.delete=Tm,Lt.prototype.get=Cm,Lt.prototype.has=Rm,Lt.prototype.set=Dm;function Pt(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function Om(){this.size=0,this.__data__={hash:new vn,map:new(mr||Lt),string:new vn}}function Lm(r){var i=zi(this,r).delete(r);return this.size-=i?1:0,i}function Pm(r){return zi(this,r).get(r)}function Mm(r){return zi(this,r).has(r)}function km(r,i){var c=zi(this,r),d=c.size;return c.set(r,i),this.size+=c.size==d?0:1,this}Pt.prototype.clear=Om,Pt.prototype.delete=Lm,Pt.prototype.get=Pm,Pt.prototype.has=Mm,Pt.prototype.set=km;function gn(r){var i=-1,c=r==null?0:r.length;for(this.__data__=new Pt;++i<c;)this.add(r[i])}function Bm(r){return this.__data__.set(r,v),this}function Nm(r){return this.__data__.has(r)}gn.prototype.add=gn.prototype.push=Bm,gn.prototype.has=Nm;function pt(r){var i=this.__data__=new Lt(r);this.size=i.size}function Fm(){this.__data__=new Lt,this.size=0}function Um(r){var i=this.__data__,c=i.delete(r);return this.size=i.size,c}function zm(r){return this.__data__.get(r)}function $m(r){return this.__data__.has(r)}function Km(r,i){var c=this.__data__;if(c instanceof Lt){var d=c.__data__;if(!mr||d.length<s-1)return d.push([r,i]),this.size=++c.size,this;c=this.__data__=new Pt(d)}return c.set(r,i),this.size=c.size,this}pt.prototype.clear=Fm,pt.prototype.delete=Um,pt.prototype.get=zm,pt.prototype.has=$m,pt.prototype.set=Km;function Fc(r,i){var c=J(r),d=!c&&bn(r),g=!c&&!d&&en(r),m=!c&&!d&&!g&&qn(r),b=c||d||g||m,S=b?pa(r.length,Xy):[],A=S.length;for(var L in r)(i||se.call(r,L))&&!(b&&(L=="length"||g&&(L=="offset"||L=="parent")||m&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||Nt(L,A)))&&S.push(L);return S}function Uc(r){var i=r.length;return i?r[Pa(0,i-1)]:t}function Gm(r,i){return $i(Ke(r),pn(i,0,r.length))}function Hm(r){return $i(Ke(r))}function Ea(r,i,c){(c!==t&&!yt(r[i],c)||c===t&&!(i in r))&&Mt(r,i,c)}function Sr(r,i,c){var d=r[i];(!(se.call(r,i)&&yt(d,c))||c===t&&!(i in r))&&Mt(r,i,c)}function Ci(r,i){for(var c=r.length;c--;)if(yt(r[c][0],i))return c;return-1}function Wm(r,i,c,d){return Zt(r,function(g,m,b){i(d,g,c(g),b)}),d}function zc(r,i){return r&&It(i,Te(i),r)}function qm(r,i){return r&&It(i,He(i),r)}function Mt(r,i,c){i=="__proto__"&&Si?Si(r,i,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[i]=c}function xa(r,i){for(var c=-1,d=i.length,g=C(d),m=r==null;++c<d;)g[c]=m?t:is(r,i[c]);return g}function pn(r,i,c){return r===r&&(c!==t&&(r=r<=c?r:c),i!==t&&(r=r>=i?r:i)),r}function at(r,i,c,d,g,m){var b,S=i&p,A=i&_,L=i&w;if(c&&(b=g?c(r,d,g,m):c(r)),b!==t)return b;if(!ge(r))return r;var P=J(r);if(P){if(b=M1(r),!S)return Ke(r,b)}else{var k=Pe(r),F=k==ai||k==Ku;if(en(r))return lf(r,S);if(k==Ot||k==Ln||F&&!g){if(b=A||F?{}:Df(r),!S)return A?E1(r,qm(b,r)):S1(r,zc(b,r))}else{if(!fe[k])return g?r:{};b=k1(r,k,S)}}m||(m=new pt);var K=m.get(r);if(K)return K;m.set(r,b),ol(r)?r.forEach(function(q){b.add(at(q,i,c,q,r,m))}):rl(r)&&r.forEach(function(q,ne){b.set(ne,at(q,i,c,ne,r,m))});var W=L?A?Ha:Ga:A?He:Te,Q=P?t:W(r);return rt(Q||r,function(q,ne){Q&&(ne=q,q=r[ne]),Sr(b,ne,at(q,i,c,ne,r,m))}),b}function jm(r){var i=Te(r);return function(c){return $c(c,r,i)}}function $c(r,i,c){var d=c.length;if(r==null)return!d;for(r=ue(r);d--;){var g=c[d],m=i[g],b=r[g];if(b===t&&!(g in r)||!m(b))return!1}return!0}function Kc(r,i,c){if(typeof r!="function")throw new it(f);return Rr(function(){r.apply(t,c)},i)}function Er(r,i,c,d){var g=-1,m=li,b=!0,S=r.length,A=[],L=i.length;if(!S)return A;c&&(i=he(i,je(c))),d?(m=fa,b=!1):i.length>=s&&(m=pr,b=!1,i=new gn(i));e:for(;++g<S;){var P=r[g],k=c==null?P:c(P);if(P=d||P!==0?P:0,b&&k===k){for(var F=L;F--;)if(i[F]===k)continue e;A.push(P)}else m(i,k,d)||A.push(P)}return A}var Zt=pf(At),Gc=pf(Ia,!0);function Vm(r,i){var c=!0;return Zt(r,function(d,g,m){return c=!!i(d,g,m),c}),c}function Ri(r,i,c){for(var d=-1,g=r.length;++d<g;){var m=r[d],b=i(m);if(b!=null&&(S===t?b===b&&!Ye(b):c(b,S)))var S=b,A=m}return A}function Ym(r,i,c,d){var g=r.length;for(c=X(c),c<0&&(c=-c>g?0:g+c),d=d===t||d>g?g:X(d),d<0&&(d+=g),d=c>d?0:sl(d);c<d;)r[c++]=i;return r}function Hc(r,i){var c=[];return Zt(r,function(d,g,m){i(d,g,m)&&c.push(d)}),c}function Re(r,i,c,d,g){var m=-1,b=r.length;for(c||(c=N1),g||(g=[]);++m<b;){var S=r[m];i>0&&c(S)?i>1?Re(S,i-1,c,d,g):jt(g,S):d||(g[g.length]=S)}return g}var Aa=yf(),Wc=yf(!0);function At(r,i){return r&&Aa(r,i,Te)}function Ia(r,i){return r&&Wc(r,i,Te)}function Di(r,i){return qt(i,function(c){return Ft(r[c])})}function yn(r,i){i=Xt(i,r);for(var c=0,d=i.length;r!=null&&c<d;)r=r[Tt(i[c++])];return c&&c==d?r:t}function qc(r,i,c){var d=i(r);return J(r)?d:jt(d,c(r))}function Ne(r){return r==null?r===t?xp:Sp:hn&&hn in ue(r)?O1(r):H1(r)}function Ta(r,i){return r>i}function Zm(r,i){return r!=null&&se.call(r,i)}function Jm(r,i){return r!=null&&i in ue(r)}function Xm(r,i,c){return r>=Le(i,c)&&r<Ae(i,c)}function Ca(r,i,c){for(var d=c?fa:li,g=r[0].length,m=r.length,b=m,S=C(m),A=1/0,L=[];b--;){var P=r[b];b&&i&&(P=he(P,je(i))),A=Le(P.length,A),S[b]=!c&&(i||g>=120&&P.length>=120)?new gn(b&&P):t}P=r[0];var k=-1,F=S[0];e:for(;++k<g&&L.length<A;){var K=P[k],W=i?i(K):K;if(K=c||K!==0?K:0,!(F?pr(F,W):d(L,W,c))){for(b=m;--b;){var Q=S[b];if(!(Q?pr(Q,W):d(r[b],W,c)))continue e}F&&F.push(W),L.push(K)}}return L}function Qm(r,i,c,d){return At(r,function(g,m,b){i(d,c(g),m,b)}),d}function xr(r,i,c){i=Xt(i,r),r=Mf(r,i);var d=r==null?r:r[Tt(ut(i))];return d==null?t:qe(d,r,c)}function jc(r){return ye(r)&&Ne(r)==Ln}function e1(r){return ye(r)&&Ne(r)==gr}function t1(r){return ye(r)&&Ne(r)==fr}function Ar(r,i,c,d,g){return r===i?!0:r==null||i==null||!ye(r)&&!ye(i)?r!==r&&i!==i:n1(r,i,c,d,Ar,g)}function n1(r,i,c,d,g,m){var b=J(r),S=J(i),A=b?ii:Pe(r),L=S?ii:Pe(i);A=A==Ln?Ot:A,L=L==Ln?Ot:L;var P=A==Ot,k=L==Ot,F=A==L;if(F&&en(r)){if(!en(i))return!1;b=!0,P=!1}if(F&&!P)return m||(m=new pt),b||qn(r)?Tf(r,i,c,d,g,m):R1(r,i,A,c,d,g,m);if(!(c&E)){var K=P&&se.call(r,"__wrapped__"),W=k&&se.call(i,"__wrapped__");if(K||W){var Q=K?r.value():r,q=W?i.value():i;return m||(m=new pt),g(Q,q,c,d,m)}}return F?(m||(m=new pt),D1(r,i,c,d,g,m)):!1}function r1(r){return ye(r)&&Pe(r)==ht}function Ra(r,i,c,d){var g=c.length,m=g,b=!d;if(r==null)return!m;for(r=ue(r);g--;){var S=c[g];if(b&&S[2]?S[1]!==r[S[0]]:!(S[0]in r))return!1}for(;++g<m;){S=c[g];var A=S[0],L=r[A],P=S[1];if(b&&S[2]){if(L===t&&!(A in r))return!1}else{var k=new pt;if(d)var F=d(L,P,A,r,i,k);if(!(F===t?Ar(P,L,E|I,d,k):F))return!1}}return!0}function Vc(r){if(!ge(r)||U1(r))return!1;var i=Ft(r)?rm:jp;return i.test(_n(r))}function i1(r){return ye(r)&&Ne(r)==dr}function o1(r){return ye(r)&&Pe(r)==vt}function a1(r){return ye(r)&&ji(r.length)&&!!de[Ne(r)]}function Yc(r){return typeof r=="function"?r:r==null?We:typeof r=="object"?J(r)?Xc(r[0],r[1]):Jc(r):ml(r)}function Da(r){if(!Cr(r))return cm(r);var i=[];for(var c in ue(r))se.call(r,c)&&c!="constructor"&&i.push(c);return i}function s1(r){if(!ge(r))return G1(r);var i=Cr(r),c=[];for(var d in r)d=="constructor"&&(i||!se.call(r,d))||c.push(d);return c}function Oa(r,i){return r<i}function Zc(r,i){var c=-1,d=Ge(r)?C(r.length):[];return Zt(r,function(g,m,b){d[++c]=i(g,m,b)}),d}function Jc(r){var i=qa(r);return i.length==1&&i[0][2]?Lf(i[0][0],i[0][1]):function(c){return c===r||Ra(c,r,i)}}function Xc(r,i){return Va(r)&&Of(i)?Lf(Tt(r),i):function(c){var d=is(c,r);return d===t&&d===i?os(c,r):Ar(i,d,E|I)}}function Oi(r,i,c,d,g){r!==i&&Aa(i,function(m,b){if(g||(g=new pt),ge(m))u1(r,i,b,c,Oi,d,g);else{var S=d?d(Za(r,b),m,b+"",r,i,g):t;S===t&&(S=m),Ea(r,b,S)}},He)}function u1(r,i,c,d,g,m,b){var S=Za(r,c),A=Za(i,c),L=b.get(A);if(L){Ea(r,c,L);return}var P=m?m(S,A,c+"",r,i,b):t,k=P===t;if(k){var F=J(A),K=!F&&en(A),W=!F&&!K&&qn(A);P=A,F||K||W?J(S)?P=S:_e(S)?P=Ke(S):K?(k=!1,P=lf(A,!0)):W?(k=!1,P=df(A,!0)):P=[]:Dr(A)||bn(A)?(P=S,bn(S)?P=ul(S):(!ge(S)||Ft(S))&&(P=Df(A))):k=!1}k&&(b.set(A,P),g(P,A,d,m,b),b.delete(A)),Ea(r,c,P)}function Qc(r,i){var c=r.length;if(c)return i+=i<0?c:0,Nt(i,c)?r[i]:t}function ef(r,i,c){i.length?i=he(i,function(m){return J(m)?function(b){return yn(b,m.length===1?m[0]:m)}:m}):i=[We];var d=-1;i=he(i,je(H()));var g=Zc(r,function(m,b,S){var A=he(i,function(L){return L(m)});return{criteria:A,index:++d,value:m}});return ky(g,function(m,b){return w1(m,b,c)})}function c1(r,i){return tf(r,i,function(c,d){return os(r,d)})}function tf(r,i,c){for(var d=-1,g=i.length,m={};++d<g;){var b=i[d],S=yn(r,b);c(S,b)&&Ir(m,Xt(b,r),S)}return m}function f1(r){return function(i){return yn(i,r)}}function La(r,i,c,d){var g=d?My:kn,m=-1,b=i.length,S=r;for(r===i&&(i=Ke(i)),c&&(S=he(r,je(c)));++m<b;)for(var A=0,L=i[m],P=c?c(L):L;(A=g(S,P,A,d))>-1;)S!==r&&wi.call(S,A,1),wi.call(r,A,1);return r}function nf(r,i){for(var c=r?i.length:0,d=c-1;c--;){var g=i[c];if(c==d||g!==m){var m=g;Nt(g)?wi.call(r,g,1):Ba(r,g)}}return r}function Pa(r,i){return r+xi(Bc()*(i-r+1))}function l1(r,i,c,d){for(var g=-1,m=Ae(Ei((i-r)/(c||1)),0),b=C(m);m--;)b[d?m:++g]=r,r+=c;return b}function Ma(r,i){var c="";if(!r||i<1||i>Wt)return c;do i%2&&(c+=r),i=xi(i/2),i&&(r+=r);while(i);return c}function ee(r,i){return Ja(Pf(r,i,We),r+"")}function d1(r){return Uc(jn(r))}function h1(r,i){var c=jn(r);return $i(c,pn(i,0,c.length))}function Ir(r,i,c,d){if(!ge(r))return r;i=Xt(i,r);for(var g=-1,m=i.length,b=m-1,S=r;S!=null&&++g<m;){var A=Tt(i[g]),L=c;if(A==="__proto__"||A==="constructor"||A==="prototype")return r;if(g!=b){var P=S[A];L=d?d(P,A,S):t,L===t&&(L=ge(P)?P:Nt(i[g+1])?[]:{})}Sr(S,A,L),S=S[A]}return r}var rf=Ai?function(r,i){return Ai.set(r,i),r}:We,v1=Si?function(r,i){return Si(r,"toString",{configurable:!0,enumerable:!1,value:ss(i),writable:!0})}:We;function g1(r){return $i(jn(r))}function st(r,i,c){var d=-1,g=r.length;i<0&&(i=-i>g?0:g+i),c=c>g?g:c,c<0&&(c+=g),g=i>c?0:c-i>>>0,i>>>=0;for(var m=C(g);++d<g;)m[d]=r[d+i];return m}function p1(r,i){var c;return Zt(r,function(d,g,m){return c=i(d,g,m),!c}),!!c}function Li(r,i,c){var d=0,g=r==null?d:r.length;if(typeof i=="number"&&i===i&&g<=mp){for(;d<g;){var m=d+g>>>1,b=r[m];b!==null&&!Ye(b)&&(c?b<=i:b<i)?d=m+1:g=m}return g}return ka(r,i,We,c)}function ka(r,i,c,d){var g=0,m=r==null?0:r.length;if(m===0)return 0;i=c(i);for(var b=i!==i,S=i===null,A=Ye(i),L=i===t;g<m;){var P=xi((g+m)/2),k=c(r[P]),F=k!==t,K=k===null,W=k===k,Q=Ye(k);if(b)var q=d||W;else L?q=W&&(d||F):S?q=W&&F&&(d||!K):A?q=W&&F&&!K&&(d||!Q):K||Q?q=!1:q=d?k<=i:k<i;q?g=P+1:m=P}return Le(m,yp)}function of(r,i){for(var c=-1,d=r.length,g=0,m=[];++c<d;){var b=r[c],S=i?i(b):b;if(!c||!yt(S,A)){var A=S;m[g++]=b===0?0:b}}return m}function af(r){return typeof r=="number"?r:Ye(r)?ri:+r}function Ve(r){if(typeof r=="string")return r;if(J(r))return he(r,Ve)+"";if(Ye(r))return Nc?Nc.call(r):"";var i=r+"";return i=="0"&&1/r==-ln?"-0":i}function Jt(r,i,c){var d=-1,g=li,m=r.length,b=!0,S=[],A=S;if(c)b=!1,g=fa;else if(m>=s){var L=i?null:T1(r);if(L)return hi(L);b=!1,g=pr,A=new gn}else A=i?[]:S;e:for(;++d<m;){var P=r[d],k=i?i(P):P;if(P=c||P!==0?P:0,b&&k===k){for(var F=A.length;F--;)if(A[F]===k)continue e;i&&A.push(k),S.push(P)}else g(A,k,c)||(A!==S&&A.push(k),S.push(P))}return S}function Ba(r,i){return i=Xt(i,r),r=Mf(r,i),r==null||delete r[Tt(ut(i))]}function sf(r,i,c,d){return Ir(r,i,c(yn(r,i)),d)}function Pi(r,i,c,d){for(var g=r.length,m=d?g:-1;(d?m--:++m<g)&&i(r[m],m,r););return c?st(r,d?0:m,d?m+1:g):st(r,d?m+1:0,d?g:m)}function uf(r,i){var c=r;return c instanceof re&&(c=c.value()),la(i,function(d,g){return g.func.apply(g.thisArg,jt([d],g.args))},c)}function Na(r,i,c){var d=r.length;if(d<2)return d?Jt(r[0]):[];for(var g=-1,m=C(d);++g<d;)for(var b=r[g],S=-1;++S<d;)S!=g&&(m[g]=Er(m[g]||b,r[S],i,c));return Jt(Re(m,1),i,c)}function cf(r,i,c){for(var d=-1,g=r.length,m=i.length,b={};++d<g;){var S=d<m?i[d]:t;c(b,r[d],S)}return b}function Fa(r){return _e(r)?r:[]}function Ua(r){return typeof r=="function"?r:We}function Xt(r,i){return J(r)?r:Va(r,i)?[r]:Ff(ae(r))}var y1=ee;function Qt(r,i,c){var d=r.length;return c=c===t?d:c,!i&&c>=d?r:st(r,i,c)}var ff=im||function(r){return Ce.clearTimeout(r)};function lf(r,i){if(i)return r.slice();var c=r.length,d=Oc?Oc(c):new r.constructor(c);return r.copy(d),d}function za(r){var i=new r.constructor(r.byteLength);return new _i(i).set(new _i(r)),i}function m1(r,i){var c=i?za(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function _1(r){var i=new r.constructor(r.source,ju.exec(r));return i.lastIndex=r.lastIndex,i}function b1(r){return wr?ue(wr.call(r)):{}}function df(r,i){var c=i?za(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function hf(r,i){if(r!==i){var c=r!==t,d=r===null,g=r===r,m=Ye(r),b=i!==t,S=i===null,A=i===i,L=Ye(i);if(!S&&!L&&!m&&r>i||m&&b&&A&&!S&&!L||d&&b&&A||!c&&A||!g)return 1;if(!d&&!m&&!L&&r<i||L&&c&&g&&!d&&!m||S&&c&&g||!b&&g||!A)return-1}return 0}function w1(r,i,c){for(var d=-1,g=r.criteria,m=i.criteria,b=g.length,S=c.length;++d<b;){var A=hf(g[d],m[d]);if(A){if(d>=S)return A;var L=c[d];return A*(L=="desc"?-1:1)}}return r.index-i.index}function vf(r,i,c,d){for(var g=-1,m=r.length,b=c.length,S=-1,A=i.length,L=Ae(m-b,0),P=C(A+L),k=!d;++S<A;)P[S]=i[S];for(;++g<b;)(k||g<m)&&(P[c[g]]=r[g]);for(;L--;)P[S++]=r[g++];return P}function gf(r,i,c,d){for(var g=-1,m=r.length,b=-1,S=c.length,A=-1,L=i.length,P=Ae(m-S,0),k=C(P+L),F=!d;++g<P;)k[g]=r[g];for(var K=g;++A<L;)k[K+A]=i[A];for(;++b<S;)(F||g<m)&&(k[K+c[b]]=r[g++]);return k}function Ke(r,i){var c=-1,d=r.length;for(i||(i=C(d));++c<d;)i[c]=r[c];return i}function It(r,i,c,d){var g=!c;c||(c={});for(var m=-1,b=i.length;++m<b;){var S=i[m],A=d?d(c[S],r[S],S,c,r):t;A===t&&(A=r[S]),g?Mt(c,S,A):Sr(c,S,A)}return c}function S1(r,i){return It(r,ja(r),i)}function E1(r,i){return It(r,Cf(r),i)}function Mi(r,i){return function(c,d){var g=J(c)?Cy:Wm,m=i?i():{};return g(c,r,H(d,2),m)}}function Gn(r){return ee(function(i,c){var d=-1,g=c.length,m=g>1?c[g-1]:t,b=g>2?c[2]:t;for(m=r.length>3&&typeof m=="function"?(g--,m):t,b&&Fe(c[0],c[1],b)&&(m=g<3?t:m,g=1),i=ue(i);++d<g;){var S=c[d];S&&r(i,S,d,m)}return i})}function pf(r,i){return function(c,d){if(c==null)return c;if(!Ge(c))return r(c,d);for(var g=c.length,m=i?g:-1,b=ue(c);(i?m--:++m<g)&&d(b[m],m,b)!==!1;);return c}}function yf(r){return function(i,c,d){for(var g=-1,m=ue(i),b=d(i),S=b.length;S--;){var A=b[r?S:++g];if(c(m[A],A,m)===!1)break}return i}}function x1(r,i,c){var d=i&R,g=Tr(r);function m(){var b=this&&this!==Ce&&this instanceof m?g:r;return b.apply(d?c:this,arguments)}return m}function mf(r){return function(i){i=ae(i);var c=Bn(i)?gt(i):t,d=c?c[0]:i.charAt(0),g=c?Qt(c,1).join(""):i.slice(1);return d[r]()+g}}function Hn(r){return function(i){return la(pl(gl(i).replace(vy,"")),r,"")}}function Tr(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var c=Kn(r.prototype),d=r.apply(c,i);return ge(d)?d:c}}function A1(r,i,c){var d=Tr(r);function g(){for(var m=arguments.length,b=C(m),S=m,A=Wn(g);S--;)b[S]=arguments[S];var L=m<3&&b[0]!==A&&b[m-1]!==A?[]:Vt(b,A);if(m-=L.length,m<c)return Ef(r,i,ki,g.placeholder,t,b,L,t,t,c-m);var P=this&&this!==Ce&&this instanceof g?d:r;return qe(P,this,b)}return g}function _f(r){return function(i,c,d){var g=ue(i);if(!Ge(i)){var m=H(c,3);i=Te(i),c=function(S){return m(g[S],S,g)}}var b=r(i,c,d);return b>-1?g[m?i[b]:b]:t}}function bf(r){return Bt(function(i){var c=i.length,d=c,g=ot.prototype.thru;for(r&&i.reverse();d--;){var m=i[d];if(typeof m!="function")throw new it(f);if(g&&!b&&Ui(m)=="wrapper")var b=new ot([],!0)}for(d=b?d:c;++d<c;){m=i[d];var S=Ui(m),A=S=="wrapper"?Wa(m):t;A&&Ya(A[0])&&A[1]==(le|N|Y|Se)&&!A[4].length&&A[9]==1?b=b[Ui(A[0])].apply(b,A[3]):b=m.length==1&&Ya(m)?b[S]():b.thru(m)}return function(){var L=arguments,P=L[0];if(b&&L.length==1&&J(P))return b.plant(P).value();for(var k=0,F=c?i[k].apply(this,L):P;++k<c;)F=i[k].call(this,F);return F}})}function ki(r,i,c,d,g,m,b,S,A,L){var P=i&le,k=i&R,F=i&B,K=i&(N|G),W=i&Et,Q=F?t:Tr(r);function q(){for(var ne=arguments.length,ie=C(ne),Ze=ne;Ze--;)ie[Ze]=arguments[Ze];if(K)var Ue=Wn(q),Je=Ny(ie,Ue);if(d&&(ie=vf(ie,d,g,K)),m&&(ie=gf(ie,m,b,K)),ne-=Je,K&&ne<L){var be=Vt(ie,Ue);return Ef(r,i,ki,q.placeholder,c,ie,be,S,A,L-ne)}var mt=k?c:this,zt=F?mt[r]:r;return ne=ie.length,S?ie=W1(ie,S):W&&ne>1&&ie.reverse(),P&&A<ne&&(ie.length=A),this&&this!==Ce&&this instanceof q&&(zt=Q||Tr(zt)),zt.apply(mt,ie)}return q}function wf(r,i){return function(c,d){return Qm(c,r,i(d),{})}}function Bi(r,i){return function(c,d){var g;if(c===t&&d===t)return i;if(c!==t&&(g=c),d!==t){if(g===t)return d;typeof c=="string"||typeof d=="string"?(c=Ve(c),d=Ve(d)):(c=af(c),d=af(d)),g=r(c,d)}return g}}function $a(r){return Bt(function(i){return i=he(i,je(H())),ee(function(c){var d=this;return r(i,function(g){return qe(g,d,c)})})})}function Ni(r,i){i=i===t?" ":Ve(i);var c=i.length;if(c<2)return c?Ma(i,r):i;var d=Ma(i,Ei(r/Nn(i)));return Bn(i)?Qt(gt(d),0,r).join(""):d.slice(0,r)}function I1(r,i,c,d){var g=i&R,m=Tr(r);function b(){for(var S=-1,A=arguments.length,L=-1,P=d.length,k=C(P+A),F=this&&this!==Ce&&this instanceof b?m:r;++L<P;)k[L]=d[L];for(;A--;)k[L++]=arguments[++S];return qe(F,g?c:this,k)}return b}function Sf(r){return function(i,c,d){return d&&typeof d!="number"&&Fe(i,c,d)&&(c=d=t),i=Ut(i),c===t?(c=i,i=0):c=Ut(c),d=d===t?i<c?1:-1:Ut(d),l1(i,c,d,r)}}function Fi(r){return function(i,c){return typeof i=="string"&&typeof c=="string"||(i=ct(i),c=ct(c)),r(i,c)}}function Ef(r,i,c,d,g,m,b,S,A,L){var P=i&N,k=P?b:t,F=P?t:b,K=P?m:t,W=P?t:m;i|=P?Y:ve,i&=~(P?ve:Y),i&z||(i&=~(R|B));var Q=[r,i,g,K,k,W,F,S,A,L],q=c.apply(t,Q);return Ya(r)&&kf(q,Q),q.placeholder=d,Bf(q,r,i)}function Ka(r){var i=xe[r];return function(c,d){if(c=ct(c),d=d==null?0:Le(X(d),292),d&&kc(c)){var g=(ae(c)+"e").split("e"),m=i(g[0]+"e"+(+g[1]+d));return g=(ae(m)+"e").split("e"),+(g[0]+"e"+(+g[1]-d))}return i(c)}}var T1=zn&&1/hi(new zn([,-0]))[1]==ln?function(r){return new zn(r)}:fs;function xf(r){return function(i){var c=Pe(i);return c==ht?ma(i):c==vt?Hy(i):By(i,r(i))}}function kt(r,i,c,d,g,m,b,S){var A=i&B;if(!A&&typeof r!="function")throw new it(f);var L=d?d.length:0;if(L||(i&=~(Y|ve),d=g=t),b=b===t?b:Ae(X(b),0),S=S===t?S:X(S),L-=g?g.length:0,i&ve){var P=d,k=g;d=g=t}var F=A?t:Wa(r),K=[r,i,c,d,g,P,k,m,b,S];if(F&&K1(K,F),r=K[0],i=K[1],c=K[2],d=K[3],g=K[4],S=K[9]=K[9]===t?A?0:r.length:Ae(K[9]-L,0),!S&&i&(N|G)&&(i&=~(N|G)),!i||i==R)var W=x1(r,i,c);else i==N||i==G?W=A1(r,i,S):(i==Y||i==(R|Y))&&!g.length?W=I1(r,i,c,d):W=ki.apply(t,K);var Q=F?rf:kf;return Bf(Q(W,K),r,i)}function Af(r,i,c,d){return r===t||yt(r,Un[c])&&!se.call(d,c)?i:r}function If(r,i,c,d,g,m){return ge(r)&&ge(i)&&(m.set(i,r),Oi(r,i,t,If,m),m.delete(i)),r}function C1(r){return Dr(r)?t:r}function Tf(r,i,c,d,g,m){var b=c&E,S=r.length,A=i.length;if(S!=A&&!(b&&A>S))return!1;var L=m.get(r),P=m.get(i);if(L&&P)return L==i&&P==r;var k=-1,F=!0,K=c&I?new gn:t;for(m.set(r,i),m.set(i,r);++k<S;){var W=r[k],Q=i[k];if(d)var q=b?d(Q,W,k,i,r,m):d(W,Q,k,r,i,m);if(q!==t){if(q)continue;F=!1;break}if(K){if(!da(i,function(ne,ie){if(!pr(K,ie)&&(W===ne||g(W,ne,c,d,m)))return K.push(ie)})){F=!1;break}}else if(!(W===Q||g(W,Q,c,d,m))){F=!1;break}}return m.delete(r),m.delete(i),F}function R1(r,i,c,d,g,m,b){switch(c){case Pn:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case gr:return!(r.byteLength!=i.byteLength||!m(new _i(r),new _i(i)));case cr:case fr:case lr:return yt(+r,+i);case oi:return r.name==i.name&&r.message==i.message;case dr:case hr:return r==i+"";case ht:var S=ma;case vt:var A=d&E;if(S||(S=hi),r.size!=i.size&&!A)return!1;var L=b.get(r);if(L)return L==i;d|=I,b.set(r,i);var P=Tf(S(r),S(i),d,g,m,b);return b.delete(r),P;case si:if(wr)return wr.call(r)==wr.call(i)}return!1}function D1(r,i,c,d,g,m){var b=c&E,S=Ga(r),A=S.length,L=Ga(i),P=L.length;if(A!=P&&!b)return!1;for(var k=A;k--;){var F=S[k];if(!(b?F in i:se.call(i,F)))return!1}var K=m.get(r),W=m.get(i);if(K&&W)return K==i&&W==r;var Q=!0;m.set(r,i),m.set(i,r);for(var q=b;++k<A;){F=S[k];var ne=r[F],ie=i[F];if(d)var Ze=b?d(ie,ne,F,i,r,m):d(ne,ie,F,r,i,m);if(!(Ze===t?ne===ie||g(ne,ie,c,d,m):Ze)){Q=!1;break}q||(q=F=="constructor")}if(Q&&!q){var Ue=r.constructor,Je=i.constructor;Ue!=Je&&"constructor"in r&&"constructor"in i&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof Je=="function"&&Je instanceof Je)&&(Q=!1)}return m.delete(r),m.delete(i),Q}function Bt(r){return Ja(Pf(r,t,Kf),r+"")}function Ga(r){return qc(r,Te,ja)}function Ha(r){return qc(r,He,Cf)}var Wa=Ai?function(r){return Ai.get(r)}:fs;function Ui(r){for(var i=r.name+"",c=$n[i],d=se.call($n,i)?c.length:0;d--;){var g=c[d],m=g.func;if(m==null||m==r)return g.name}return i}function Wn(r){var i=se.call(y,"placeholder")?y:r;return i.placeholder}function H(){var r=y.iteratee||us;return r=r===us?Yc:r,arguments.length?r(arguments[0],arguments[1]):r}function zi(r,i){var c=r.__data__;return F1(i)?c[typeof i=="string"?"string":"hash"]:c.map}function qa(r){for(var i=Te(r),c=i.length;c--;){var d=i[c],g=r[d];i[c]=[d,g,Of(g)]}return i}function mn(r,i){var c=$y(r,i);return Vc(c)?c:t}function O1(r){var i=se.call(r,hn),c=r[hn];try{r[hn]=t;var d=!0}catch{}var g=yi.call(r);return d&&(i?r[hn]=c:delete r[hn]),g}var ja=ba?function(r){return r==null?[]:(r=ue(r),qt(ba(r),function(i){return Pc.call(r,i)}))}:ls,Cf=ba?function(r){for(var i=[];r;)jt(i,ja(r)),r=bi(r);return i}:ls,Pe=Ne;(wa&&Pe(new wa(new ArrayBuffer(1)))!=Pn||mr&&Pe(new mr)!=ht||Sa&&Pe(Sa.resolve())!=Gu||zn&&Pe(new zn)!=vt||_r&&Pe(new _r)!=vr)&&(Pe=function(r){var i=Ne(r),c=i==Ot?r.constructor:t,d=c?_n(c):"";if(d)switch(d){case hm:return Pn;case vm:return ht;case gm:return Gu;case pm:return vt;case ym:return vr}return i});function L1(r,i,c){for(var d=-1,g=c.length;++d<g;){var m=c[d],b=m.size;switch(m.type){case"drop":r+=b;break;case"dropRight":i-=b;break;case"take":i=Le(i,r+b);break;case"takeRight":r=Ae(r,i-b);break}}return{start:r,end:i}}function P1(r){var i=r.match(Up);return i?i[1].split(zp):[]}function Rf(r,i,c){i=Xt(i,r);for(var d=-1,g=i.length,m=!1;++d<g;){var b=Tt(i[d]);if(!(m=r!=null&&c(r,b)))break;r=r[b]}return m||++d!=g?m:(g=r==null?0:r.length,!!g&&ji(g)&&Nt(b,g)&&(J(r)||bn(r)))}function M1(r){var i=r.length,c=new r.constructor(i);return i&&typeof r[0]=="string"&&se.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Df(r){return typeof r.constructor=="function"&&!Cr(r)?Kn(bi(r)):{}}function k1(r,i,c){var d=r.constructor;switch(i){case gr:return za(r);case cr:case fr:return new d(+r);case Pn:return m1(r,c);case qo:case jo:case Vo:case Yo:case Zo:case Jo:case Xo:case Qo:case ea:return df(r,c);case ht:return new d;case lr:case hr:return new d(r);case dr:return _1(r);case vt:return new d;case si:return b1(r)}}function B1(r,i){var c=i.length;if(!c)return r;var d=c-1;return i[d]=(c>1?"& ":"")+i[d],i=i.join(c>2?", ":" "),r.replace(Fp,`{
/* [wrapped with `+i+`] */
`)}function N1(r){return J(r)||bn(r)||!!(Mc&&r&&r[Mc])}function Nt(r,i){var c=typeof r;return i=i??Wt,!!i&&(c=="number"||c!="symbol"&&Yp.test(r))&&r>-1&&r%1==0&&r<i}function Fe(r,i,c){if(!ge(c))return!1;var d=typeof i;return(d=="number"?Ge(c)&&Nt(i,c.length):d=="string"&&i in c)?yt(c[i],r):!1}function Va(r,i){if(J(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||Ye(r)?!0:Mp.test(r)||!Pp.test(r)||i!=null&&r in ue(i)}function F1(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function Ya(r){var i=Ui(r),c=y[i];if(typeof c!="function"||!(i in re.prototype))return!1;if(r===c)return!0;var d=Wa(c);return!!d&&r===d[0]}function U1(r){return!!Dc&&Dc in r}var z1=gi?Ft:ds;function Cr(r){var i=r&&r.constructor,c=typeof i=="function"&&i.prototype||Un;return r===c}function Of(r){return r===r&&!ge(r)}function Lf(r,i){return function(c){return c==null?!1:c[r]===i&&(i!==t||r in ue(c))}}function $1(r){var i=Wi(r,function(d){return c.size===u&&c.clear(),d}),c=i.cache;return i}function K1(r,i){var c=r[1],d=i[1],g=c|d,m=g<(R|B|le),b=d==le&&c==N||d==le&&c==Se&&r[7].length<=i[8]||d==(le|Se)&&i[7].length<=i[8]&&c==N;if(!(m||b))return r;d&R&&(r[2]=i[2],g|=c&R?0:z);var S=i[3];if(S){var A=r[3];r[3]=A?vf(A,S,i[4]):S,r[4]=A?Vt(r[3],h):i[4]}return S=i[5],S&&(A=r[5],r[5]=A?gf(A,S,i[6]):S,r[6]=A?Vt(r[5],h):i[6]),S=i[7],S&&(r[7]=S),d&le&&(r[8]=r[8]==null?i[8]:Le(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=g,r}function G1(r){var i=[];if(r!=null)for(var c in ue(r))i.push(c);return i}function H1(r){return yi.call(r)}function Pf(r,i,c){return i=Ae(i===t?r.length-1:i,0),function(){for(var d=arguments,g=-1,m=Ae(d.length-i,0),b=C(m);++g<m;)b[g]=d[i+g];g=-1;for(var S=C(i+1);++g<i;)S[g]=d[g];return S[i]=c(b),qe(r,this,S)}}function Mf(r,i){return i.length<2?r:yn(r,st(i,0,-1))}function W1(r,i){for(var c=r.length,d=Le(i.length,c),g=Ke(r);d--;){var m=i[d];r[d]=Nt(m,c)?g[m]:t}return r}function Za(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var kf=Nf(rf),Rr=am||function(r,i){return Ce.setTimeout(r,i)},Ja=Nf(v1);function Bf(r,i,c){var d=i+"";return Ja(r,B1(d,q1(P1(d),c)))}function Nf(r){var i=0,c=0;return function(){var d=fm(),g=hp-(d-c);if(c=d,g>0){if(++i>=dp)return arguments[0]}else i=0;return r.apply(t,arguments)}}function $i(r,i){var c=-1,d=r.length,g=d-1;for(i=i===t?d:i;++c<i;){var m=Pa(c,g),b=r[m];r[m]=r[c],r[c]=b}return r.length=i,r}var Ff=$1(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(kp,function(c,d,g,m){i.push(g?m.replace(Gp,"$1"):d||c)}),i});function Tt(r){if(typeof r=="string"||Ye(r))return r;var i=r+"";return i=="0"&&1/r==-ln?"-0":i}function _n(r){if(r!=null){try{return pi.call(r)}catch{}try{return r+""}catch{}}return""}function q1(r,i){return rt(_p,function(c){var d="_."+c[0];i&c[1]&&!li(r,d)&&r.push(d)}),r.sort()}function Uf(r){if(r instanceof re)return r.clone();var i=new ot(r.__wrapped__,r.__chain__);return i.__actions__=Ke(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function j1(r,i,c){(c?Fe(r,i,c):i===t)?i=1:i=Ae(X(i),0);var d=r==null?0:r.length;if(!d||i<1)return[];for(var g=0,m=0,b=C(Ei(d/i));g<d;)b[m++]=st(r,g,g+=i);return b}function V1(r){for(var i=-1,c=r==null?0:r.length,d=0,g=[];++i<c;){var m=r[i];m&&(g[d++]=m)}return g}function Y1(){var r=arguments.length;if(!r)return[];for(var i=C(r-1),c=arguments[0],d=r;d--;)i[d-1]=arguments[d];return jt(J(c)?Ke(c):[c],Re(i,1))}var Z1=ee(function(r,i){return _e(r)?Er(r,Re(i,1,_e,!0)):[]}),J1=ee(function(r,i){var c=ut(i);return _e(c)&&(c=t),_e(r)?Er(r,Re(i,1,_e,!0),H(c,2)):[]}),X1=ee(function(r,i){var c=ut(i);return _e(c)&&(c=t),_e(r)?Er(r,Re(i,1,_e,!0),t,c):[]});function Q1(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===t?1:X(i),st(r,i<0?0:i,d)):[]}function e_(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===t?1:X(i),i=d-i,st(r,0,i<0?0:i)):[]}function t_(r,i){return r&&r.length?Pi(r,H(i,3),!0,!0):[]}function n_(r,i){return r&&r.length?Pi(r,H(i,3),!0):[]}function r_(r,i,c,d){var g=r==null?0:r.length;return g?(c&&typeof c!="number"&&Fe(r,i,c)&&(c=0,d=g),Ym(r,i,c,d)):[]}function zf(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=c==null?0:X(c);return g<0&&(g=Ae(d+g,0)),di(r,H(i,3),g)}function $f(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=d-1;return c!==t&&(g=X(c),g=c<0?Ae(d+g,0):Le(g,d-1)),di(r,H(i,3),g,!0)}function Kf(r){var i=r==null?0:r.length;return i?Re(r,1):[]}function i_(r){var i=r==null?0:r.length;return i?Re(r,ln):[]}function o_(r,i){var c=r==null?0:r.length;return c?(i=i===t?1:X(i),Re(r,i)):[]}function a_(r){for(var i=-1,c=r==null?0:r.length,d={};++i<c;){var g=r[i];d[g[0]]=g[1]}return d}function Gf(r){return r&&r.length?r[0]:t}function s_(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=c==null?0:X(c);return g<0&&(g=Ae(d+g,0)),kn(r,i,g)}function u_(r){var i=r==null?0:r.length;return i?st(r,0,-1):[]}var c_=ee(function(r){var i=he(r,Fa);return i.length&&i[0]===r[0]?Ca(i):[]}),f_=ee(function(r){var i=ut(r),c=he(r,Fa);return i===ut(c)?i=t:c.pop(),c.length&&c[0]===r[0]?Ca(c,H(i,2)):[]}),l_=ee(function(r){var i=ut(r),c=he(r,Fa);return i=typeof i=="function"?i:t,i&&c.pop(),c.length&&c[0]===r[0]?Ca(c,t,i):[]});function d_(r,i){return r==null?"":um.call(r,i)}function ut(r){var i=r==null?0:r.length;return i?r[i-1]:t}function h_(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=d;return c!==t&&(g=X(c),g=g<0?Ae(d+g,0):Le(g,d-1)),i===i?qy(r,i,g):di(r,Sc,g,!0)}function v_(r,i){return r&&r.length?Qc(r,X(i)):t}var g_=ee(Hf);function Hf(r,i){return r&&r.length&&i&&i.length?La(r,i):r}function p_(r,i,c){return r&&r.length&&i&&i.length?La(r,i,H(c,2)):r}function y_(r,i,c){return r&&r.length&&i&&i.length?La(r,i,t,c):r}var m_=Bt(function(r,i){var c=r==null?0:r.length,d=xa(r,i);return nf(r,he(i,function(g){return Nt(g,c)?+g:g}).sort(hf)),d});function __(r,i){var c=[];if(!(r&&r.length))return c;var d=-1,g=[],m=r.length;for(i=H(i,3);++d<m;){var b=r[d];i(b,d,r)&&(c.push(b),g.push(d))}return nf(r,g),c}function Xa(r){return r==null?r:dm.call(r)}function b_(r,i,c){var d=r==null?0:r.length;return d?(c&&typeof c!="number"&&Fe(r,i,c)?(i=0,c=d):(i=i==null?0:X(i),c=c===t?d:X(c)),st(r,i,c)):[]}function w_(r,i){return Li(r,i)}function S_(r,i,c){return ka(r,i,H(c,2))}function E_(r,i){var c=r==null?0:r.length;if(c){var d=Li(r,i);if(d<c&&yt(r[d],i))return d}return-1}function x_(r,i){return Li(r,i,!0)}function A_(r,i,c){return ka(r,i,H(c,2),!0)}function I_(r,i){var c=r==null?0:r.length;if(c){var d=Li(r,i,!0)-1;if(yt(r[d],i))return d}return-1}function T_(r){return r&&r.length?of(r):[]}function C_(r,i){return r&&r.length?of(r,H(i,2)):[]}function R_(r){var i=r==null?0:r.length;return i?st(r,1,i):[]}function D_(r,i,c){return r&&r.length?(i=c||i===t?1:X(i),st(r,0,i<0?0:i)):[]}function O_(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===t?1:X(i),i=d-i,st(r,i<0?0:i,d)):[]}function L_(r,i){return r&&r.length?Pi(r,H(i,3),!1,!0):[]}function P_(r,i){return r&&r.length?Pi(r,H(i,3)):[]}var M_=ee(function(r){return Jt(Re(r,1,_e,!0))}),k_=ee(function(r){var i=ut(r);return _e(i)&&(i=t),Jt(Re(r,1,_e,!0),H(i,2))}),B_=ee(function(r){var i=ut(r);return i=typeof i=="function"?i:t,Jt(Re(r,1,_e,!0),t,i)});function N_(r){return r&&r.length?Jt(r):[]}function F_(r,i){return r&&r.length?Jt(r,H(i,2)):[]}function U_(r,i){return i=typeof i=="function"?i:t,r&&r.length?Jt(r,t,i):[]}function Qa(r){if(!(r&&r.length))return[];var i=0;return r=qt(r,function(c){if(_e(c))return i=Ae(c.length,i),!0}),pa(i,function(c){return he(r,ha(c))})}function Wf(r,i){if(!(r&&r.length))return[];var c=Qa(r);return i==null?c:he(c,function(d){return qe(i,t,d)})}var z_=ee(function(r,i){return _e(r)?Er(r,i):[]}),$_=ee(function(r){return Na(qt(r,_e))}),K_=ee(function(r){var i=ut(r);return _e(i)&&(i=t),Na(qt(r,_e),H(i,2))}),G_=ee(function(r){var i=ut(r);return i=typeof i=="function"?i:t,Na(qt(r,_e),t,i)}),H_=ee(Qa);function W_(r,i){return cf(r||[],i||[],Sr)}function q_(r,i){return cf(r||[],i||[],Ir)}var j_=ee(function(r){var i=r.length,c=i>1?r[i-1]:t;return c=typeof c=="function"?(r.pop(),c):t,Wf(r,c)});function qf(r){var i=y(r);return i.__chain__=!0,i}function V_(r,i){return i(r),r}function Ki(r,i){return i(r)}var Y_=Bt(function(r){var i=r.length,c=i?r[0]:0,d=this.__wrapped__,g=function(m){return xa(m,r)};return i>1||this.__actions__.length||!(d instanceof re)||!Nt(c)?this.thru(g):(d=d.slice(c,+c+(i?1:0)),d.__actions__.push({func:Ki,args:[g],thisArg:t}),new ot(d,this.__chain__).thru(function(m){return i&&!m.length&&m.push(t),m}))});function Z_(){return qf(this)}function J_(){return new ot(this.value(),this.__chain__)}function X_(){this.__values__===t&&(this.__values__=al(this.value()));var r=this.__index__>=this.__values__.length,i=r?t:this.__values__[this.__index__++];return{done:r,value:i}}function Q_(){return this}function eb(r){for(var i,c=this;c instanceof Ti;){var d=Uf(c);d.__index__=0,d.__values__=t,i?g.__wrapped__=d:i=d;var g=d;c=c.__wrapped__}return g.__wrapped__=r,i}function tb(){var r=this.__wrapped__;if(r instanceof re){var i=r;return this.__actions__.length&&(i=new re(this)),i=i.reverse(),i.__actions__.push({func:Ki,args:[Xa],thisArg:t}),new ot(i,this.__chain__)}return this.thru(Xa)}function nb(){return uf(this.__wrapped__,this.__actions__)}var rb=Mi(function(r,i,c){se.call(r,c)?++r[c]:Mt(r,c,1)});function ib(r,i,c){var d=J(r)?bc:Vm;return c&&Fe(r,i,c)&&(i=t),d(r,H(i,3))}function ob(r,i){var c=J(r)?qt:Hc;return c(r,H(i,3))}var ab=_f(zf),sb=_f($f);function ub(r,i){return Re(Gi(r,i),1)}function cb(r,i){return Re(Gi(r,i),ln)}function fb(r,i,c){return c=c===t?1:X(c),Re(Gi(r,i),c)}function jf(r,i){var c=J(r)?rt:Zt;return c(r,H(i,3))}function Vf(r,i){var c=J(r)?Ry:Gc;return c(r,H(i,3))}var lb=Mi(function(r,i,c){se.call(r,c)?r[c].push(i):Mt(r,c,[i])});function db(r,i,c,d){r=Ge(r)?r:jn(r),c=c&&!d?X(c):0;var g=r.length;return c<0&&(c=Ae(g+c,0)),Vi(r)?c<=g&&r.indexOf(i,c)>-1:!!g&&kn(r,i,c)>-1}var hb=ee(function(r,i,c){var d=-1,g=typeof i=="function",m=Ge(r)?C(r.length):[];return Zt(r,function(b){m[++d]=g?qe(i,b,c):xr(b,i,c)}),m}),vb=Mi(function(r,i,c){Mt(r,c,i)});function Gi(r,i){var c=J(r)?he:Zc;return c(r,H(i,3))}function gb(r,i,c,d){return r==null?[]:(J(i)||(i=i==null?[]:[i]),c=d?t:c,J(c)||(c=c==null?[]:[c]),ef(r,i,c))}var pb=Mi(function(r,i,c){r[c?0:1].push(i)},function(){return[[],[]]});function yb(r,i,c){var d=J(r)?la:xc,g=arguments.length<3;return d(r,H(i,4),c,g,Zt)}function mb(r,i,c){var d=J(r)?Dy:xc,g=arguments.length<3;return d(r,H(i,4),c,g,Gc)}function _b(r,i){var c=J(r)?qt:Hc;return c(r,qi(H(i,3)))}function bb(r){var i=J(r)?Uc:d1;return i(r)}function wb(r,i,c){(c?Fe(r,i,c):i===t)?i=1:i=X(i);var d=J(r)?Gm:h1;return d(r,i)}function Sb(r){var i=J(r)?Hm:g1;return i(r)}function Eb(r){if(r==null)return 0;if(Ge(r))return Vi(r)?Nn(r):r.length;var i=Pe(r);return i==ht||i==vt?r.size:Da(r).length}function xb(r,i,c){var d=J(r)?da:p1;return c&&Fe(r,i,c)&&(i=t),d(r,H(i,3))}var Ab=ee(function(r,i){if(r==null)return[];var c=i.length;return c>1&&Fe(r,i[0],i[1])?i=[]:c>2&&Fe(i[0],i[1],i[2])&&(i=[i[0]]),ef(r,Re(i,1),[])}),Hi=om||function(){return Ce.Date.now()};function Ib(r,i){if(typeof i!="function")throw new it(f);return r=X(r),function(){if(--r<1)return i.apply(this,arguments)}}function Yf(r,i,c){return i=c?t:i,i=r&&i==null?r.length:i,kt(r,le,t,t,t,t,i)}function Zf(r,i){var c;if(typeof i!="function")throw new it(f);return r=X(r),function(){return--r>0&&(c=i.apply(this,arguments)),r<=1&&(i=t),c}}var es=ee(function(r,i,c){var d=R;if(c.length){var g=Vt(c,Wn(es));d|=Y}return kt(r,d,i,c,g)}),Jf=ee(function(r,i,c){var d=R|B;if(c.length){var g=Vt(c,Wn(Jf));d|=Y}return kt(i,d,r,c,g)});function Xf(r,i,c){i=c?t:i;var d=kt(r,N,t,t,t,t,t,i);return d.placeholder=Xf.placeholder,d}function Qf(r,i,c){i=c?t:i;var d=kt(r,G,t,t,t,t,t,i);return d.placeholder=Qf.placeholder,d}function el(r,i,c){var d,g,m,b,S,A,L=0,P=!1,k=!1,F=!0;if(typeof r!="function")throw new it(f);i=ct(i)||0,ge(c)&&(P=!!c.leading,k="maxWait"in c,m=k?Ae(ct(c.maxWait)||0,i):m,F="trailing"in c?!!c.trailing:F);function K(be){var mt=d,zt=g;return d=g=t,L=be,b=r.apply(zt,mt),b}function W(be){return L=be,S=Rr(ne,i),P?K(be):b}function Q(be){var mt=be-A,zt=be-L,_l=i-mt;return k?Le(_l,m-zt):_l}function q(be){var mt=be-A,zt=be-L;return A===t||mt>=i||mt<0||k&&zt>=m}function ne(){var be=Hi();if(q(be))return ie(be);S=Rr(ne,Q(be))}function ie(be){return S=t,F&&d?K(be):(d=g=t,b)}function Ze(){S!==t&&ff(S),L=0,d=A=g=S=t}function Ue(){return S===t?b:ie(Hi())}function Je(){var be=Hi(),mt=q(be);if(d=arguments,g=this,A=be,mt){if(S===t)return W(A);if(k)return ff(S),S=Rr(ne,i),K(A)}return S===t&&(S=Rr(ne,i)),b}return Je.cancel=Ze,Je.flush=Ue,Je}var Tb=ee(function(r,i){return Kc(r,1,i)}),Cb=ee(function(r,i,c){return Kc(r,ct(i)||0,c)});function Rb(r){return kt(r,Et)}function Wi(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new it(f);var c=function(){var d=arguments,g=i?i.apply(this,d):d[0],m=c.cache;if(m.has(g))return m.get(g);var b=r.apply(this,d);return c.cache=m.set(g,b)||m,b};return c.cache=new(Wi.Cache||Pt),c}Wi.Cache=Pt;function qi(r){if(typeof r!="function")throw new it(f);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function Db(r){return Zf(2,r)}var Ob=y1(function(r,i){i=i.length==1&&J(i[0])?he(i[0],je(H())):he(Re(i,1),je(H()));var c=i.length;return ee(function(d){for(var g=-1,m=Le(d.length,c);++g<m;)d[g]=i[g].call(this,d[g]);return qe(r,this,d)})}),ts=ee(function(r,i){var c=Vt(i,Wn(ts));return kt(r,Y,t,i,c)}),tl=ee(function(r,i){var c=Vt(i,Wn(tl));return kt(r,ve,t,i,c)}),Lb=Bt(function(r,i){return kt(r,Se,t,t,t,i)});function Pb(r,i){if(typeof r!="function")throw new it(f);return i=i===t?i:X(i),ee(r,i)}function Mb(r,i){if(typeof r!="function")throw new it(f);return i=i==null?0:Ae(X(i),0),ee(function(c){var d=c[i],g=Qt(c,0,i);return d&&jt(g,d),qe(r,this,g)})}function kb(r,i,c){var d=!0,g=!0;if(typeof r!="function")throw new it(f);return ge(c)&&(d="leading"in c?!!c.leading:d,g="trailing"in c?!!c.trailing:g),el(r,i,{leading:d,maxWait:i,trailing:g})}function Bb(r){return Yf(r,1)}function Nb(r,i){return ts(Ua(i),r)}function Fb(){if(!arguments.length)return[];var r=arguments[0];return J(r)?r:[r]}function Ub(r){return at(r,w)}function zb(r,i){return i=typeof i=="function"?i:t,at(r,w,i)}function $b(r){return at(r,p|w)}function Kb(r,i){return i=typeof i=="function"?i:t,at(r,p|w,i)}function Gb(r,i){return i==null||$c(r,i,Te(i))}function yt(r,i){return r===i||r!==r&&i!==i}var Hb=Fi(Ta),Wb=Fi(function(r,i){return r>=i}),bn=jc(function(){return arguments}())?jc:function(r){return ye(r)&&se.call(r,"callee")&&!Pc.call(r,"callee")},J=C.isArray,qb=vc?je(vc):e1;function Ge(r){return r!=null&&ji(r.length)&&!Ft(r)}function _e(r){return ye(r)&&Ge(r)}function jb(r){return r===!0||r===!1||ye(r)&&Ne(r)==cr}var en=sm||ds,Vb=gc?je(gc):t1;function Yb(r){return ye(r)&&r.nodeType===1&&!Dr(r)}function Zb(r){if(r==null)return!0;if(Ge(r)&&(J(r)||typeof r=="string"||typeof r.splice=="function"||en(r)||qn(r)||bn(r)))return!r.length;var i=Pe(r);if(i==ht||i==vt)return!r.size;if(Cr(r))return!Da(r).length;for(var c in r)if(se.call(r,c))return!1;return!0}function Jb(r,i){return Ar(r,i)}function Xb(r,i,c){c=typeof c=="function"?c:t;var d=c?c(r,i):t;return d===t?Ar(r,i,t,c):!!d}function ns(r){if(!ye(r))return!1;var i=Ne(r);return i==oi||i==wp||typeof r.message=="string"&&typeof r.name=="string"&&!Dr(r)}function Qb(r){return typeof r=="number"&&kc(r)}function Ft(r){if(!ge(r))return!1;var i=Ne(r);return i==ai||i==Ku||i==bp||i==Ep}function nl(r){return typeof r=="number"&&r==X(r)}function ji(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Wt}function ge(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function ye(r){return r!=null&&typeof r=="object"}var rl=pc?je(pc):r1;function ew(r,i){return r===i||Ra(r,i,qa(i))}function tw(r,i,c){return c=typeof c=="function"?c:t,Ra(r,i,qa(i),c)}function nw(r){return il(r)&&r!=+r}function rw(r){if(z1(r))throw new Z(o);return Vc(r)}function iw(r){return r===null}function ow(r){return r==null}function il(r){return typeof r=="number"||ye(r)&&Ne(r)==lr}function Dr(r){if(!ye(r)||Ne(r)!=Ot)return!1;var i=bi(r);if(i===null)return!0;var c=se.call(i,"constructor")&&i.constructor;return typeof c=="function"&&c instanceof c&&pi.call(c)==tm}var rs=yc?je(yc):i1;function aw(r){return nl(r)&&r>=-Wt&&r<=Wt}var ol=mc?je(mc):o1;function Vi(r){return typeof r=="string"||!J(r)&&ye(r)&&Ne(r)==hr}function Ye(r){return typeof r=="symbol"||ye(r)&&Ne(r)==si}var qn=_c?je(_c):a1;function sw(r){return r===t}function uw(r){return ye(r)&&Pe(r)==vr}function cw(r){return ye(r)&&Ne(r)==Ap}var fw=Fi(Oa),lw=Fi(function(r,i){return r<=i});function al(r){if(!r)return[];if(Ge(r))return Vi(r)?gt(r):Ke(r);if(yr&&r[yr])return Gy(r[yr]());var i=Pe(r),c=i==ht?ma:i==vt?hi:jn;return c(r)}function Ut(r){if(!r)return r===0?r:0;if(r=ct(r),r===ln||r===-ln){var i=r<0?-1:1;return i*pp}return r===r?r:0}function X(r){var i=Ut(r),c=i%1;return i===i?c?i-c:i:0}function sl(r){return r?pn(X(r),0,xt):0}function ct(r){if(typeof r=="number")return r;if(Ye(r))return ri;if(ge(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=ge(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=Ac(r);var c=qp.test(r);return c||Vp.test(r)?Iy(r.slice(2),c?2:8):Wp.test(r)?ri:+r}function ul(r){return It(r,He(r))}function dw(r){return r?pn(X(r),-Wt,Wt):r===0?r:0}function ae(r){return r==null?"":Ve(r)}var hw=Gn(function(r,i){if(Cr(i)||Ge(i)){It(i,Te(i),r);return}for(var c in i)se.call(i,c)&&Sr(r,c,i[c])}),cl=Gn(function(r,i){It(i,He(i),r)}),Yi=Gn(function(r,i,c,d){It(i,He(i),r,d)}),vw=Gn(function(r,i,c,d){It(i,Te(i),r,d)}),gw=Bt(xa);function pw(r,i){var c=Kn(r);return i==null?c:zc(c,i)}var yw=ee(function(r,i){r=ue(r);var c=-1,d=i.length,g=d>2?i[2]:t;for(g&&Fe(i[0],i[1],g)&&(d=1);++c<d;)for(var m=i[c],b=He(m),S=-1,A=b.length;++S<A;){var L=b[S],P=r[L];(P===t||yt(P,Un[L])&&!se.call(r,L))&&(r[L]=m[L])}return r}),mw=ee(function(r){return r.push(t,If),qe(fl,t,r)});function _w(r,i){return wc(r,H(i,3),At)}function bw(r,i){return wc(r,H(i,3),Ia)}function ww(r,i){return r==null?r:Aa(r,H(i,3),He)}function Sw(r,i){return r==null?r:Wc(r,H(i,3),He)}function Ew(r,i){return r&&At(r,H(i,3))}function xw(r,i){return r&&Ia(r,H(i,3))}function Aw(r){return r==null?[]:Di(r,Te(r))}function Iw(r){return r==null?[]:Di(r,He(r))}function is(r,i,c){var d=r==null?t:yn(r,i);return d===t?c:d}function Tw(r,i){return r!=null&&Rf(r,i,Zm)}function os(r,i){return r!=null&&Rf(r,i,Jm)}var Cw=wf(function(r,i,c){i!=null&&typeof i.toString!="function"&&(i=yi.call(i)),r[i]=c},ss(We)),Rw=wf(function(r,i,c){i!=null&&typeof i.toString!="function"&&(i=yi.call(i)),se.call(r,i)?r[i].push(c):r[i]=[c]},H),Dw=ee(xr);function Te(r){return Ge(r)?Fc(r):Da(r)}function He(r){return Ge(r)?Fc(r,!0):s1(r)}function Ow(r,i){var c={};return i=H(i,3),At(r,function(d,g,m){Mt(c,i(d,g,m),d)}),c}function Lw(r,i){var c={};return i=H(i,3),At(r,function(d,g,m){Mt(c,g,i(d,g,m))}),c}var Pw=Gn(function(r,i,c){Oi(r,i,c)}),fl=Gn(function(r,i,c,d){Oi(r,i,c,d)}),Mw=Bt(function(r,i){var c={};if(r==null)return c;var d=!1;i=he(i,function(m){return m=Xt(m,r),d||(d=m.length>1),m}),It(r,Ha(r),c),d&&(c=at(c,p|_|w,C1));for(var g=i.length;g--;)Ba(c,i[g]);return c});function kw(r,i){return ll(r,qi(H(i)))}var Bw=Bt(function(r,i){return r==null?{}:c1(r,i)});function ll(r,i){if(r==null)return{};var c=he(Ha(r),function(d){return[d]});return i=H(i),tf(r,c,function(d,g){return i(d,g[0])})}function Nw(r,i,c){i=Xt(i,r);var d=-1,g=i.length;for(g||(g=1,r=t);++d<g;){var m=r==null?t:r[Tt(i[d])];m===t&&(d=g,m=c),r=Ft(m)?m.call(r):m}return r}function Fw(r,i,c){return r==null?r:Ir(r,i,c)}function Uw(r,i,c,d){return d=typeof d=="function"?d:t,r==null?r:Ir(r,i,c,d)}var dl=xf(Te),hl=xf(He);function zw(r,i,c){var d=J(r),g=d||en(r)||qn(r);if(i=H(i,4),c==null){var m=r&&r.constructor;g?c=d?new m:[]:ge(r)?c=Ft(m)?Kn(bi(r)):{}:c={}}return(g?rt:At)(r,function(b,S,A){return i(c,b,S,A)}),c}function $w(r,i){return r==null?!0:Ba(r,i)}function Kw(r,i,c){return r==null?r:sf(r,i,Ua(c))}function Gw(r,i,c,d){return d=typeof d=="function"?d:t,r==null?r:sf(r,i,Ua(c),d)}function jn(r){return r==null?[]:ya(r,Te(r))}function Hw(r){return r==null?[]:ya(r,He(r))}function Ww(r,i,c){return c===t&&(c=i,i=t),c!==t&&(c=ct(c),c=c===c?c:0),i!==t&&(i=ct(i),i=i===i?i:0),pn(ct(r),i,c)}function qw(r,i,c){return i=Ut(i),c===t?(c=i,i=0):c=Ut(c),r=ct(r),Xm(r,i,c)}function jw(r,i,c){if(c&&typeof c!="boolean"&&Fe(r,i,c)&&(i=c=t),c===t&&(typeof i=="boolean"?(c=i,i=t):typeof r=="boolean"&&(c=r,r=t)),r===t&&i===t?(r=0,i=1):(r=Ut(r),i===t?(i=r,r=0):i=Ut(i)),r>i){var d=r;r=i,i=d}if(c||r%1||i%1){var g=Bc();return Le(r+g*(i-r+Ay("1e-"+((g+"").length-1))),i)}return Pa(r,i)}var Vw=Hn(function(r,i,c){return i=i.toLowerCase(),r+(c?vl(i):i)});function vl(r){return as(ae(r).toLowerCase())}function gl(r){return r=ae(r),r&&r.replace(Zp,Fy).replace(gy,"")}function Yw(r,i,c){r=ae(r),i=Ve(i);var d=r.length;c=c===t?d:pn(X(c),0,d);var g=c;return c-=i.length,c>=0&&r.slice(c,g)==i}function Zw(r){return r=ae(r),r&&Dp.test(r)?r.replace(Wu,Uy):r}function Jw(r){return r=ae(r),r&&Bp.test(r)?r.replace(ta,"\\$&"):r}var Xw=Hn(function(r,i,c){return r+(c?"-":"")+i.toLowerCase()}),Qw=Hn(function(r,i,c){return r+(c?" ":"")+i.toLowerCase()}),eS=mf("toLowerCase");function tS(r,i,c){r=ae(r),i=X(i);var d=i?Nn(r):0;if(!i||d>=i)return r;var g=(i-d)/2;return Ni(xi(g),c)+r+Ni(Ei(g),c)}function nS(r,i,c){r=ae(r),i=X(i);var d=i?Nn(r):0;return i&&d<i?r+Ni(i-d,c):r}function rS(r,i,c){r=ae(r),i=X(i);var d=i?Nn(r):0;return i&&d<i?Ni(i-d,c)+r:r}function iS(r,i,c){return c||i==null?i=0:i&&(i=+i),lm(ae(r).replace(na,""),i||0)}function oS(r,i,c){return(c?Fe(r,i,c):i===t)?i=1:i=X(i),Ma(ae(r),i)}function aS(){var r=arguments,i=ae(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var sS=Hn(function(r,i,c){return r+(c?"_":"")+i.toLowerCase()});function uS(r,i,c){return c&&typeof c!="number"&&Fe(r,i,c)&&(i=c=t),c=c===t?xt:c>>>0,c?(r=ae(r),r&&(typeof i=="string"||i!=null&&!rs(i))&&(i=Ve(i),!i&&Bn(r))?Qt(gt(r),0,c):r.split(i,c)):[]}var cS=Hn(function(r,i,c){return r+(c?" ":"")+as(i)});function fS(r,i,c){return r=ae(r),c=c==null?0:pn(X(c),0,r.length),i=Ve(i),r.slice(c,c+i.length)==i}function lS(r,i,c){var d=y.templateSettings;c&&Fe(r,i,c)&&(i=t),r=ae(r),i=Yi({},i,d,Af);var g=Yi({},i.imports,d.imports,Af),m=Te(g),b=ya(g,m),S,A,L=0,P=i.interpolate||ui,k="__p += '",F=_a((i.escape||ui).source+"|"+P.source+"|"+(P===qu?Hp:ui).source+"|"+(i.evaluate||ui).source+"|$","g"),K="//# sourceURL="+(se.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++by+"]")+`
`;r.replace(F,function(q,ne,ie,Ze,Ue,Je){return ie||(ie=Ze),k+=r.slice(L,Je).replace(Jp,zy),ne&&(S=!0,k+=`' +
__e(`+ne+`) +
'`),Ue&&(A=!0,k+=`';
`+Ue+`;
__p += '`),ie&&(k+=`' +
((__t = (`+ie+`)) == null ? '' : __t) +
'`),L=Je+q.length,q}),k+=`';
`;var W=se.call(i,"variable")&&i.variable;if(!W)k=`with (obj) {
`+k+`
}
`;else if(Kp.test(W))throw new Z(l);k=(A?k.replace(Ip,""):k).replace(Tp,"$1").replace(Cp,"$1;"),k="function("+(W||"obj")+`) {
`+(W?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+k+`return __p
}`;var Q=yl(function(){return oe(m,K+"return "+k).apply(t,b)});if(Q.source=k,ns(Q))throw Q;return Q}function dS(r){return ae(r).toLowerCase()}function hS(r){return ae(r).toUpperCase()}function vS(r,i,c){if(r=ae(r),r&&(c||i===t))return Ac(r);if(!r||!(i=Ve(i)))return r;var d=gt(r),g=gt(i),m=Ic(d,g),b=Tc(d,g)+1;return Qt(d,m,b).join("")}function gS(r,i,c){if(r=ae(r),r&&(c||i===t))return r.slice(0,Rc(r)+1);if(!r||!(i=Ve(i)))return r;var d=gt(r),g=Tc(d,gt(i))+1;return Qt(d,0,g).join("")}function pS(r,i,c){if(r=ae(r),r&&(c||i===t))return r.replace(na,"");if(!r||!(i=Ve(i)))return r;var d=gt(r),g=Ic(d,gt(i));return Qt(d,g).join("")}function yS(r,i){var c=ni,d=Ht;if(ge(i)){var g="separator"in i?i.separator:g;c="length"in i?X(i.length):c,d="omission"in i?Ve(i.omission):d}r=ae(r);var m=r.length;if(Bn(r)){var b=gt(r);m=b.length}if(c>=m)return r;var S=c-Nn(d);if(S<1)return d;var A=b?Qt(b,0,S).join(""):r.slice(0,S);if(g===t)return A+d;if(b&&(S+=A.length-S),rs(g)){if(r.slice(S).search(g)){var L,P=A;for(g.global||(g=_a(g.source,ae(ju.exec(g))+"g")),g.lastIndex=0;L=g.exec(P);)var k=L.index;A=A.slice(0,k===t?S:k)}}else if(r.indexOf(Ve(g),S)!=S){var F=A.lastIndexOf(g);F>-1&&(A=A.slice(0,F))}return A+d}function mS(r){return r=ae(r),r&&Rp.test(r)?r.replace(Hu,jy):r}var _S=Hn(function(r,i,c){return r+(c?" ":"")+i.toUpperCase()}),as=mf("toUpperCase");function pl(r,i,c){return r=ae(r),i=c?t:i,i===t?Ky(r)?Zy(r):Py(r):r.match(i)||[]}var yl=ee(function(r,i){try{return qe(r,t,i)}catch(c){return ns(c)?c:new Z(c)}}),bS=Bt(function(r,i){return rt(i,function(c){c=Tt(c),Mt(r,c,es(r[c],r))}),r});function wS(r){var i=r==null?0:r.length,c=H();return r=i?he(r,function(d){if(typeof d[1]!="function")throw new it(f);return[c(d[0]),d[1]]}):[],ee(function(d){for(var g=-1;++g<i;){var m=r[g];if(qe(m[0],this,d))return qe(m[1],this,d)}})}function SS(r){return jm(at(r,p))}function ss(r){return function(){return r}}function ES(r,i){return r==null||r!==r?i:r}var xS=bf(),AS=bf(!0);function We(r){return r}function us(r){return Yc(typeof r=="function"?r:at(r,p))}function IS(r){return Jc(at(r,p))}function TS(r,i){return Xc(r,at(i,p))}var CS=ee(function(r,i){return function(c){return xr(c,r,i)}}),RS=ee(function(r,i){return function(c){return xr(r,c,i)}});function cs(r,i,c){var d=Te(i),g=Di(i,d);c==null&&!(ge(i)&&(g.length||!d.length))&&(c=i,i=r,r=this,g=Di(i,Te(i)));var m=!(ge(c)&&"chain"in c)||!!c.chain,b=Ft(r);return rt(g,function(S){var A=i[S];r[S]=A,b&&(r.prototype[S]=function(){var L=this.__chain__;if(m||L){var P=r(this.__wrapped__),k=P.__actions__=Ke(this.__actions__);return k.push({func:A,args:arguments,thisArg:r}),P.__chain__=L,P}return A.apply(r,jt([this.value()],arguments))})}),r}function DS(){return Ce._===this&&(Ce._=nm),this}function fs(){}function OS(r){return r=X(r),ee(function(i){return Qc(i,r)})}var LS=$a(he),PS=$a(bc),MS=$a(da);function ml(r){return Va(r)?ha(Tt(r)):f1(r)}function kS(r){return function(i){return r==null?t:yn(r,i)}}var BS=Sf(),NS=Sf(!0);function ls(){return[]}function ds(){return!1}function FS(){return{}}function US(){return""}function zS(){return!0}function $S(r,i){if(r=X(r),r<1||r>Wt)return[];var c=xt,d=Le(r,xt);i=H(i),r-=xt;for(var g=pa(d,i);++c<r;)i(c);return g}function KS(r){return J(r)?he(r,Tt):Ye(r)?[r]:Ke(Ff(ae(r)))}function GS(r){var i=++em;return ae(r)+i}var HS=Bi(function(r,i){return r+i},0),WS=Ka("ceil"),qS=Bi(function(r,i){return r/i},1),jS=Ka("floor");function VS(r){return r&&r.length?Ri(r,We,Ta):t}function YS(r,i){return r&&r.length?Ri(r,H(i,2),Ta):t}function ZS(r){return Ec(r,We)}function JS(r,i){return Ec(r,H(i,2))}function XS(r){return r&&r.length?Ri(r,We,Oa):t}function QS(r,i){return r&&r.length?Ri(r,H(i,2),Oa):t}var eE=Bi(function(r,i){return r*i},1),tE=Ka("round"),nE=Bi(function(r,i){return r-i},0);function rE(r){return r&&r.length?ga(r,We):0}function iE(r,i){return r&&r.length?ga(r,H(i,2)):0}return y.after=Ib,y.ary=Yf,y.assign=hw,y.assignIn=cl,y.assignInWith=Yi,y.assignWith=vw,y.at=gw,y.before=Zf,y.bind=es,y.bindAll=bS,y.bindKey=Jf,y.castArray=Fb,y.chain=qf,y.chunk=j1,y.compact=V1,y.concat=Y1,y.cond=wS,y.conforms=SS,y.constant=ss,y.countBy=rb,y.create=pw,y.curry=Xf,y.curryRight=Qf,y.debounce=el,y.defaults=yw,y.defaultsDeep=mw,y.defer=Tb,y.delay=Cb,y.difference=Z1,y.differenceBy=J1,y.differenceWith=X1,y.drop=Q1,y.dropRight=e_,y.dropRightWhile=t_,y.dropWhile=n_,y.fill=r_,y.filter=ob,y.flatMap=ub,y.flatMapDeep=cb,y.flatMapDepth=fb,y.flatten=Kf,y.flattenDeep=i_,y.flattenDepth=o_,y.flip=Rb,y.flow=xS,y.flowRight=AS,y.fromPairs=a_,y.functions=Aw,y.functionsIn=Iw,y.groupBy=lb,y.initial=u_,y.intersection=c_,y.intersectionBy=f_,y.intersectionWith=l_,y.invert=Cw,y.invertBy=Rw,y.invokeMap=hb,y.iteratee=us,y.keyBy=vb,y.keys=Te,y.keysIn=He,y.map=Gi,y.mapKeys=Ow,y.mapValues=Lw,y.matches=IS,y.matchesProperty=TS,y.memoize=Wi,y.merge=Pw,y.mergeWith=fl,y.method=CS,y.methodOf=RS,y.mixin=cs,y.negate=qi,y.nthArg=OS,y.omit=Mw,y.omitBy=kw,y.once=Db,y.orderBy=gb,y.over=LS,y.overArgs=Ob,y.overEvery=PS,y.overSome=MS,y.partial=ts,y.partialRight=tl,y.partition=pb,y.pick=Bw,y.pickBy=ll,y.property=ml,y.propertyOf=kS,y.pull=g_,y.pullAll=Hf,y.pullAllBy=p_,y.pullAllWith=y_,y.pullAt=m_,y.range=BS,y.rangeRight=NS,y.rearg=Lb,y.reject=_b,y.remove=__,y.rest=Pb,y.reverse=Xa,y.sampleSize=wb,y.set=Fw,y.setWith=Uw,y.shuffle=Sb,y.slice=b_,y.sortBy=Ab,y.sortedUniq=T_,y.sortedUniqBy=C_,y.split=uS,y.spread=Mb,y.tail=R_,y.take=D_,y.takeRight=O_,y.takeRightWhile=L_,y.takeWhile=P_,y.tap=V_,y.throttle=kb,y.thru=Ki,y.toArray=al,y.toPairs=dl,y.toPairsIn=hl,y.toPath=KS,y.toPlainObject=ul,y.transform=zw,y.unary=Bb,y.union=M_,y.unionBy=k_,y.unionWith=B_,y.uniq=N_,y.uniqBy=F_,y.uniqWith=U_,y.unset=$w,y.unzip=Qa,y.unzipWith=Wf,y.update=Kw,y.updateWith=Gw,y.values=jn,y.valuesIn=Hw,y.without=z_,y.words=pl,y.wrap=Nb,y.xor=$_,y.xorBy=K_,y.xorWith=G_,y.zip=H_,y.zipObject=W_,y.zipObjectDeep=q_,y.zipWith=j_,y.entries=dl,y.entriesIn=hl,y.extend=cl,y.extendWith=Yi,cs(y,y),y.add=HS,y.attempt=yl,y.camelCase=Vw,y.capitalize=vl,y.ceil=WS,y.clamp=Ww,y.clone=Ub,y.cloneDeep=$b,y.cloneDeepWith=Kb,y.cloneWith=zb,y.conformsTo=Gb,y.deburr=gl,y.defaultTo=ES,y.divide=qS,y.endsWith=Yw,y.eq=yt,y.escape=Zw,y.escapeRegExp=Jw,y.every=ib,y.find=ab,y.findIndex=zf,y.findKey=_w,y.findLast=sb,y.findLastIndex=$f,y.findLastKey=bw,y.floor=jS,y.forEach=jf,y.forEachRight=Vf,y.forIn=ww,y.forInRight=Sw,y.forOwn=Ew,y.forOwnRight=xw,y.get=is,y.gt=Hb,y.gte=Wb,y.has=Tw,y.hasIn=os,y.head=Gf,y.identity=We,y.includes=db,y.indexOf=s_,y.inRange=qw,y.invoke=Dw,y.isArguments=bn,y.isArray=J,y.isArrayBuffer=qb,y.isArrayLike=Ge,y.isArrayLikeObject=_e,y.isBoolean=jb,y.isBuffer=en,y.isDate=Vb,y.isElement=Yb,y.isEmpty=Zb,y.isEqual=Jb,y.isEqualWith=Xb,y.isError=ns,y.isFinite=Qb,y.isFunction=Ft,y.isInteger=nl,y.isLength=ji,y.isMap=rl,y.isMatch=ew,y.isMatchWith=tw,y.isNaN=nw,y.isNative=rw,y.isNil=ow,y.isNull=iw,y.isNumber=il,y.isObject=ge,y.isObjectLike=ye,y.isPlainObject=Dr,y.isRegExp=rs,y.isSafeInteger=aw,y.isSet=ol,y.isString=Vi,y.isSymbol=Ye,y.isTypedArray=qn,y.isUndefined=sw,y.isWeakMap=uw,y.isWeakSet=cw,y.join=d_,y.kebabCase=Xw,y.last=ut,y.lastIndexOf=h_,y.lowerCase=Qw,y.lowerFirst=eS,y.lt=fw,y.lte=lw,y.max=VS,y.maxBy=YS,y.mean=ZS,y.meanBy=JS,y.min=XS,y.minBy=QS,y.stubArray=ls,y.stubFalse=ds,y.stubObject=FS,y.stubString=US,y.stubTrue=zS,y.multiply=eE,y.nth=v_,y.noConflict=DS,y.noop=fs,y.now=Hi,y.pad=tS,y.padEnd=nS,y.padStart=rS,y.parseInt=iS,y.random=jw,y.reduce=yb,y.reduceRight=mb,y.repeat=oS,y.replace=aS,y.result=Nw,y.round=tE,y.runInContext=x,y.sample=bb,y.size=Eb,y.snakeCase=sS,y.some=xb,y.sortedIndex=w_,y.sortedIndexBy=S_,y.sortedIndexOf=E_,y.sortedLastIndex=x_,y.sortedLastIndexBy=A_,y.sortedLastIndexOf=I_,y.startCase=cS,y.startsWith=fS,y.subtract=nE,y.sum=rE,y.sumBy=iE,y.template=lS,y.times=$S,y.toFinite=Ut,y.toInteger=X,y.toLength=sl,y.toLower=dS,y.toNumber=ct,y.toSafeInteger=dw,y.toString=ae,y.toUpper=hS,y.trim=vS,y.trimEnd=gS,y.trimStart=pS,y.truncate=yS,y.unescape=mS,y.uniqueId=GS,y.upperCase=_S,y.upperFirst=as,y.each=jf,y.eachRight=Vf,y.first=Gf,cs(y,function(){var r={};return At(y,function(i,c){se.call(y.prototype,c)||(r[c]=i)}),r}(),{chain:!1}),y.VERSION=a,rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),rt(["drop","take"],function(r,i){re.prototype[r]=function(c){c=c===t?1:Ae(X(c),0);var d=this.__filtered__&&!i?new re(this):this.clone();return d.__filtered__?d.__takeCount__=Le(c,d.__takeCount__):d.__views__.push({size:Le(c,xt),type:r+(d.__dir__<0?"Right":"")}),d},re.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),rt(["filter","map","takeWhile"],function(r,i){var c=i+1,d=c==$u||c==gp;re.prototype[r]=function(g){var m=this.clone();return m.__iteratees__.push({iteratee:H(g,3),type:c}),m.__filtered__=m.__filtered__||d,m}}),rt(["head","last"],function(r,i){var c="take"+(i?"Right":"");re.prototype[r]=function(){return this[c](1).value()[0]}}),rt(["initial","tail"],function(r,i){var c="drop"+(i?"":"Right");re.prototype[r]=function(){return this.__filtered__?new re(this):this[c](1)}}),re.prototype.compact=function(){return this.filter(We)},re.prototype.find=function(r){return this.filter(r).head()},re.prototype.findLast=function(r){return this.reverse().find(r)},re.prototype.invokeMap=ee(function(r,i){return typeof r=="function"?new re(this):this.map(function(c){return xr(c,r,i)})}),re.prototype.reject=function(r){return this.filter(qi(H(r)))},re.prototype.slice=function(r,i){r=X(r);var c=this;return c.__filtered__&&(r>0||i<0)?new re(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),i!==t&&(i=X(i),c=i<0?c.dropRight(-i):c.take(i-r)),c)},re.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},re.prototype.toArray=function(){return this.take(xt)},At(re.prototype,function(r,i){var c=/^(?:filter|find|map|reject)|While$/.test(i),d=/^(?:head|last)$/.test(i),g=y[d?"take"+(i=="last"?"Right":""):i],m=d||/^find/.test(i);g&&(y.prototype[i]=function(){var b=this.__wrapped__,S=d?[1]:arguments,A=b instanceof re,L=S[0],P=A||J(b),k=function(ne){var ie=g.apply(y,jt([ne],S));return d&&F?ie[0]:ie};P&&c&&typeof L=="function"&&L.length!=1&&(A=P=!1);var F=this.__chain__,K=!!this.__actions__.length,W=m&&!F,Q=A&&!K;if(!m&&P){b=Q?b:new re(this);var q=r.apply(b,S);return q.__actions__.push({func:Ki,args:[k],thisArg:t}),new ot(q,F)}return W&&Q?r.apply(this,S):(q=this.thru(k),W?d?q.value()[0]:q.value():q)})}),rt(["pop","push","shift","sort","splice","unshift"],function(r){var i=vi[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var g=arguments;if(d&&!this.__chain__){var m=this.value();return i.apply(J(m)?m:[],g)}return this[c](function(b){return i.apply(J(b)?b:[],g)})}}),At(re.prototype,function(r,i){var c=y[i];if(c){var d=c.name+"";se.call($n,d)||($n[d]=[]),$n[d].push({name:i,func:c})}}),$n[ki(t,B).name]=[{name:"wrapper",func:t}],re.prototype.clone=mm,re.prototype.reverse=_m,re.prototype.value=bm,y.prototype.at=Y_,y.prototype.chain=Z_,y.prototype.commit=J_,y.prototype.next=X_,y.prototype.plant=eb,y.prototype.reverse=tb,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=nb,y.prototype.first=y.prototype.head,yr&&(y.prototype[yr]=Q_),y},Fn=Jy();dn?((dn.exports=Fn)._=Fn,ua._=Fn):Ce._=Fn}).call(Or)})(Eo,Eo.exports);var DO=Eo.exports;Gr.addPluggable(new RO);Xr.configure({Auth:{region:"us-east-1",identityPoolId:"us-east-1:bbcf54d3-1bed-4b71-86b9-d670f0346c3d",identityPoolRegion:"us-east-1",userPoolId:"us-east-1_wDJUjjmlk",userPoolWebClientId:"7poa48vl616o5tduesisuuceh4"},Analytics:{AWSKinesisFirehose:{region:"us-east-1"}}});const OO=e=>{const n=document.getElementsByClassName(e)[0];return n==null?void 0:n.textContent},Ns={email:OO("hook5")||Math.random().toString(36).slice(2)};function LO(){const e=videojs("html-player-0"),n=a=>{const s=function(){const o=document.querySelector("#amazon-ivs-videojs");o.addEventListener("click",()=>{e.paused()?o.classList.remove("vjs-has-started"):o.classList.add("vjs-has-started")}),e.volume(.5),e.src(a.videoSrc),e.poster(a.videoPoster),e.one("play",()=>{console.log("first play"),Gr.record({data:{event:"first-play",secondsWatched:"0",when:Date.now(),userId:Ns.email},partitionKey:"noop",streamName:"pesummit-0728-vod"},"AWSKinesisFirehose")});let f=0,l=0,v=null;const u=DO.throttle(()=>{const h=`${l.toFixed(2)}`;Gr.record({data:{event:"track",secondsWatched:h,when:Date.now(),userId:Ns.email},partitionKey:"noop",streamName:"pesummit-0728-vod"},"AWSKinesisFirehose")},10*1e3,{leading:!1,trailing:!0});e.on("timeupdate",function(){f=l,l=e.currentTime(),u()}),e.on("seeking",function(){v===null&&(v=f)}),e.on("seeked",function(){v=null,Gr.record({data:{event:"seeked",seekedFrom:`${(v||0).toFixed(2)}`,seekedTo:`${l.toFixed(2)}`,when:Date.now(),userId:Ns.email},partitionKey:"noop",streamName:"pesummit-0728-vod"},"AWSKinesisFirehose")})};e.ready(s)};n({videoSrc:e.currentSrc(),videoPoster:e.poster()}),document.querySelectorAll(".swiper-wrapper a").forEach(a=>{a.addEventListener("click",()=>{const s=e.currentSrc(),o=e.poster();console.log("video click: ",a),n({videoSrc:a.attributes.videourl.value,videoPoster:a.children[0].style.backgroundImage}),a.attributes.videourl.value=s,a.children[0].style.backgroundImage=o})})}var Tg=0;setInterval(function(){document.getElementById("html-player-0")&&Tg==0&&(LO(),Tg++)},500);setInterval(()=>{let e=document.querySelector(".vjs-menu-item.vjs-captions-menu-item > span.vjs-menu-item-text");e&&(e.innerHTML=e.innerHTML.replace("cc1","English"))},30*1e3);
